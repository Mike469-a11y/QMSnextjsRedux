var Jd=e=>{throw TypeError(e)};var Gl=(e,t,n)=>t.has(e)||Jd("Cannot "+n);var V=(e,t,n)=>(Gl(e,t,"read from private field"),n?n.call(e):t.get(e)),_e=(e,t,n)=>t.has(e)?Jd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ce=(e,t,n,r)=>(Gl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Et=(e,t,n)=>(Gl(e,t,"access private method"),n);var ci=(e,t,n,r)=>({set _(a){Ce(e,t,a,n)},get _(){return V(e,t,r)}});function ah(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function ih(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lh={exports:{}},Sl={},oh={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=Symbol.for("react.element"),ov=Symbol.for("react.portal"),cv=Symbol.for("react.fragment"),dv=Symbol.for("react.strict_mode"),uv=Symbol.for("react.profiler"),mv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),fv=Symbol.for("react.forward_ref"),pv=Symbol.for("react.suspense"),vv=Symbol.for("react.memo"),gv=Symbol.for("react.lazy"),Xd=Symbol.iterator;function xv(e){return e===null||typeof e!="object"?null:(e=Xd&&e[Xd]||e["@@iterator"],typeof e=="function"?e:null)}var ch={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dh=Object.assign,uh={};function Xr(e,t,n){this.props=e,this.context=t,this.refs=uh,this.updater=n||ch}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mh(){}mh.prototype=Xr.prototype;function Uc(e,t,n){this.props=e,this.context=t,this.refs=uh,this.updater=n||ch}var $c=Uc.prototype=new mh;$c.constructor=Uc;dh($c,Xr.prototype);$c.isPureReactComponent=!0;var Zd=Array.isArray,hh=Object.prototype.hasOwnProperty,Bc={current:null},fh={key:!0,ref:!0,__self:!0,__source:!0};function ph(e,t,n){var r,a={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)hh.call(t,r)&&!fh.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:ti,type:e,key:i,ref:l,props:a,_owner:Bc.current}}function jv(e,t){return{$$typeof:ti,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ti}function Nv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eu=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nv(""+e.key):t.toString(36)}function Ri(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ti:case ov:l=!0}}if(l)return l=e,a=a(l),e=r===""?"."+Yl(l,0):r,Zd(a)?(n="",e!=null&&(n=e.replace(eu,"$&/")+"/"),Ri(a,t,n,"",function(u){return u})):a!=null&&(zc(a)&&(a=jv(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(eu,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=r===""?".":r+":",Zd(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Yl(i,o);l+=Ri(i,t,n,c,a)}else if(c=xv(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Yl(i,o++),l+=Ri(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function di(e,t,n){if(e==null)return e;var r=[],a=0;return Ri(e,r,"","",function(i){return t.call(n,i,a++)}),r}function yv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},Ii={transition:null},bv={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Ii,ReactCurrentOwner:Bc};function vh(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:di,forEach:function(e,t,n){di(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return di(e,function(){t++}),t},toArray:function(e){return di(e,function(t){return t})||[]},only:function(e){if(!zc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Xr;Pe.Fragment=cv;Pe.Profiler=uv;Pe.PureComponent=Uc;Pe.StrictMode=dv;Pe.Suspense=pv;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv;Pe.act=vh;Pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dh({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Bc.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)hh.call(t,c)&&!fh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:ti,type:e.type,key:a,ref:i,props:r,_owner:l}};Pe.createContext=function(e){return e={$$typeof:hv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mv,_context:e},e.Consumer=e};Pe.createElement=ph;Pe.createFactory=function(e){var t=ph.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:fv,render:e}};Pe.isValidElement=zc;Pe.lazy=function(e){return{$$typeof:gv,_payload:{_status:-1,_result:e},_init:yv}};Pe.memo=function(e,t){return{$$typeof:vv,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=Ii.transition;Ii.transition={};try{e()}finally{Ii.transition=t}};Pe.unstable_act=vh;Pe.useCallback=function(e,t){return $t.current.useCallback(e,t)};Pe.useContext=function(e){return $t.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return $t.current.useEffect(e,t)};Pe.useId=function(){return $t.current.useId()};Pe.useImperativeHandle=function(e,t,n){return $t.current.useImperativeHandle(e,t,n)};Pe.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return $t.current.useMemo(e,t)};Pe.useReducer=function(e,t,n){return $t.current.useReducer(e,t,n)};Pe.useRef=function(e){return $t.current.useRef(e)};Pe.useState=function(e){return $t.current.useState(e)};Pe.useSyncExternalStore=function(e,t,n){return $t.current.useSyncExternalStore(e,t,n)};Pe.useTransition=function(){return $t.current.useTransition()};Pe.version="18.3.1";oh.exports=Pe;var w=oh.exports;const kl=ih(w),wv=ah({__proto__:null,default:kl},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv=w,kv=Symbol.for("react.element"),Cv=Symbol.for("react.fragment"),Ev=Object.prototype.hasOwnProperty,Dv=Sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Av={key:!0,ref:!0,__self:!0,__source:!0};function gh(e,t,n){var r,a={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Ev.call(t,r)&&!Av.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:kv,type:e,key:i,ref:l,props:a,_owner:Dv.current}}Sl.Fragment=Cv;Sl.jsx=gh;Sl.jsxs=gh;lh.exports=Sl;var s=lh.exports,Lo={},xh={exports:{}},as={},jh={exports:{}},Nh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,Z){var le=$.length;$.push(Z);e:for(;0<le;){var ge=le-1>>>1,Ne=$[ge];if(0<a(Ne,Z))$[ge]=Z,$[le]=Ne,le=ge;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],le=$.pop();if(le!==Z){$[0]=le;e:for(var ge=0,Ne=$.length,Y=Ne>>>1;ge<Y;){var H=2*(ge+1)-1,K=$[H],ee=H+1,fe=$[ee];if(0>a(K,le))ee<Ne&&0>a(fe,K)?($[ge]=fe,$[ee]=le,ge=ee):($[ge]=K,$[H]=le,ge=H);else if(ee<Ne&&0>a(fe,le))$[ge]=fe,$[ee]=le,ge=ee;else break e}}return Z}function a($,Z){var le=$.sortIndex-Z.sortIndex;return le!==0?le:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],h=1,m=null,d=3,y=!1,C=!1,g=!1,F=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j($){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=$)r(u),Z.sortIndex=Z.expirationTime,t(c,Z);else break;Z=n(u)}}function E($){if(g=!1,j($),!C)if(n(c)!==null)C=!0,re(R);else{var Z=n(u);Z!==null&&ue(E,Z.startTime-$)}}function R($,Z){C=!1,g&&(g=!1,p(v),v=-1),y=!0;var le=d;try{for(j(Z),m=n(c);m!==null&&(!(m.expirationTime>Z)||$&&!L());){var ge=m.callback;if(typeof ge=="function"){m.callback=null,d=m.priorityLevel;var Ne=ge(m.expirationTime<=Z);Z=e.unstable_now(),typeof Ne=="function"?m.callback=Ne:m===n(c)&&r(c),j(Z)}else r(c);m=n(c)}if(m!==null)var Y=!0;else{var H=n(u);H!==null&&ue(E,H.startTime-Z),Y=!1}return Y}finally{m=null,d=le,y=!1}}var N=!1,x=null,v=-1,S=5,D=-1;function L(){return!(e.unstable_now()-D<S)}function B(){if(x!==null){var $=e.unstable_now();D=$;var Z=!0;try{Z=x(!0,$)}finally{Z?ne():(N=!1,x=null)}}else N=!1}var ne;if(typeof f=="function")ne=function(){f(B)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,q=je.port2;je.port1.onmessage=B,ne=function(){q.postMessage(null)}}else ne=function(){F(B,0)};function re($){x=$,N||(N=!0,ne())}function ue($,Z){v=F(function(){$(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){C||y||(C=!0,re(R))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var le=d;d=Z;try{return $()}finally{d=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=d;d=$;try{return Z()}finally{d=le}},e.unstable_scheduleCallback=function($,Z,le){var ge=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ge+le:ge):le=ge,$){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=le+Ne,$={id:h++,callback:Z,priorityLevel:$,startTime:le,expirationTime:Ne,sortIndex:-1},le>ge?($.sortIndex=le,t(u,$),n(c)===null&&$===n(u)&&(g?(p(v),v=-1):g=!0,ue(E,le-ge))):($.sortIndex=Ne,t(c,$),C||y||(C=!0,re(R))),$},e.unstable_shouldYield=L,e.unstable_wrapCallback=function($){var Z=d;return function(){var le=d;d=Z;try{return $.apply(this,arguments)}finally{d=le}}}})(Nh);jh.exports=Nh;var Pv=jh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=w,ss=Pv;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yh=new Set,Aa={};function ur(e,t){qr(e,t),qr(e+"Capture",t)}function qr(e,t){for(Aa[e]=t,e=0;e<t.length;e++)yh.add(t[e])}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=Object.prototype.hasOwnProperty,Rv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tu={},su={};function Iv(e){return Fo.call(su,e)?!0:Fo.call(tu,e)?!1:Rv.test(e)?su[e]=!0:(tu[e]=!0,!1)}function Lv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fv(e,t,n,r){if(t===null||typeof t>"u"||Lv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,n,r,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qc=/[\-:]([a-z])/g;function Vc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qc,Vc);St[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qc,Vc);St[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qc,Vc);St[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qc(e,t,n,r){var a=St.hasOwnProperty(t)?St[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fv(t,n,a,r)&&(n=null),r||a===null?Iv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=Tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ui=Symbol.for("react.element"),gr=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),Wc=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),Hc=Symbol.for("react.forward_ref"),Oo=Symbol.for("react.suspense"),_o=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),Sh=Symbol.for("react.offscreen"),nu=Symbol.iterator;function na(e){return e===null||typeof e!="object"?null:(e=nu&&e[nu]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,Jl;function fa(e){if(Jl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jl=t&&t[1]||""}return`
`+Jl+e}var Xl=!1;function Zl(e,t){if(!e||Xl)return"";Xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Xl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fa(e):""}function Mv(e){switch(e.tag){case 5:return fa(e.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return e=Zl(e.type,!1),e;case 11:return e=Zl(e.type.render,!1),e;case 1:return e=Zl(e.type,!0),e;default:return""}}function Uo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case gr:return"Portal";case Mo:return"Profiler";case Wc:return"StrictMode";case Oo:return"Suspense";case _o:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wh:return(e.displayName||"Context")+".Consumer";case bh:return(e._context.displayName||"Context")+".Provider";case Hc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kc:return t=e.displayName||null,t!==null?t:Uo(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return Uo(e(t))}catch{}}return null}function Ov(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uo(t);case 8:return t===Wc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function An(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _v(e){var t=kh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mi(e){e._valueTracker||(e._valueTracker=_v(e))}function Ch(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $o(e,t){var n=t.checked;return nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ru(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=An(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Eh(e,t){t=t.checked,t!=null&&Qc(e,"checked",t,!1)}function Bo(e,t){Eh(e,t);var n=An(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zo(e,t.type,n):t.hasOwnProperty("defaultValue")&&zo(e,t.type,An(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function au(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zo(e,t,n){(t!=="number"||Qi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pa=Array.isArray;function Ar(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+An(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function qo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(pa(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:An(n)}}function Dh(e,t){var n=An(t.value),r=An(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ah(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ah(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hi,Ph=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hi=hi||document.createElement("div"),hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uv=["Webkit","ms","Moz","O"];Object.keys(Na).forEach(function(e){Uv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Na[t]=Na[e]})});function Th(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Na.hasOwnProperty(e)&&Na[e]?(""+t).trim():t+"px"}function Rh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Th(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var $v=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qo(e,t){if(t){if($v[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=null;function Gc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ko=null,Pr=null,Tr=null;function ou(e){if(e=ri(e)){if(typeof Ko!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Pl(t),Ko(e.stateNode,e.type,t))}}function Ih(e){Pr?Tr?Tr.push(e):Tr=[e]:Pr=e}function Lh(){if(Pr){var e=Pr,t=Tr;if(Tr=Pr=null,ou(e),t)for(e=0;e<t.length;e++)ou(t[e])}}function Fh(e,t){return e(t)}function Mh(){}var eo=!1;function Oh(e,t,n){if(eo)return e(t,n);eo=!0;try{return Fh(e,t,n)}finally{eo=!1,(Pr!==null||Tr!==null)&&(Mh(),Lh())}}function Ta(e,t){var n=e.stateNode;if(n===null)return null;var r=Pl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var Go=!1;if(Ys)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Go=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Go=!1}function Bv(e,t,n,r,a,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var ya=!1,Wi=null,Hi=!1,Yo=null,zv={onError:function(e){ya=!0,Wi=e}};function qv(e,t,n,r,a,i,l,o,c){ya=!1,Wi=null,Bv.apply(zv,arguments)}function Vv(e,t,n,r,a,i,l,o,c){if(qv.apply(this,arguments),ya){if(ya){var u=Wi;ya=!1,Wi=null}else throw Error(J(198));Hi||(Hi=!0,Yo=u)}}function mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cu(e){if(mr(e)!==e)throw Error(J(188))}function Qv(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return cu(a),e;if(i===r)return cu(a),t;i=i.sibling}throw Error(J(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,o=a.child;o;){if(o===n){l=!0,n=a,r=i;break}if(o===r){l=!0,r=a,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=a;break}if(o===r){l=!0,r=i,n=a;break}o=o.sibling}if(!l)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function Uh(e){return e=Qv(e),e!==null?$h(e):null}function $h(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$h(e);if(t!==null)return t;e=e.sibling}return null}var Bh=ss.unstable_scheduleCallback,du=ss.unstable_cancelCallback,Wv=ss.unstable_shouldYield,Hv=ss.unstable_requestPaint,ct=ss.unstable_now,Kv=ss.unstable_getCurrentPriorityLevel,Yc=ss.unstable_ImmediatePriority,zh=ss.unstable_UserBlockingPriority,Ki=ss.unstable_NormalPriority,Gv=ss.unstable_LowPriority,qh=ss.unstable_IdlePriority,Cl=null,Os=null;function Yv(e){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(Cl,e,void 0,(e.current.flags&128)===128)}catch{}}var ks=Math.clz32?Math.clz32:Zv,Jv=Math.log,Xv=Math.LN2;function Zv(e){return e>>>=0,e===0?32:31-(Jv(e)/Xv|0)|0}var fi=64,pi=4194304;function va(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~a;o!==0?r=va(o):(i&=l,i!==0&&(r=va(i)))}else l=n&~a,l!==0?r=va(l):i!==0&&(r=va(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ks(t),a=1<<n,r|=e[n],t&=~a;return r}function eg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ks(i),o=1<<l,c=a[l];c===-1?(!(o&n)||o&r)&&(a[l]=eg(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vh(){var e=fi;return fi<<=1,!(fi&4194240)&&(fi=64),e}function to(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ks(t),e[t]=n}function sg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ks(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Jc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ks(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Ve=0;function Qh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wh,Xc,Hh,Kh,Gh,Xo=!1,vi=[],yn=null,bn=null,wn=null,Ra=new Map,Ia=new Map,un=[],ng="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(t.pointerId)}}function aa(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ri(t),t!==null&&Xc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function rg(e,t,n,r,a){switch(t){case"focusin":return yn=aa(yn,e,t,n,r,a),!0;case"dragenter":return bn=aa(bn,e,t,n,r,a),!0;case"mouseover":return wn=aa(wn,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ra.set(i,aa(Ra.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ia.set(i,aa(Ia.get(i)||null,e,t,n,r,a)),!0}return!1}function Yh(e){var t=Qn(e.target);if(t!==null){var n=mr(t);if(n!==null){if(t=n.tag,t===13){if(t=_h(n),t!==null){e.blockedOn=t,Gh(e.priority,function(){Hh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ho=r,n.target.dispatchEvent(r),Ho=null}else return t=ri(n),t!==null&&Xc(t),e.blockedOn=n,!1;t.shift()}return!0}function mu(e,t,n){Li(e)&&n.delete(t)}function ag(){Xo=!1,yn!==null&&Li(yn)&&(yn=null),bn!==null&&Li(bn)&&(bn=null),wn!==null&&Li(wn)&&(wn=null),Ra.forEach(mu),Ia.forEach(mu)}function ia(e,t){e.blockedOn===t&&(e.blockedOn=null,Xo||(Xo=!0,ss.unstable_scheduleCallback(ss.unstable_NormalPriority,ag)))}function La(e){function t(a){return ia(a,e)}if(0<vi.length){ia(vi[0],e);for(var n=1;n<vi.length;n++){var r=vi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yn!==null&&ia(yn,e),bn!==null&&ia(bn,e),wn!==null&&ia(wn,e),Ra.forEach(t),Ia.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Yh(n),n.blockedOn===null&&un.shift()}var Rr=tn.ReactCurrentBatchConfig,Yi=!0;function ig(e,t,n,r){var a=Ve,i=Rr.transition;Rr.transition=null;try{Ve=1,Zc(e,t,n,r)}finally{Ve=a,Rr.transition=i}}function lg(e,t,n,r){var a=Ve,i=Rr.transition;Rr.transition=null;try{Ve=4,Zc(e,t,n,r)}finally{Ve=a,Rr.transition=i}}function Zc(e,t,n,r){if(Yi){var a=Zo(e,t,n,r);if(a===null)mo(e,t,r,Ji,n),uu(e,r);else if(rg(a,e,t,n,r))r.stopPropagation();else if(uu(e,r),t&4&&-1<ng.indexOf(e)){for(;a!==null;){var i=ri(a);if(i!==null&&Wh(i),i=Zo(e,t,n,r),i===null&&mo(e,t,r,Ji,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else mo(e,t,r,null,n)}}var Ji=null;function Zo(e,t,n,r){if(Ji=null,e=Gc(r),e=Qn(e),e!==null)if(t=mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ji=e,null}function Jh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kv()){case Yc:return 1;case zh:return 4;case Ki:case Gv:return 16;case qh:return 536870912;default:return 16}default:return 16}}var xn=null,ed=null,Fi=null;function Xh(){if(Fi)return Fi;var e,t=ed,n=t.length,r,a="value"in xn?xn.value:xn.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===a[i-r];r++);return Fi=a.slice(e,1<r?1-r:void 0)}function Mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function hu(){return!1}function is(e){function t(n,r,a,i,l){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gi:hu,this.isPropagationStopped=hu,this}return nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),t}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=is(Zr),ni=nt({},Zr,{view:0,detail:0}),og=is(ni),so,no,la,El=nt({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==la&&(la&&e.type==="mousemove"?(so=e.screenX-la.screenX,no=e.screenY-la.screenY):no=so=0,la=e),so)},movementY:function(e){return"movementY"in e?e.movementY:no}}),fu=is(El),cg=nt({},El,{dataTransfer:0}),dg=is(cg),ug=nt({},ni,{relatedTarget:0}),ro=is(ug),mg=nt({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),hg=is(mg),fg=nt({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pg=is(fg),vg=nt({},Zr,{data:0}),pu=is(vg),gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jg[e])?!!t[e]:!1}function sd(){return Ng}var yg=nt({},ni,{key:function(e){if(e.key){var t=gg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(e){return e.type==="keypress"?Mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bg=is(yg),wg=nt({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=is(wg),Sg=nt({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),kg=is(Sg),Cg=nt({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eg=is(Cg),Dg=nt({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ag=is(Dg),Pg=[9,13,27,32],nd=Ys&&"CompositionEvent"in window,ba=null;Ys&&"documentMode"in document&&(ba=document.documentMode);var Tg=Ys&&"TextEvent"in window&&!ba,Zh=Ys&&(!nd||ba&&8<ba&&11>=ba),gu=" ",xu=!1;function ef(e,t){switch(e){case"keyup":return Pg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function Rg(e,t){switch(e){case"compositionend":return tf(t);case"keypress":return t.which!==32?null:(xu=!0,gu);case"textInput":return e=t.data,e===gu&&xu?null:e;default:return null}}function Ig(e,t){if(jr)return e==="compositionend"||!nd&&ef(e,t)?(e=Xh(),Fi=ed=xn=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zh&&t.locale!=="ko"?null:t.data;default:return null}}var Lg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lg[e.type]:t==="textarea"}function sf(e,t,n,r){Ih(r),t=Xi(t,"onChange"),0<t.length&&(n=new td("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wa=null,Fa=null;function Fg(e){ff(e,0)}function Dl(e){var t=br(e);if(Ch(t))return e}function Mg(e,t){if(e==="change")return t}var nf=!1;if(Ys){var ao;if(Ys){var io="oninput"in document;if(!io){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),io=typeof Nu.oninput=="function"}ao=io}else ao=!1;nf=ao&&(!document.documentMode||9<document.documentMode)}function yu(){wa&&(wa.detachEvent("onpropertychange",rf),Fa=wa=null)}function rf(e){if(e.propertyName==="value"&&Dl(Fa)){var t=[];sf(t,Fa,e,Gc(e)),Oh(Fg,t)}}function Og(e,t,n){e==="focusin"?(yu(),wa=t,Fa=n,wa.attachEvent("onpropertychange",rf)):e==="focusout"&&yu()}function _g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(Fa)}function Ug(e,t){if(e==="click")return Dl(t)}function $g(e,t){if(e==="input"||e==="change")return Dl(t)}function Bg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Es=typeof Object.is=="function"?Object.is:Bg;function Ma(e,t){if(Es(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Fo.call(t,a)||!Es(e[a],t[a]))return!1}return!0}function bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wu(e,t){var n=bu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bu(n)}}function af(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?af(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lf(){for(var e=window,t=Qi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qi(e.document)}return t}function rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zg(e){var t=lf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&af(n.ownerDocument.documentElement,n)){if(r!==null&&rd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=wu(n,i);var l=wu(n,r);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qg=Ys&&"documentMode"in document&&11>=document.documentMode,Nr=null,ec=null,Sa=null,tc=!1;function Su(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tc||Nr==null||Nr!==Qi(r)||(r=Nr,"selectionStart"in r&&rd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sa&&Ma(Sa,r)||(Sa=r,r=Xi(ec,"onSelect"),0<r.length&&(t=new td("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},lo={},of={};Ys&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function Al(e){if(lo[e])return lo[e];if(!yr[e])return e;var t=yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in of)return lo[e]=t[n];return e}var cf=Al("animationend"),df=Al("animationiteration"),uf=Al("animationstart"),mf=Al("transitionend"),hf=new Map,ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){hf.set(e,t),ur(t,[e])}for(var oo=0;oo<ku.length;oo++){var co=ku[oo],Vg=co.toLowerCase(),Qg=co[0].toUpperCase()+co.slice(1);Rn(Vg,"on"+Qg)}Rn(cf,"onAnimationEnd");Rn(df,"onAnimationIteration");Rn(uf,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(mf,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function Cu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Vv(r,t,void 0,e),e.currentTarget=null}function ff(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Cu(a,o,u),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Cu(a,o,u),i=c}}}if(Hi)throw e=Yo,Hi=!1,Yo=null,e}function He(e,t){var n=t[ic];n===void 0&&(n=t[ic]=new Set);var r=e+"__bubble";n.has(r)||(pf(t,e,2,!1),n.add(r))}function uo(e,t,n){var r=0;t&&(r|=4),pf(n,e,r,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Oa(e){if(!e[ji]){e[ji]=!0,yh.forEach(function(n){n!=="selectionchange"&&(Wg.has(n)||uo(n,!1,e),uo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ji]||(t[ji]=!0,uo("selectionchange",!1,t))}}function pf(e,t,n,r){switch(Jh(t)){case 1:var a=ig;break;case 4:a=lg;break;default:a=Zc}n=a.bind(null,t,n,e),a=void 0,!Go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function mo(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Qn(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}Oh(function(){var u=i,h=Gc(n),m=[];e:{var d=hf.get(e);if(d!==void 0){var y=td,C=e;switch(e){case"keypress":if(Mi(n)===0)break e;case"keydown":case"keyup":y=bg;break;case"focusin":C="focus",y=ro;break;case"focusout":C="blur",y=ro;break;case"beforeblur":case"afterblur":y=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=kg;break;case cf:case df:case uf:y=hg;break;case mf:y=Eg;break;case"scroll":y=og;break;case"wheel":y=Ag;break;case"copy":case"cut":case"paste":y=pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=vu}var g=(t&4)!==0,F=!g&&e==="scroll",p=g?d!==null?d+"Capture":null:d;g=[];for(var f=u,j;f!==null;){j=f;var E=j.stateNode;if(j.tag===5&&E!==null&&(j=E,p!==null&&(E=Ta(f,p),E!=null&&g.push(_a(f,E,j)))),F)break;f=f.return}0<g.length&&(d=new y(d,C,null,n,h),m.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&n!==Ho&&(C=n.relatedTarget||n.fromElement)&&(Qn(C)||C[Js]))break e;if((y||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=u,C=C?Qn(C):null,C!==null&&(F=mr(C),C!==F||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=u),y!==C)){if(g=fu,E="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(g=vu,E="onPointerLeave",p="onPointerEnter",f="pointer"),F=y==null?d:br(y),j=C==null?d:br(C),d=new g(E,f+"leave",y,n,h),d.target=F,d.relatedTarget=j,E=null,Qn(h)===u&&(g=new g(p,f+"enter",C,n,h),g.target=j,g.relatedTarget=F,E=g),F=E,y&&C)t:{for(g=y,p=C,f=0,j=g;j;j=pr(j))f++;for(j=0,E=p;E;E=pr(E))j++;for(;0<f-j;)g=pr(g),f--;for(;0<j-f;)p=pr(p),j--;for(;f--;){if(g===p||p!==null&&g===p.alternate)break t;g=pr(g),p=pr(p)}g=null}else g=null;y!==null&&Eu(m,d,y,g,!1),C!==null&&F!==null&&Eu(m,F,C,g,!0)}}e:{if(d=u?br(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var R=Mg;else if(ju(d))if(nf)R=$g;else{R=_g;var N=Og}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(R=Ug);if(R&&(R=R(e,u))){sf(m,R,n,h);break e}N&&N(e,d,u),e==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&zo(d,"number",d.value)}switch(N=u?br(u):window,e){case"focusin":(ju(N)||N.contentEditable==="true")&&(Nr=N,ec=u,Sa=null);break;case"focusout":Sa=ec=Nr=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,Su(m,n,h);break;case"selectionchange":if(qg)break;case"keydown":case"keyup":Su(m,n,h)}var x;if(nd)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else jr?ef(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Zh&&n.locale!=="ko"&&(jr||v!=="onCompositionStart"?v==="onCompositionEnd"&&jr&&(x=Xh()):(xn=h,ed="value"in xn?xn.value:xn.textContent,jr=!0)),N=Xi(u,v),0<N.length&&(v=new pu(v,e,null,n,h),m.push({event:v,listeners:N}),x?v.data=x:(x=tf(n),x!==null&&(v.data=x)))),(x=Tg?Rg(e,n):Ig(e,n))&&(u=Xi(u,"onBeforeInput"),0<u.length&&(h=new pu("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=x))}ff(m,t)})}function _a(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xi(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ta(e,n),i!=null&&r.unshift(_a(e,i,a)),i=Ta(e,t),i!=null&&r.push(_a(e,i,a))),e=e.return}return r}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eu(e,t,n,r,a){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,a?(c=Ta(n,i),c!=null&&l.unshift(_a(n,c,o))):a||(c=Ta(n,i),c!=null&&l.push(_a(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Hg=/\r\n?/g,Kg=/\u0000|\uFFFD/g;function Du(e){return(typeof e=="string"?e:""+e).replace(Hg,`
`).replace(Kg,"")}function Ni(e,t,n){if(t=Du(t),Du(e)!==t&&n)throw Error(J(425))}function Zi(){}var sc=null,nc=null;function rc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,Gg=typeof clearTimeout=="function"?clearTimeout:void 0,Au=typeof Promise=="function"?Promise:void 0,Yg=typeof queueMicrotask=="function"?queueMicrotask:typeof Au<"u"?function(e){return Au.resolve(null).then(e).catch(Jg)}:ac;function Jg(e){setTimeout(function(){throw e})}function ho(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),La(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);La(t)}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Ms="__reactFiber$"+ea,Ua="__reactProps$"+ea,Js="__reactContainer$"+ea,ic="__reactEvents$"+ea,Xg="__reactListeners$"+ea,Zg="__reactHandles$"+ea;function Qn(e){var t=e[Ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Js]||n[Ms]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pu(e);e!==null;){if(n=e[Ms])return n;e=Pu(e)}return t}e=n,n=e.parentNode}return null}function ri(e){return e=e[Ms]||e[Js],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Pl(e){return e[Ua]||null}var lc=[],wr=-1;function In(e){return{current:e}}function Ke(e){0>wr||(e.current=lc[wr],lc[wr]=null,wr--)}function We(e,t){wr++,lc[wr]=e.current,e.current=t}var Pn={},Rt=In(Pn),Ht=In(!1),nr=Pn;function Vr(e,t){var n=e.type.contextTypes;if(!n)return Pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Kt(e){return e=e.childContextTypes,e!=null}function el(){Ke(Ht),Ke(Rt)}function Tu(e,t,n){if(Rt.current!==Pn)throw Error(J(168));We(Rt,t),We(Ht,n)}function vf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(J(108,Ov(e)||"Unknown",a));return nt({},n,r)}function tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,nr=Rt.current,We(Rt,e),We(Ht,Ht.current),!0}function Ru(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=vf(e,t,nr),r.__reactInternalMemoizedMergedChildContext=e,Ke(Ht),Ke(Rt),We(Rt,e)):Ke(Ht),We(Ht,n)}var qs=null,Tl=!1,fo=!1;function gf(e){qs===null?qs=[e]:qs.push(e)}function ex(e){Tl=!0,gf(e)}function Ln(){if(!fo&&qs!==null){fo=!0;var e=0,t=Ve;try{var n=qs;for(Ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qs=null,Tl=!1}catch(a){throw qs!==null&&(qs=qs.slice(e+1)),Bh(Yc,Ln),a}finally{Ve=t,fo=!1}}return null}var Sr=[],kr=0,sl=null,nl=0,ds=[],us=0,rr=null,Qs=1,Ws="";function $n(e,t){Sr[kr++]=nl,Sr[kr++]=sl,sl=e,nl=t}function xf(e,t,n){ds[us++]=Qs,ds[us++]=Ws,ds[us++]=rr,rr=e;var r=Qs;e=Ws;var a=32-ks(r)-1;r&=~(1<<a),n+=1;var i=32-ks(t)+a;if(30<i){var l=a-a%5;i=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Qs=1<<32-ks(t)+a|n<<a|r,Ws=i+e}else Qs=1<<i|n<<a|r,Ws=e}function ad(e){e.return!==null&&($n(e,1),xf(e,1,0))}function id(e){for(;e===sl;)sl=Sr[--kr],Sr[kr]=null,nl=Sr[--kr],Sr[kr]=null;for(;e===rr;)rr=ds[--us],ds[us]=null,Ws=ds[--us],ds[us]=null,Qs=ds[--us],ds[us]=null}var ts=null,es=null,Ye=!1,ws=null;function jf(e,t){var n=ms(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Iu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ts=e,es=Sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ts=e,es=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rr!==null?{id:Qs,overflow:Ws}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ms(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ts=e,es=null,!0):!1;default:return!1}}function oc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cc(e){if(Ye){var t=es;if(t){var n=t;if(!Iu(e,t)){if(oc(e))throw Error(J(418));t=Sn(n.nextSibling);var r=ts;t&&Iu(e,t)?jf(r,n):(e.flags=e.flags&-4097|2,Ye=!1,ts=e)}}else{if(oc(e))throw Error(J(418));e.flags=e.flags&-4097|2,Ye=!1,ts=e}}}function Lu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ts=e}function yi(e){if(e!==ts)return!1;if(!Ye)return Lu(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rc(e.type,e.memoizedProps)),t&&(t=es)){if(oc(e))throw Nf(),Error(J(418));for(;t;)jf(e,t),t=Sn(t.nextSibling)}if(Lu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){es=Sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}es=null}}else es=ts?Sn(e.stateNode.nextSibling):null;return!0}function Nf(){for(var e=es;e;)e=Sn(e.nextSibling)}function Qr(){es=ts=null,Ye=!1}function ld(e){ws===null?ws=[e]:ws.push(e)}var tx=tn.ReactCurrentBatchConfig;function oa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fu(e){var t=e._init;return t(e._payload)}function yf(e){function t(p,f){if(e){var j=p.deletions;j===null?(p.deletions=[f],p.flags|=16):j.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function a(p,f){return p=Dn(p,f),p.index=0,p.sibling=null,p}function i(p,f,j){return p.index=j,e?(j=p.alternate,j!==null?(j=j.index,j<f?(p.flags|=2,f):j):(p.flags|=2,f)):(p.flags|=1048576,f)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,f,j,E){return f===null||f.tag!==6?(f=yo(j,p.mode,E),f.return=p,f):(f=a(f,j),f.return=p,f)}function c(p,f,j,E){var R=j.type;return R===xr?h(p,f,j.props.children,E,j.key):f!==null&&(f.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===cn&&Fu(R)===f.type)?(E=a(f,j.props),E.ref=oa(p,f,j),E.return=p,E):(E=qi(j.type,j.key,j.props,null,p.mode,E),E.ref=oa(p,f,j),E.return=p,E)}function u(p,f,j,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==j.containerInfo||f.stateNode.implementation!==j.implementation?(f=bo(j,p.mode,E),f.return=p,f):(f=a(f,j.children||[]),f.return=p,f)}function h(p,f,j,E,R){return f===null||f.tag!==7?(f=sr(j,p.mode,E,R),f.return=p,f):(f=a(f,j),f.return=p,f)}function m(p,f,j){if(typeof f=="string"&&f!==""||typeof f=="number")return f=yo(""+f,p.mode,j),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ui:return j=qi(f.type,f.key,f.props,null,p.mode,j),j.ref=oa(p,null,f),j.return=p,j;case gr:return f=bo(f,p.mode,j),f.return=p,f;case cn:var E=f._init;return m(p,E(f._payload),j)}if(pa(f)||na(f))return f=sr(f,p.mode,j,null),f.return=p,f;bi(p,f)}return null}function d(p,f,j,E){var R=f!==null?f.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return R!==null?null:o(p,f,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ui:return j.key===R?c(p,f,j,E):null;case gr:return j.key===R?u(p,f,j,E):null;case cn:return R=j._init,d(p,f,R(j._payload),E)}if(pa(j)||na(j))return R!==null?null:h(p,f,j,E,null);bi(p,j)}return null}function y(p,f,j,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(j)||null,o(f,p,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ui:return p=p.get(E.key===null?j:E.key)||null,c(f,p,E,R);case gr:return p=p.get(E.key===null?j:E.key)||null,u(f,p,E,R);case cn:var N=E._init;return y(p,f,j,N(E._payload),R)}if(pa(E)||na(E))return p=p.get(j)||null,h(f,p,E,R,null);bi(f,E)}return null}function C(p,f,j,E){for(var R=null,N=null,x=f,v=f=0,S=null;x!==null&&v<j.length;v++){x.index>v?(S=x,x=null):S=x.sibling;var D=d(p,x,j[v],E);if(D===null){x===null&&(x=S);break}e&&x&&D.alternate===null&&t(p,x),f=i(D,f,v),N===null?R=D:N.sibling=D,N=D,x=S}if(v===j.length)return n(p,x),Ye&&$n(p,v),R;if(x===null){for(;v<j.length;v++)x=m(p,j[v],E),x!==null&&(f=i(x,f,v),N===null?R=x:N.sibling=x,N=x);return Ye&&$n(p,v),R}for(x=r(p,x);v<j.length;v++)S=y(x,p,v,j[v],E),S!==null&&(e&&S.alternate!==null&&x.delete(S.key===null?v:S.key),f=i(S,f,v),N===null?R=S:N.sibling=S,N=S);return e&&x.forEach(function(L){return t(p,L)}),Ye&&$n(p,v),R}function g(p,f,j,E){var R=na(j);if(typeof R!="function")throw Error(J(150));if(j=R.call(j),j==null)throw Error(J(151));for(var N=R=null,x=f,v=f=0,S=null,D=j.next();x!==null&&!D.done;v++,D=j.next()){x.index>v?(S=x,x=null):S=x.sibling;var L=d(p,x,D.value,E);if(L===null){x===null&&(x=S);break}e&&x&&L.alternate===null&&t(p,x),f=i(L,f,v),N===null?R=L:N.sibling=L,N=L,x=S}if(D.done)return n(p,x),Ye&&$n(p,v),R;if(x===null){for(;!D.done;v++,D=j.next())D=m(p,D.value,E),D!==null&&(f=i(D,f,v),N===null?R=D:N.sibling=D,N=D);return Ye&&$n(p,v),R}for(x=r(p,x);!D.done;v++,D=j.next())D=y(x,p,v,D.value,E),D!==null&&(e&&D.alternate!==null&&x.delete(D.key===null?v:D.key),f=i(D,f,v),N===null?R=D:N.sibling=D,N=D);return e&&x.forEach(function(B){return t(p,B)}),Ye&&$n(p,v),R}function F(p,f,j,E){if(typeof j=="object"&&j!==null&&j.type===xr&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ui:e:{for(var R=j.key,N=f;N!==null;){if(N.key===R){if(R=j.type,R===xr){if(N.tag===7){n(p,N.sibling),f=a(N,j.props.children),f.return=p,p=f;break e}}else if(N.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===cn&&Fu(R)===N.type){n(p,N.sibling),f=a(N,j.props),f.ref=oa(p,N,j),f.return=p,p=f;break e}n(p,N);break}else t(p,N);N=N.sibling}j.type===xr?(f=sr(j.props.children,p.mode,E,j.key),f.return=p,p=f):(E=qi(j.type,j.key,j.props,null,p.mode,E),E.ref=oa(p,f,j),E.return=p,p=E)}return l(p);case gr:e:{for(N=j.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===j.containerInfo&&f.stateNode.implementation===j.implementation){n(p,f.sibling),f=a(f,j.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=bo(j,p.mode,E),f.return=p,p=f}return l(p);case cn:return N=j._init,F(p,f,N(j._payload),E)}if(pa(j))return C(p,f,j,E);if(na(j))return g(p,f,j,E);bi(p,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,f!==null&&f.tag===6?(n(p,f.sibling),f=a(f,j),f.return=p,p=f):(n(p,f),f=yo(j,p.mode,E),f.return=p,p=f),l(p)):n(p,f)}return F}var Wr=yf(!0),bf=yf(!1),rl=In(null),al=null,Cr=null,od=null;function cd(){od=Cr=al=null}function dd(e){var t=rl.current;Ke(rl),e._currentValue=t}function dc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ir(e,t){al=e,od=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function fs(e){var t=e._currentValue;if(od!==e)if(e={context:e,memoizedValue:t,next:null},Cr===null){if(al===null)throw Error(J(308));Cr=e,al.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return t}var Wn=null;function ud(e){Wn===null?Wn=[e]:Wn.push(e)}function wf(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,ud(t)):(n.next=a.next,a.next=n),t.interleaved=n,Xs(e,r)}function Xs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dn=!1;function md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Xs(e,n)}return a=r.interleaved,a===null?(t.next=t,ud(r)):(t.next=a.next,a.next=t),r.interleaved=t,Xs(e,n)}function Oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jc(e,n)}}function Mu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function il(e,t,n,r){var a=e.updateQueue;dn=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;l=0,h=u=c=null,o=i;do{var d=o.lane,y=o.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var C=e,g=o;switch(d=t,y=n,g.tag){case 1:if(C=g.payload,typeof C=="function"){m=C.call(y,m,d);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=g.payload,d=typeof C=="function"?C.call(y,m,d):C,d==null)break e;m=nt({},m,d);break e;case 2:dn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=a.effects,d===null?a.effects=[o]:d.push(o))}else y={eventTime:y,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=y,c=m):h=h.next=y,l|=d;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;d=o,o=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);if(h===null&&(c=m),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ir|=l,e.lanes=l,e.memoizedState=m}}function Ou(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(J(191,a));a.call(r)}}}var ai={},_s=In(ai),$a=In(ai),Ba=In(ai);function Hn(e){if(e===ai)throw Error(J(174));return e}function hd(e,t){switch(We(Ba,t),We($a,e),We(_s,ai),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vo(t,e)}Ke(_s),We(_s,t)}function Hr(){Ke(_s),Ke($a),Ke(Ba)}function kf(e){Hn(Ba.current);var t=Hn(_s.current),n=Vo(t,e.type);t!==n&&(We($a,e),We(_s,n))}function fd(e){$a.current===e&&(Ke(_s),Ke($a))}var tt=In(0);function ll(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var po=[];function pd(){for(var e=0;e<po.length;e++)po[e]._workInProgressVersionPrimary=null;po.length=0}var _i=tn.ReactCurrentDispatcher,vo=tn.ReactCurrentBatchConfig,ar=0,st=null,pt=null,jt=null,ol=!1,ka=!1,za=0,sx=0;function Dt(){throw Error(J(321))}function vd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Es(e[n],t[n]))return!1;return!0}function gd(e,t,n,r,a,i){if(ar=i,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_i.current=e===null||e.memoizedState===null?ix:lx,e=n(r,a),ka){i=0;do{if(ka=!1,za=0,25<=i)throw Error(J(301));i+=1,jt=pt=null,t.updateQueue=null,_i.current=ox,e=n(r,a)}while(ka)}if(_i.current=cl,t=pt!==null&&pt.next!==null,ar=0,jt=pt=st=null,ol=!1,t)throw Error(J(300));return e}function xd(){var e=za!==0;return za=0,e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?st.memoizedState=jt=e:jt=jt.next=e,jt}function ps(){if(pt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=jt===null?st.memoizedState:jt.next;if(t!==null)jt=t,pt=e;else{if(e===null)throw Error(J(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},jt===null?st.memoizedState=jt=e:jt=jt.next=e}return jt}function qa(e,t){return typeof t=="function"?t(e):t}function go(e){var t=ps(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=pt,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var o=l=null,c=null,u=i;do{var h=u.lane;if((ar&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=m,l=r):c=c.next=m,st.lanes|=h,ir|=h}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=o,Es(r,t.memoizedState)||(Wt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,st.lanes|=i,ir|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=ps(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Es(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Cf(){}function Ef(e,t){var n=st,r=ps(),a=t(),i=!Es(r.memoizedState,a);if(i&&(r.memoizedState=a,Wt=!0),r=r.queue,jd(Pf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Va(9,Af.bind(null,n,r,a,t),void 0,null),Nt===null)throw Error(J(349));ar&30||Df(n,t,a)}return a}function Df(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Af(e,t,n,r){t.value=n,t.getSnapshot=r,Tf(t)&&Rf(e)}function Pf(e,t,n){return n(function(){Tf(t)&&Rf(e)})}function Tf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Es(e,n)}catch{return!0}}function Rf(e){var t=Xs(e,1);t!==null&&Cs(t,e,1,-1)}function _u(e){var t=Rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t.queue=e,e=e.dispatch=ax.bind(null,st,e),[t.memoizedState,e]}function Va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function If(){return ps().memoizedState}function Ui(e,t,n,r){var a=Rs();st.flags|=e,a.memoizedState=Va(1|t,n,void 0,r===void 0?null:r)}function Rl(e,t,n,r){var a=ps();r=r===void 0?null:r;var i=void 0;if(pt!==null){var l=pt.memoizedState;if(i=l.destroy,r!==null&&vd(r,l.deps)){a.memoizedState=Va(t,n,i,r);return}}st.flags|=e,a.memoizedState=Va(1|t,n,i,r)}function Uu(e,t){return Ui(8390656,8,e,t)}function jd(e,t){return Rl(2048,8,e,t)}function Lf(e,t){return Rl(4,2,e,t)}function Ff(e,t){return Rl(4,4,e,t)}function Mf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Of(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4,4,Mf.bind(null,t,e),n)}function Nd(){}function _f(e,t){var n=ps();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Uf(e,t){var n=ps();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $f(e,t,n){return ar&21?(Es(n,t)||(n=Vh(),st.lanes|=n,ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=n)}function nx(e,t){var n=Ve;Ve=n!==0&&4>n?n:4,e(!0);var r=vo.transition;vo.transition={};try{e(!1),t()}finally{Ve=n,vo.transition=r}}function Bf(){return ps().memoizedState}function rx(e,t,n){var r=En(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zf(e))qf(t,n);else if(n=wf(e,t,n,r),n!==null){var a=Ut();Cs(n,e,r,a),Vf(n,t,r)}}function ax(e,t,n){var r=En(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zf(e))qf(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(a.hasEagerState=!0,a.eagerState=o,Es(o,l)){var c=t.interleaved;c===null?(a.next=a,ud(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=wf(e,t,a,r),n!==null&&(a=Ut(),Cs(n,e,r,a),Vf(n,t,r))}}function zf(e){var t=e.alternate;return e===st||t!==null&&t===st}function qf(e,t){ka=ol=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jc(e,n)}}var cl={readContext:fs,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},ix={readContext:fs,useCallback:function(e,t){return Rs().memoizedState=[e,t===void 0?null:t],e},useContext:fs,useEffect:Uu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ui(4194308,4,Mf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var n=Rs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rx.bind(null,st,e),[r.memoizedState,e]},useRef:function(e){var t=Rs();return e={current:e},t.memoizedState=e},useState:_u,useDebugValue:Nd,useDeferredValue:function(e){return Rs().memoizedState=e},useTransition:function(){var e=_u(!1),t=e[0];return e=nx.bind(null,e[1]),Rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=st,a=Rs();if(Ye){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),Nt===null)throw Error(J(349));ar&30||Df(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Uu(Pf.bind(null,r,i,e),[e]),r.flags|=2048,Va(9,Af.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Rs(),t=Nt.identifierPrefix;if(Ye){var n=Ws,r=Qs;n=(r&~(1<<32-ks(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=za++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lx={readContext:fs,useCallback:_f,useContext:fs,useEffect:jd,useImperativeHandle:Of,useInsertionEffect:Lf,useLayoutEffect:Ff,useMemo:Uf,useReducer:go,useRef:If,useState:function(){return go(qa)},useDebugValue:Nd,useDeferredValue:function(e){var t=ps();return $f(t,pt.memoizedState,e)},useTransition:function(){var e=go(qa)[0],t=ps().memoizedState;return[e,t]},useMutableSource:Cf,useSyncExternalStore:Ef,useId:Bf,unstable_isNewReconciler:!1},ox={readContext:fs,useCallback:_f,useContext:fs,useEffect:jd,useImperativeHandle:Of,useInsertionEffect:Lf,useLayoutEffect:Ff,useMemo:Uf,useReducer:xo,useRef:If,useState:function(){return xo(qa)},useDebugValue:Nd,useDeferredValue:function(e){var t=ps();return pt===null?t.memoizedState=e:$f(t,pt.memoizedState,e)},useTransition:function(){var e=xo(qa)[0],t=ps().memoizedState;return[e,t]},useMutableSource:Cf,useSyncExternalStore:Ef,useId:Bf,unstable_isNewReconciler:!1};function gs(e,t){if(e&&e.defaultProps){t=nt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function uc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Il={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ut(),a=En(e),i=Hs(r,a);i.payload=t,n!=null&&(i.callback=n),t=kn(e,i,a),t!==null&&(Cs(t,e,a,r),Oi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ut(),a=En(e),i=Hs(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=kn(e,i,a),t!==null&&(Cs(t,e,a,r),Oi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ut(),r=En(e),a=Hs(n,r);a.tag=2,t!=null&&(a.callback=t),t=kn(e,a,r),t!==null&&(Cs(t,e,r,n),Oi(t,e,r))}};function $u(e,t,n,r,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Ma(n,r)||!Ma(a,i):!0}function Qf(e,t,n){var r=!1,a=Pn,i=t.contextType;return typeof i=="object"&&i!==null?i=fs(i):(a=Kt(t)?nr:Rt.current,r=t.contextTypes,i=(r=r!=null)?Vr(e,a):Pn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Bu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Il.enqueueReplaceState(t,t.state,null)}function mc(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},md(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=fs(i):(i=Kt(t)?nr:Rt.current,a.context=Vr(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(uc(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Il.enqueueReplaceState(a,a.state,null),il(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Kr(e,t){try{var n="",r=t;do n+=Mv(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function jo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cx=typeof WeakMap=="function"?WeakMap:Map;function Wf(e,t,n){n=Hs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ul||(ul=!0,wc=r),hc(e,t)},n}function Hf(e,t,n){n=Hs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){hc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hc(e,t),typeof r!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function zu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cx;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=wx.bind(null,e,t,n),t.then(e,e))}function qu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vu(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hs(-1,1),t.tag=2,kn(n,t,1))),n.lanes|=1),e)}var dx=tn.ReactCurrentOwner,Wt=!1;function Ot(e,t,n,r){t.child=e===null?bf(t,null,n,r):Wr(t,e.child,n,r)}function Qu(e,t,n,r,a){n=n.render;var i=t.ref;return Ir(t,a),r=gd(e,t,n,r,i,a),n=xd(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a)):(Ye&&n&&ad(t),t.flags|=1,Ot(e,t,r,a),t.child)}function Wu(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!Dd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Kf(e,t,i,r,a)):(e=qi(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ma,n(l,r)&&e.ref===t.ref)return Zs(e,t,a)}return t.flags|=1,e=Dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Kf(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Ma(i,r)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,Zs(e,t,a)}return fc(e,t,n,r,a)}function Gf(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Dr,Xt),Xt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Dr,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(Dr,Xt),Xt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,We(Dr,Xt),Xt|=r;return Ot(e,t,a,n),t.child}function Yf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fc(e,t,n,r,a){var i=Kt(n)?nr:Rt.current;return i=Vr(t,i),Ir(t,a),n=gd(e,t,n,r,i,a),r=xd(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a)):(Ye&&r&&ad(t),t.flags|=1,Ot(e,t,n,a),t.child)}function Hu(e,t,n,r,a){if(Kt(n)){var i=!0;tl(t)}else i=!1;if(Ir(t,a),t.stateNode===null)$i(e,t),Qf(t,n,r),mc(t,n,r,a),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=fs(u):(u=Kt(n)?nr:Rt.current,u=Vr(t,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Bu(t,l,r,u),dn=!1;var d=t.memoizedState;l.state=d,il(t,r,l,a),c=t.memoizedState,o!==r||d!==c||Ht.current||dn?(typeof h=="function"&&(uc(t,n,h,r),c=t.memoizedState),(o=dn||$u(t,n,o,r,d,c,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Sf(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:gs(t.type,o),l.props=u,m=t.pendingProps,d=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=fs(c):(c=Kt(n)?nr:Rt.current,c=Vr(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||d!==c)&&Bu(t,l,r,c),dn=!1,d=t.memoizedState,l.state=d,il(t,r,l,a);var C=t.memoizedState;o!==m||d!==C||Ht.current||dn?(typeof y=="function"&&(uc(t,n,y,r),C=t.memoizedState),(u=dn||$u(t,n,u,r,d,C,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,C,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,C,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),l.props=r,l.state=C,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return pc(e,t,n,r,i,a)}function pc(e,t,n,r,a,i){Yf(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return a&&Ru(t,n,!1),Zs(e,t,i);r=t.stateNode,dx.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Wr(t,e.child,null,i),t.child=Wr(t,null,o,i)):Ot(e,t,o,i),t.memoizedState=r.state,a&&Ru(t,n,!0),t.child}function Jf(e){var t=e.stateNode;t.pendingContext?Tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tu(e,t.context,!1),hd(e,t.containerInfo)}function Ku(e,t,n,r,a){return Qr(),ld(a),t.flags|=256,Ot(e,t,n,r),t.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function gc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xf(e,t,n){var r=t.pendingProps,a=tt.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),We(tt,a&1),e===null)return cc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ml(l,r,0,null),e=sr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gc(n),t.memoizedState=vc,e):yd(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return ux(e,t,l,r,o,a,n);if(i){i=r.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Dn(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Dn(o,i):(i=sr(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?gc(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=vc,r}return i=e.child,e=i.sibling,r=Dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yd(e,t){return t=Ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wi(e,t,n,r){return r!==null&&ld(r),Wr(t,e.child,null,n),e=yd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ux(e,t,n,r,a,i,l){if(n)return t.flags&256?(t.flags&=-257,r=jo(Error(J(422))),wi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Ml({mode:"visible",children:r.children},a,0,null),i=sr(i,a,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Wr(t,e.child,null,l),t.child.memoizedState=gc(l),t.memoizedState=vc,i);if(!(t.mode&1))return wi(e,t,l,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(J(419)),r=jo(i,r,void 0),wi(e,t,l,r)}if(o=(l&e.childLanes)!==0,Wt||o){if(r=Nt,r!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Xs(e,a),Cs(r,e,a,-1))}return Ed(),r=jo(Error(J(421))),wi(e,t,l,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Sx.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,es=Sn(a.nextSibling),ts=t,Ye=!0,ws=null,e!==null&&(ds[us++]=Qs,ds[us++]=Ws,ds[us++]=rr,Qs=e.id,Ws=e.overflow,rr=t),t=yd(t,r.children),t.flags|=4096,t)}function Gu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dc(e.return,t,n)}function No(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Zf(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ot(e,t,r.children,n),r=tt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gu(e,n,t);else if(e.tag===19)Gu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(tt,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&ll(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),No(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ll(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}No(t,!0,n,null,i);break;case"together":No(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $i(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mx(e,t,n){switch(t.tag){case 3:Jf(t),Qr();break;case 5:kf(t);break;case 1:Kt(t.type)&&tl(t);break;case 4:hd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;We(rl,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(tt,tt.current&1),t.flags|=128,null):n&t.child.childLanes?Xf(e,t,n):(We(tt,tt.current&1),e=Zs(e,t,n),e!==null?e.sibling:null);We(tt,tt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Zf(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),We(tt,tt.current),r)break;return null;case 22:case 23:return t.lanes=0,Gf(e,t,n)}return Zs(e,t,n)}var ep,xc,tp,sp;ep=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xc=function(){};tp=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Hn(_s.current);var i=null;switch(n){case"input":a=$o(e,a),r=$o(e,r),i=[];break;case"select":a=nt({},a,{value:void 0}),r=nt({},r,{value:void 0}),i=[];break;case"textarea":a=qo(e,a),r=qo(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zi)}Qo(n,r);var l;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Aa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Aa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&He("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};sp=function(e,t,n,r){n!==r&&(t.flags|=4)};function ca(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hx(e,t,n){var r=t.pendingProps;switch(id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return Kt(t.type)&&el(),At(t),null;case 3:return r=t.stateNode,Hr(),Ke(Ht),Ke(Rt),pd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ws!==null&&(Cc(ws),ws=null))),xc(e,t),At(t),null;case 5:fd(t);var a=Hn(Ba.current);if(n=t.type,e!==null&&t.stateNode!=null)tp(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(J(166));return At(t),null}if(e=Hn(_s.current),yi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ms]=t,r[Ua]=i,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(a=0;a<ga.length;a++)He(ga[a],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":ru(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":iu(r,i),He("invalid",r)}Qo(n,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ni(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ni(r.textContent,o,e),a=["children",""+o]):Aa.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&He("scroll",r)}switch(n){case"input":mi(r),au(r,i,!0);break;case"textarea":mi(r),lu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zi)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ah(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Ms]=t,e[Ua]=r,ep(e,t,!1,!1),t.stateNode=e;e:{switch(l=Wo(n,r),n){case"dialog":He("cancel",e),He("close",e),a=r;break;case"iframe":case"object":case"embed":He("load",e),a=r;break;case"video":case"audio":for(a=0;a<ga.length;a++)He(ga[a],e);a=r;break;case"source":He("error",e),a=r;break;case"img":case"image":case"link":He("error",e),He("load",e),a=r;break;case"details":He("toggle",e),a=r;break;case"input":ru(e,r),a=$o(e,r),He("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=nt({},r,{value:void 0}),He("invalid",e);break;case"textarea":iu(e,r),a=qo(e,r),He("invalid",e);break;default:a=r}Qo(n,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Rh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ph(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pa(e,c):typeof c=="number"&&Pa(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Aa.hasOwnProperty(i)?c!=null&&i==="onScroll"&&He("scroll",e):c!=null&&Qc(e,i,c,l))}switch(n){case"input":mi(e),au(e,r,!1);break;case"textarea":mi(e),lu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+An(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ar(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)sp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));if(n=Hn(Ba.current),Hn(_s.current),yi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ms]=t,(i=r.nodeValue!==n)&&(e=ts,e!==null))switch(e.tag){case 3:Ni(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ni(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ms]=t,t.stateNode=r}return At(t),null;case 13:if(Ke(tt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&es!==null&&t.mode&1&&!(t.flags&128))Nf(),Qr(),t.flags|=98560,i=!1;else if(i=yi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(J(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[Ms]=t}else Qr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),i=!1}else ws!==null&&(Cc(ws),ws=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?vt===0&&(vt=3):Ed())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return Hr(),xc(e,t),e===null&&Oa(t.stateNode.containerInfo),At(t),null;case 10:return dd(t.type._context),At(t),null;case 17:return Kt(t.type)&&el(),At(t),null;case 19:if(Ke(tt),i=t.memoizedState,i===null)return At(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)ca(i,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ll(e),l!==null){for(t.flags|=128,ca(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(tt,tt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ct()>Gr&&(t.flags|=128,r=!0,ca(i,!1),t.lanes=4194304)}else{if(!r)if(e=ll(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ca(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Ye)return At(t),null}else 2*ct()-i.renderingStartTime>Gr&&n!==1073741824&&(t.flags|=128,r=!0,ca(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ct(),t.sibling=null,n=tt.current,We(tt,r?n&1|2:n&1),t):(At(t),null);case 22:case 23:return Cd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xt&1073741824&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function fx(e,t){switch(id(t),t.tag){case 1:return Kt(t.type)&&el(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hr(),Ke(Ht),Ke(Rt),pd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fd(t),null;case 13:if(Ke(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(tt),null;case 4:return Hr(),null;case 10:return dd(t.type._context),null;case 22:case 23:return Cd(),null;case 24:return null;default:return null}}var Si=!1,Tt=!1,px=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(e,t,r)}else n.current=null}function jc(e,t,n){try{n()}catch(r){lt(e,t,r)}}var Yu=!1;function vx(e,t){if(sc=Yi,e=lf(),rd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,h=0,m=e,d=null;t:for(;;){for(var y;m!==n||a!==0&&m.nodeType!==3||(o=l+a),m!==i||r!==0&&m.nodeType!==3||(c=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(y=m.firstChild)!==null;)d=m,m=y;for(;;){if(m===e)break t;if(d===n&&++u===a&&(o=l),d===i&&++h===r&&(c=l),(y=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=y}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nc={focusedElem:e,selectionRange:n},Yi=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var g=C.memoizedProps,F=C.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),F);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(E){lt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return C=Yu,Yu=!1,C}function Ca(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&jc(t,n,i)}a=a.next}while(a!==r)}}function Ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function np(e){var t=e.alternate;t!==null&&(e.alternate=null,np(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ms],delete t[Ua],delete t[ic],delete t[Xg],delete t[Zg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rp(e){return e.tag===5||e.tag===3||e.tag===4}function Ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zi));else if(r!==4&&(e=e.child,e!==null))for(yc(e,t,n),e=e.sibling;e!==null;)yc(e,t,n),e=e.sibling}function bc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bc(e,t,n),e=e.sibling;e!==null;)bc(e,t,n),e=e.sibling}var bt=null,ys=!1;function an(e,t,n){for(n=n.child;n!==null;)ap(e,t,n),n=n.sibling}function ap(e,t,n){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(Cl,n)}catch{}switch(n.tag){case 5:Tt||Er(n,t);case 6:var r=bt,a=ys;bt=null,an(e,t,n),bt=r,ys=a,bt!==null&&(ys?(e=bt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(ys?(e=bt,n=n.stateNode,e.nodeType===8?ho(e.parentNode,n):e.nodeType===1&&ho(e,n),La(e)):ho(bt,n.stateNode));break;case 4:r=bt,a=ys,bt=n.stateNode.containerInfo,ys=!0,an(e,t,n),bt=r,ys=a;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&jc(n,t,l),a=a.next}while(a!==r)}an(e,t,n);break;case 1:if(!Tt&&(Er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){lt(n,t,o)}an(e,t,n);break;case 21:an(e,t,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,an(e,t,n),Tt=r):an(e,t,n);break;default:an(e,t,n)}}function Xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new px),t.forEach(function(r){var a=kx.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function vs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:bt=o.stateNode,ys=!1;break e;case 3:bt=o.stateNode.containerInfo,ys=!0;break e;case 4:bt=o.stateNode.containerInfo,ys=!0;break e}o=o.return}if(bt===null)throw Error(J(160));ap(i,l,a),bt=null,ys=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){lt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ip(t,e),t=t.sibling}function ip(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),Ts(e),r&4){try{Ca(3,e,e.return),Ll(3,e)}catch(g){lt(e,e.return,g)}try{Ca(5,e,e.return)}catch(g){lt(e,e.return,g)}}break;case 1:vs(t,e),Ts(e),r&512&&n!==null&&Er(n,n.return);break;case 5:if(vs(t,e),Ts(e),r&512&&n!==null&&Er(n,n.return),e.flags&32){var a=e.stateNode;try{Pa(a,"")}catch(g){lt(e,e.return,g)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Eh(a,i),Wo(o,l);var u=Wo(o,i);for(l=0;l<c.length;l+=2){var h=c[l],m=c[l+1];h==="style"?Rh(a,m):h==="dangerouslySetInnerHTML"?Ph(a,m):h==="children"?Pa(a,m):Qc(a,h,m,u)}switch(o){case"input":Bo(a,i);break;case"textarea":Dh(a,i);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ar(a,!!i.multiple,y,!1):d!==!!i.multiple&&(i.defaultValue!=null?Ar(a,!!i.multiple,i.defaultValue,!0):Ar(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ua]=i}catch(g){lt(e,e.return,g)}}break;case 6:if(vs(t,e),Ts(e),r&4){if(e.stateNode===null)throw Error(J(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){lt(e,e.return,g)}}break;case 3:if(vs(t,e),Ts(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{La(t.containerInfo)}catch(g){lt(e,e.return,g)}break;case 4:vs(t,e),Ts(e);break;case 13:vs(t,e),Ts(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Sd=ct())),r&4&&Xu(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Tt=(u=Tt)||h,vs(t,e),Tt=u):vs(t,e),Ts(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(ce=e,h=e.child;h!==null;){for(m=ce=h;ce!==null;){switch(d=ce,y=d.child,d.tag){case 0:case 11:case 14:case 15:Ca(4,d,d.return);break;case 1:Er(d,d.return);var C=d.stateNode;if(typeof C.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(g){lt(r,n,g)}}break;case 5:Er(d,d.return);break;case 22:if(d.memoizedState!==null){em(m);continue}}y!==null?(y.return=d,ce=y):em(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{a=m.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Th("display",l))}catch(g){lt(e,e.return,g)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){lt(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vs(t,e),Ts(e),r&4&&Xu(e);break;case 21:break;default:vs(t,e),Ts(e)}}function Ts(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rp(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Pa(a,""),r.flags&=-33);var i=Ju(e);bc(e,i,a);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Ju(e);yc(e,o,l);break;default:throw Error(J(161))}}catch(c){lt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gx(e,t,n){ce=e,lp(e)}function lp(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var a=ce,i=a.child;if(a.tag===22&&r){var l=a.memoizedState!==null||Si;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Tt;o=Si;var u=Tt;if(Si=l,(Tt=c)&&!u)for(ce=a;ce!==null;)l=ce,c=l.child,l.tag===22&&l.memoizedState!==null?tm(a):c!==null?(c.return=l,ce=c):tm(a);for(;i!==null;)ce=i,lp(i),i=i.sibling;ce=a,Si=o,Tt=u}Zu(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ce=i):Zu(e)}}function Zu(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||Ll(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ou(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ou(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&La(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Tt||t.flags&512&&Nc(t)}catch(d){lt(t,t.return,d)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function em(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function tm(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ll(4,t)}catch(c){lt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){lt(t,a,c)}}var i=t.return;try{Nc(t)}catch(c){lt(t,i,c)}break;case 5:var l=t.return;try{Nc(t)}catch(c){lt(t,l,c)}}}catch(c){lt(t,t.return,c)}if(t===e){ce=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ce=o;break}ce=t.return}}var xx=Math.ceil,dl=tn.ReactCurrentDispatcher,bd=tn.ReactCurrentOwner,hs=tn.ReactCurrentBatchConfig,Fe=0,Nt=null,ht=null,wt=0,Xt=0,Dr=In(0),vt=0,Qa=null,ir=0,Fl=0,wd=0,Ea=null,Qt=null,Sd=0,Gr=1/0,zs=null,ul=!1,wc=null,Cn=null,ki=!1,jn=null,ml=0,Da=0,Sc=null,Bi=-1,zi=0;function Ut(){return Fe&6?ct():Bi!==-1?Bi:Bi=ct()}function En(e){return e.mode&1?Fe&2&&wt!==0?wt&-wt:tx.transition!==null?(zi===0&&(zi=Vh()),zi):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:Jh(e.type)),e):1}function Cs(e,t,n,r){if(50<Da)throw Da=0,Sc=null,Error(J(185));si(e,n,r),(!(Fe&2)||e!==Nt)&&(e===Nt&&(!(Fe&2)&&(Fl|=n),vt===4&&mn(e,wt)),Gt(e,r),n===1&&Fe===0&&!(t.mode&1)&&(Gr=ct()+500,Tl&&Ln()))}function Gt(e,t){var n=e.callbackNode;tg(e,t);var r=Gi(e,e===Nt?wt:0);if(r===0)n!==null&&du(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&du(n),t===1)e.tag===0?ex(sm.bind(null,e)):gf(sm.bind(null,e)),Yg(function(){!(Fe&6)&&Ln()}),n=null;else{switch(Qh(r)){case 1:n=Yc;break;case 4:n=zh;break;case 16:n=Ki;break;case 536870912:n=qh;break;default:n=Ki}n=pp(n,op.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function op(e,t){if(Bi=-1,zi=0,Fe&6)throw Error(J(327));var n=e.callbackNode;if(Lr()&&e.callbackNode!==n)return null;var r=Gi(e,e===Nt?wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hl(e,r);else{t=r;var a=Fe;Fe|=2;var i=dp();(Nt!==e||wt!==t)&&(zs=null,Gr=ct()+500,tr(e,t));do try{yx();break}catch(o){cp(e,o)}while(!0);cd(),dl.current=i,Fe=a,ht!==null?t=0:(Nt=null,wt=0,t=vt)}if(t!==0){if(t===2&&(a=Jo(e),a!==0&&(r=a,t=kc(e,a))),t===1)throw n=Qa,tr(e,0),mn(e,r),Gt(e,ct()),n;if(t===6)mn(e,r);else{if(a=e.current.alternate,!(r&30)&&!jx(a)&&(t=hl(e,r),t===2&&(i=Jo(e),i!==0&&(r=i,t=kc(e,i))),t===1))throw n=Qa,tr(e,0),mn(e,r),Gt(e,ct()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(J(345));case 2:Bn(e,Qt,zs);break;case 3:if(mn(e,r),(r&130023424)===r&&(t=Sd+500-ct(),10<t)){if(Gi(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ut(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ac(Bn.bind(null,e,Qt,zs),t);break}Bn(e,Qt,zs);break;case 4:if(mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-ks(r);i=1<<l,l=t[l],l>a&&(a=l),r&=~i}if(r=a,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xx(r/1960))-r,10<r){e.timeoutHandle=ac(Bn.bind(null,e,Qt,zs),r);break}Bn(e,Qt,zs);break;case 5:Bn(e,Qt,zs);break;default:throw Error(J(329))}}}return Gt(e,ct()),e.callbackNode===n?op.bind(null,e):null}function kc(e,t){var n=Ea;return e.current.memoizedState.isDehydrated&&(tr(e,t).flags|=256),e=hl(e,t),e!==2&&(t=Qt,Qt=n,t!==null&&Cc(t)),e}function Cc(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function jx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Es(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~wd,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ks(t),r=1<<n;e[n]=-1,t&=~r}}function sm(e){if(Fe&6)throw Error(J(327));Lr();var t=Gi(e,0);if(!(t&1))return Gt(e,ct()),null;var n=hl(e,t);if(e.tag!==0&&n===2){var r=Jo(e);r!==0&&(t=r,n=kc(e,r))}if(n===1)throw n=Qa,tr(e,0),mn(e,t),Gt(e,ct()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,Qt,zs),Gt(e,ct()),null}function kd(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&(Gr=ct()+500,Tl&&Ln())}}function lr(e){jn!==null&&jn.tag===0&&!(Fe&6)&&Lr();var t=Fe;Fe|=1;var n=hs.transition,r=Ve;try{if(hs.transition=null,Ve=1,e)return e()}finally{Ve=r,hs.transition=n,Fe=t,!(Fe&6)&&Ln()}}function Cd(){Xt=Dr.current,Ke(Dr)}function tr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Gg(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(id(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&el();break;case 3:Hr(),Ke(Ht),Ke(Rt),pd();break;case 5:fd(r);break;case 4:Hr();break;case 13:Ke(tt);break;case 19:Ke(tt);break;case 10:dd(r.type._context);break;case 22:case 23:Cd()}n=n.return}if(Nt=e,ht=e=Dn(e.current,null),wt=Xt=t,vt=0,Qa=null,wd=Fl=ir=0,Qt=Ea=null,Wn!==null){for(t=0;t<Wn.length;t++)if(n=Wn[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=a,r.next=l}n.pending=r}Wn=null}return e}function cp(e,t){do{var n=ht;try{if(cd(),_i.current=cl,ol){for(var r=st.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ol=!1}if(ar=0,jt=pt=st=null,ka=!1,za=0,bd.current=null,n===null||n.return===null){vt=1,Qa=t,ht=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=wt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=qu(l);if(y!==null){y.flags&=-257,Vu(y,l,o,i,t),y.mode&1&&zu(i,u,t),t=y,c=u;var C=t.updateQueue;if(C===null){var g=new Set;g.add(c),t.updateQueue=g}else C.add(c);break e}else{if(!(t&1)){zu(i,u,t),Ed();break e}c=Error(J(426))}}else if(Ye&&o.mode&1){var F=qu(l);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Vu(F,l,o,i,t),ld(Kr(c,o));break e}}i=c=Kr(c,o),vt!==4&&(vt=2),Ea===null?Ea=[i]:Ea.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Wf(i,c,t);Mu(i,p);break e;case 1:o=c;var f=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Cn===null||!Cn.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=Hf(i,o,t);Mu(i,E);break e}}i=i.return}while(i!==null)}mp(n)}catch(R){t=R,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function dp(){var e=dl.current;return dl.current=cl,e===null?cl:e}function Ed(){(vt===0||vt===3||vt===2)&&(vt=4),Nt===null||!(ir&268435455)&&!(Fl&268435455)||mn(Nt,wt)}function hl(e,t){var n=Fe;Fe|=2;var r=dp();(Nt!==e||wt!==t)&&(zs=null,tr(e,t));do try{Nx();break}catch(a){cp(e,a)}while(!0);if(cd(),Fe=n,dl.current=r,ht!==null)throw Error(J(261));return Nt=null,wt=0,vt}function Nx(){for(;ht!==null;)up(ht)}function yx(){for(;ht!==null&&!Wv();)up(ht)}function up(e){var t=fp(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?mp(e):ht=t,bd.current=null}function mp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fx(n,t),n!==null){n.flags&=32767,ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,ht=null;return}}else if(n=hx(n,t,Xt),n!==null){ht=n;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);vt===0&&(vt=5)}function Bn(e,t,n){var r=Ve,a=hs.transition;try{hs.transition=null,Ve=1,bx(e,t,n,r)}finally{hs.transition=a,Ve=r}return null}function bx(e,t,n,r){do Lr();while(jn!==null);if(Fe&6)throw Error(J(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(sg(e,i),e===Nt&&(ht=Nt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ki||(ki=!0,pp(Ki,function(){return Lr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=hs.transition,hs.transition=null;var l=Ve;Ve=1;var o=Fe;Fe|=4,bd.current=null,vx(e,n),ip(n,e),zg(nc),Yi=!!sc,nc=sc=null,e.current=n,gx(n),Hv(),Fe=o,Ve=l,hs.transition=i}else e.current=n;if(ki&&(ki=!1,jn=e,ml=a),i=e.pendingLanes,i===0&&(Cn=null),Yv(n.stateNode),Gt(e,ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ul)throw ul=!1,e=wc,wc=null,e;return ml&1&&e.tag!==0&&Lr(),i=e.pendingLanes,i&1?e===Sc?Da++:(Da=0,Sc=e):Da=0,Ln(),null}function Lr(){if(jn!==null){var e=Qh(ml),t=hs.transition,n=Ve;try{if(hs.transition=null,Ve=16>e?16:e,jn===null)var r=!1;else{if(e=jn,jn=null,ml=0,Fe&6)throw Error(J(331));var a=Fe;for(Fe|=4,ce=e.current;ce!==null;){var i=ce,l=i.child;if(ce.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ce=u;ce!==null;){var h=ce;switch(h.tag){case 0:case 11:case 15:Ca(8,h,i)}var m=h.child;if(m!==null)m.return=h,ce=m;else for(;ce!==null;){h=ce;var d=h.sibling,y=h.return;if(np(h),h===u){ce=null;break}if(d!==null){d.return=y,ce=d;break}ce=y}}}var C=i.alternate;if(C!==null){var g=C.child;if(g!==null){C.child=null;do{var F=g.sibling;g.sibling=null,g=F}while(g!==null)}}ce=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ce=l;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ca(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ce=p;break e}ce=i.return}}var f=e.current;for(ce=f;ce!==null;){l=ce;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,ce=j;else e:for(l=f;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ll(9,o)}}catch(R){lt(o,o.return,R)}if(o===l){ce=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,ce=E;break e}ce=o.return}}if(Fe=a,Ln(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(Cl,e)}catch{}r=!0}return r}finally{Ve=n,hs.transition=t}}return!1}function nm(e,t,n){t=Kr(n,t),t=Wf(e,t,1),e=kn(e,t,1),t=Ut(),e!==null&&(si(e,1,t),Gt(e,t))}function lt(e,t,n){if(e.tag===3)nm(e,e,n);else for(;t!==null;){if(t.tag===3){nm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cn===null||!Cn.has(r))){e=Kr(n,e),e=Hf(t,e,1),t=kn(t,e,1),e=Ut(),t!==null&&(si(t,1,e),Gt(t,e));break}}t=t.return}}function wx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&n,Nt===e&&(wt&n)===n&&(vt===4||vt===3&&(wt&130023424)===wt&&500>ct()-Sd?tr(e,0):wd|=n),Gt(e,t)}function hp(e,t){t===0&&(e.mode&1?(t=pi,pi<<=1,!(pi&130023424)&&(pi=4194304)):t=1);var n=Ut();e=Xs(e,t),e!==null&&(si(e,t,n),Gt(e,n))}function Sx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hp(e,n)}function kx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(t),hp(e,n)}var fp;fp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wt=!1,mx(e,t,n);Wt=!!(e.flags&131072)}else Wt=!1,Ye&&t.flags&1048576&&xf(t,nl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$i(e,t),e=t.pendingProps;var a=Vr(t,Rt.current);Ir(t,n),a=gd(null,t,r,e,a,n);var i=xd();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(r)?(i=!0,tl(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,md(t),a.updater=Il,t.stateNode=a,a._reactInternals=t,mc(t,r,e,n),t=pc(null,t,r,!0,i,n)):(t.tag=0,Ye&&i&&ad(t),Ot(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch($i(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Ex(r),e=gs(r,e),a){case 0:t=fc(null,t,r,e,n);break e;case 1:t=Hu(null,t,r,e,n);break e;case 11:t=Qu(null,t,r,e,n);break e;case 14:t=Wu(null,t,r,gs(r.type,e),n);break e}throw Error(J(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:gs(r,a),fc(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:gs(r,a),Hu(e,t,r,a,n);case 3:e:{if(Jf(t),e===null)throw Error(J(387));r=t.pendingProps,i=t.memoizedState,a=i.element,Sf(e,t),il(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Kr(Error(J(423)),t),t=Ku(e,t,r,n,a);break e}else if(r!==a){a=Kr(Error(J(424)),t),t=Ku(e,t,r,n,a);break e}else for(es=Sn(t.stateNode.containerInfo.firstChild),ts=t,Ye=!0,ws=null,n=bf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qr(),r===a){t=Zs(e,t,n);break e}Ot(e,t,r,n)}t=t.child}return t;case 5:return kf(t),e===null&&cc(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,rc(r,a)?l=null:i!==null&&rc(r,i)&&(t.flags|=32),Yf(e,t),Ot(e,t,l,n),t.child;case 6:return e===null&&cc(t),null;case 13:return Xf(e,t,n);case 4:return hd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wr(t,null,r,n):Ot(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:gs(r,a),Qu(e,t,r,a,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,We(rl,r._currentValue),r._currentValue=l,i!==null)if(Es(i.value,l)){if(i.children===a.children&&!Ht.current){t=Zs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Hs(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),dc(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(J(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),dc(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ot(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ir(t,n),a=fs(a),r=r(a),t.flags|=1,Ot(e,t,r,n),t.child;case 14:return r=t.type,a=gs(r,t.pendingProps),a=gs(r.type,a),Wu(e,t,r,a,n);case 15:return Kf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:gs(r,a),$i(e,t),t.tag=1,Kt(r)?(e=!0,tl(t)):e=!1,Ir(t,n),Qf(t,r,a),mc(t,r,a,n),pc(null,t,r,!0,e,n);case 19:return Zf(e,t,n);case 22:return Gf(e,t,n)}throw Error(J(156,t.tag))};function pp(e,t){return Bh(e,t)}function Cx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(e,t,n,r){return new Cx(e,t,n,r)}function Dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ex(e){if(typeof e=="function")return Dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hc)return 11;if(e===Kc)return 14}return 2}function Dn(e,t){var n=e.alternate;return n===null?(n=ms(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qi(e,t,n,r,a,i){var l=2;if(r=e,typeof e=="function")Dd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case xr:return sr(n.children,a,i,t);case Wc:l=8,a|=8;break;case Mo:return e=ms(12,n,t,a|2),e.elementType=Mo,e.lanes=i,e;case Oo:return e=ms(13,n,t,a),e.elementType=Oo,e.lanes=i,e;case _o:return e=ms(19,n,t,a),e.elementType=_o,e.lanes=i,e;case Sh:return Ml(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bh:l=10;break e;case wh:l=9;break e;case Hc:l=11;break e;case Kc:l=14;break e;case cn:l=16,r=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=ms(l,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function sr(e,t,n,r){return e=ms(7,e,r,t),e.lanes=n,e}function Ml(e,t,n,r){return e=ms(22,e,r,t),e.elementType=Sh,e.lanes=n,e.stateNode={isHidden:!1},e}function yo(e,t,n){return e=ms(6,e,null,t),e.lanes=n,e}function bo(e,t,n){return t=ms(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dx(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ad(e,t,n,r,a,i,l,o,c){return e=new Dx(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ms(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},md(i),e}function Ax(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vp(e){if(!e)return Pn;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(Kt(n))return vf(e,n,t)}return t}function gp(e,t,n,r,a,i,l,o,c){return e=Ad(n,r,!0,e,a,i,l,o,c),e.context=vp(null),n=e.current,r=Ut(),a=En(n),i=Hs(r,a),i.callback=t??null,kn(n,i,a),e.current.lanes=a,si(e,a,r),Gt(e,r),e}function Ol(e,t,n,r){var a=t.current,i=Ut(),l=En(a);return n=vp(n),t.context===null?t.context=n:t.pendingContext=n,t=Hs(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kn(a,t,l),e!==null&&(Cs(e,a,l,i),Oi(e,a,l)),l}function fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pd(e,t){rm(e,t),(e=e.alternate)&&rm(e,t)}function Px(){return null}var xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Td(e){this._internalRoot=e}_l.prototype.render=Td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Ol(e,t,null,null)};_l.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lr(function(){Ol(null,e,null,null)}),t[Js]=null}};function _l(e){this._internalRoot=e}_l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&Yh(e)}};function Rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function am(){}function Tx(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=fl(l);i.call(u)}}var l=gp(t,r,e,0,null,!1,!1,"",am);return e._reactRootContainer=l,e[Js]=l.current,Oa(e.nodeType===8?e.parentNode:e),lr(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var u=fl(c);o.call(u)}}var c=Ad(e,0,!1,null,null,!1,!1,"",am);return e._reactRootContainer=c,e[Js]=c.current,Oa(e.nodeType===8?e.parentNode:e),lr(function(){Ol(t,c,n,r)}),c}function $l(e,t,n,r,a){var i=n._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=fl(l);o.call(c)}}Ol(t,l,e,a)}else l=Tx(n,t,e,a,r);return fl(l)}Wh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=va(t.pendingLanes);n!==0&&(Jc(t,n|1),Gt(t,ct()),!(Fe&6)&&(Gr=ct()+500,Ln()))}break;case 13:lr(function(){var r=Xs(e,1);if(r!==null){var a=Ut();Cs(r,e,1,a)}}),Pd(e,1)}};Xc=function(e){if(e.tag===13){var t=Xs(e,134217728);if(t!==null){var n=Ut();Cs(t,e,134217728,n)}Pd(e,134217728)}};Hh=function(e){if(e.tag===13){var t=En(e),n=Xs(e,t);if(n!==null){var r=Ut();Cs(n,e,t,r)}Pd(e,t)}};Kh=function(){return Ve};Gh=function(e,t){var n=Ve;try{return Ve=e,t()}finally{Ve=n}};Ko=function(e,t,n){switch(t){case"input":if(Bo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Pl(r);if(!a)throw Error(J(90));Ch(r),Bo(r,a)}}}break;case"textarea":Dh(e,n);break;case"select":t=n.value,t!=null&&Ar(e,!!n.multiple,t,!1)}};Fh=kd;Mh=lr;var Rx={usingClientEntryPoint:!1,Events:[ri,br,Pl,Ih,Lh,kd]},da={findFiberByHostInstance:Qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ix={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uh(e),e===null?null:e.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||Px,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ci.isDisabled&&Ci.supportsFiber)try{Cl=Ci.inject(Ix),Os=Ci}catch{}}as.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rx;as.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rd(t))throw Error(J(200));return Ax(e,t,null,n)};as.createRoot=function(e,t){if(!Rd(e))throw Error(J(299));var n=!1,r="",a=xp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ad(e,1,!1,null,null,n,!1,r,a),e[Js]=t.current,Oa(e.nodeType===8?e.parentNode:e),new Td(t)};as.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=Uh(t),e=e===null?null:e.stateNode,e};as.flushSync=function(e){return lr(e)};as.hydrate=function(e,t,n){if(!Ul(t))throw Error(J(200));return $l(null,e,t,!0,n)};as.hydrateRoot=function(e,t,n){if(!Rd(e))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",l=xp;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=gp(t,null,e,1,n??null,a,!1,i,l),e[Js]=t.current,Oa(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new _l(t)};as.render=function(e,t,n){if(!Ul(t))throw Error(J(200));return $l(null,e,t,!1,n)};as.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(J(40));return e._reactRootContainer?(lr(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[Js]=null})}),!0):!1};as.unstable_batchedUpdates=kd;as.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ul(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return $l(e,t,n,!1,r)};as.version="18.3.1-next-f1338f8080-20240426";function jp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jp)}catch(e){console.error(e)}}jp(),xh.exports=as;var Id=xh.exports;const Lx=ih(Id),Fx=ah({__proto__:null,default:Lx},[Id]);var im=Id;Lo.createRoot=im.createRoot,Lo.hydrateRoot=im.hydrateRoot;var Np={exports:{}},yp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=w;function Mx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ox=typeof Object.is=="function"?Object.is:Mx,_x=ii.useSyncExternalStore,Ux=ii.useRef,$x=ii.useEffect,Bx=ii.useMemo,zx=ii.useDebugValue;yp.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=Ux(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=Bx(function(){function c(y){if(!u){if(u=!0,h=y,y=r(y),a!==void 0&&l.hasValue){var C=l.value;if(a(C,y))return m=C}return m=y}if(C=m,Ox(h,y))return C;var g=r(y);return a!==void 0&&a(C,g)?(h=y,C):(h=y,m=g)}var u=!1,h,m,d=n===void 0?null:n;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,n,r,a]);var o=_x(e,i[0],i[1]);return $x(function(){l.hasValue=!0,l.value=o},[o]),zx(o),o};Np.exports=yp;var qx=Np.exports;function Vx(e){e()}function Qx(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Vx(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var lm={notify(){},get:()=>[]};function Wx(e,t){let n,r=lm,a=0,i=!1;function l(g){h();const F=r.subscribe(g);let p=!1;return()=>{p||(p=!0,F(),m())}}function o(){r.notify()}function c(){C.onStateChange&&C.onStateChange()}function u(){return i}function h(){a++,n||(n=e.subscribe(c),r=Qx())}function m(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=lm)}function d(){i||(i=!0,h())}function y(){i&&(i=!1,m())}const C={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:d,tryUnsubscribe:y,getListeners:()=>r};return C}var Hx=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kx=Hx(),Gx=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Yx=Gx(),Jx=()=>Kx||Yx?w.useLayoutEffect:w.useEffect,Xx=Jx(),wo=Symbol.for("react-redux-context"),So=typeof globalThis<"u"?globalThis:{};function Zx(){if(!w.createContext)return{};const e=So[wo]??(So[wo]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var Tn=Zx();function ej(e){const{children:t,context:n,serverState:r,store:a}=e,i=w.useMemo(()=>{const c=Wx(a);return{store:a,subscription:c,getServerState:r?()=>r:void 0}},[a,r]),l=w.useMemo(()=>a.getState(),[a]);Xx(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=n||Tn;return w.createElement(o.Provider,{value:i},t)}var tj=ej;function Ld(e=Tn){return function(){return w.useContext(e)}}var bp=Ld();function wp(e=Tn){const t=e===Tn?bp:Ld(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var sj=wp();function nj(e=Tn){const t=e===Tn?sj:wp(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var rj=nj(),aj=(e,t)=>e===t;function ij(e=Tn){const t=e===Tn?bp:Ld(e),n=(r,a={})=>{const{equalityFn:i=aj}=typeof a=="function"?{equalityFn:a}:a,l=t(),{store:o,subscription:c,getServerState:u}=l;w.useRef(!0);const h=w.useCallback({[r.name](d){return r(d)}}[r.name],[r]),m=qx.useSyncExternalStoreWithSelector(c.addNestedSub,o.getState,u||o.getState,h,i);return w.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var Ec=ij(),Bl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zl=typeof window>"u"||"Deno"in globalThis;function xs(){}function lj(e,t){return typeof e=="function"?e(t):e}function oj(e){return typeof e=="number"&&e>=0&&e!==1/0}function cj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Dc(e,t){return typeof e=="function"?e(t):e}function dj(e,t){return typeof e=="function"?e(t):e}function om(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==Fd(l,t.options))return!1}else if(!Ha(t.queryKey,l))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function cm(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Wa(t.options.mutationKey)!==Wa(i))return!1}else if(!Ha(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Fd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wa)(e)}function Wa(e){return JSON.stringify(e,(t,n)=>Ac(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Ha(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ha(e[n],t[n])):!1}function Sp(e,t){if(e===t)return e;const n=dm(e)&&dm(t);if(n||Ac(e)&&Ac(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),l=i.length,o=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<l;h++){const m=n?h:i[h];(!n&&c.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(o[m]=void 0,u++):(o[m]=Sp(e[m],t[m]),o[m]===e[m]&&e[m]!==void 0&&u++)}return a===l&&u===a?e:o}return t}function dm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ac(e){if(!um(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!um(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function um(e){return Object.prototype.toString.call(e)==="[object Object]"}function uj(e){return new Promise(t=>{setTimeout(t,e)})}function mj(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Sp(e,t):t}function hj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function fj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Md=Symbol();function kp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Md?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gn,hn,Fr,Jm,pj=(Jm=class extends Bl{constructor(){super();_e(this,Gn);_e(this,hn);_e(this,Fr);Ce(this,Fr,t=>{if(!zl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,hn)||this.setEventListener(V(this,Fr))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,hn))==null||t.call(this),Ce(this,hn,void 0))}setEventListener(t){var n;Ce(this,Fr,t),(n=V(this,hn))==null||n.call(this),Ce(this,hn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){V(this,Gn)!==t&&(Ce(this,Gn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof V(this,Gn)=="boolean"?V(this,Gn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gn=new WeakMap,hn=new WeakMap,Fr=new WeakMap,Jm),Cp=new pj,Mr,fn,Or,Xm,vj=(Xm=class extends Bl{constructor(){super();_e(this,Mr,!0);_e(this,fn);_e(this,Or);Ce(this,Or,t=>{if(!zl&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,fn)||this.setEventListener(V(this,Or))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,fn))==null||t.call(this),Ce(this,fn,void 0))}setEventListener(t){var n;Ce(this,Or,t),(n=V(this,fn))==null||n.call(this),Ce(this,fn,t(this.setOnline.bind(this)))}setOnline(t){V(this,Mr)!==t&&(Ce(this,Mr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return V(this,Mr)}},Mr=new WeakMap,fn=new WeakMap,Or=new WeakMap,Xm),pl=new vj;function gj(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function xj(e){return Math.min(1e3*2**e,3e4)}function Ep(e){return(e??"online")==="online"?pl.isOnline():!0}var Dp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ko(e){return e instanceof Dp}function Ap(e){let t=!1,n=0,r=!1,a;const i=gj(),l=g=>{var F;r||(d(new Dp(g)),(F=e.abort)==null||F.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>Cp.isFocused()&&(e.networkMode==="always"||pl.isOnline())&&e.canRun(),h=()=>Ep(e.networkMode)&&e.canRun(),m=g=>{var F;r||(r=!0,(F=e.onSuccess)==null||F.call(e,g),a==null||a(),i.resolve(g))},d=g=>{var F;r||(r=!0,(F=e.onError)==null||F.call(e,g),a==null||a(),i.reject(g))},y=()=>new Promise(g=>{var F;a=p=>{(r||u())&&g(p)},(F=e.onPause)==null||F.call(e)}).then(()=>{var g;a=void 0,r||(g=e.onContinue)==null||g.call(e)}),C=()=>{if(r)return;let g;const F=n===0?e.initialPromise:void 0;try{g=F??e.fn()}catch(p){g=Promise.reject(p)}Promise.resolve(g).then(m).catch(p=>{var N;if(r)return;const f=e.retry??(zl?0:3),j=e.retryDelay??xj,E=typeof j=="function"?j(n,p):j,R=f===!0||typeof f=="number"&&n<f||typeof f=="function"&&f(n,p);if(t||!R){d(p);return}n++,(N=e.onFail)==null||N.call(e,n,p),uj(E).then(()=>u()?void 0:y()).then(()=>{t?d(p):C()})})};return{promise:i,cancel:l,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?C():y().then(C),i)}}var jj=e=>setTimeout(e,0);function Nj(){let e=[],t=0,n=o=>{o()},r=o=>{o()},a=jj;const i=o=>{t?e.push(o):a(()=>{n(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{a=o}}}var _t=Nj(),Yn,Zm,Pp=(Zm=class{constructor(){_e(this,Yn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oj(this.gcTime)&&Ce(this,Yn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zl?1/0:5*60*1e3))}clearGcTimeout(){V(this,Yn)&&(clearTimeout(V(this,Yn)),Ce(this,Yn,void 0))}},Yn=new WeakMap,Zm),_r,Jn,cs,Xn,Pt,Za,Zn,js,Bs,eh,yj=(eh=class extends Pp{constructor(t){super();_e(this,js);_e(this,_r);_e(this,Jn);_e(this,cs);_e(this,Xn);_e(this,Pt);_e(this,Za);_e(this,Zn);Ce(this,Zn,!1),Ce(this,Za,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ce(this,Xn,t.client),Ce(this,cs,V(this,Xn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ce(this,_r,wj(this.options)),this.state=t.state??V(this,_r),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,Pt))==null?void 0:t.promise}setOptions(t){this.options={...V(this,Za),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,cs).remove(this)}setData(t,n){const r=mj(this.state.data,t,this.options);return Et(this,js,Bs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Et(this,js,Bs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=V(this,Pt))==null?void 0:r.promise;return(a=V(this,Pt))==null||a.cancel(t),n?n.then(xs).catch(xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,_r))}isActive(){return this.observers.some(t=>dj(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Md||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Dc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cj(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,Pt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,Pt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,cs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(V(this,Pt)&&(V(this,Zn)?V(this,Pt).cancel({revert:!0}):V(this,Pt).cancelRetry()),this.scheduleGc()),V(this,cs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Et(this,js,Bs).call(this,{type:"invalidate"})}fetch(t,n){var u,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Pt))return V(this,Pt).continueRetry(),V(this,Pt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(y=>y.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Ce(this,Zn,!0),r.signal)})},i=()=>{const d=kp(this.options,n),C=(()=>{const g={client:V(this,Xn),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return Ce(this,Zn,!1),this.options.persister?this.options.persister(d,C,this):d(C)},o=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:V(this,Xn),state:this.state,fetchFn:i};return a(d),d})();(u=this.options.behavior)==null||u.onFetch(o,this),Ce(this,Jn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&Et(this,js,Bs).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta});const c=d=>{var y,C,g,F;ko(d)&&d.silent||Et(this,js,Bs).call(this,{type:"error",error:d}),ko(d)||((C=(y=V(this,cs).config).onError)==null||C.call(y,d,this),(F=(g=V(this,cs).config).onSettled)==null||F.call(g,this.state.data,d,this)),this.scheduleGc()};return Ce(this,Pt,Ap({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var y,C,g,F;if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(p){c(p);return}(C=(y=V(this,cs).config).onSuccess)==null||C.call(y,d,this),(F=(g=V(this,cs).config).onSettled)==null||F.call(g,d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,y)=>{Et(this,js,Bs).call(this,{type:"failed",failureCount:d,error:y})},onPause:()=>{Et(this,js,Bs).call(this,{type:"pause"})},onContinue:()=>{Et(this,js,Bs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,Pt).start()}},_r=new WeakMap,Jn=new WeakMap,cs=new WeakMap,Xn=new WeakMap,Pt=new WeakMap,Za=new WeakMap,Zn=new WeakMap,js=new WeakSet,Bs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bj(r.data,this.options),fetchMeta:t.meta??null};case"success":return Ce(this,Jn,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return ko(a)&&a.revert&&V(this,Jn)?{...V(this,Jn),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),_t.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,cs).notify({query:this,type:"updated",action:t})})},eh);function bj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ep(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Is,th,Sj=(th=class extends Bl{constructor(t={}){super();_e(this,Is);this.config=t,Ce(this,Is,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??Fd(a,n);let l=this.get(i);return l||(l=new yj({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){V(this,Is).has(t.queryHash)||(V(this,Is).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=V(this,Is).get(t.queryHash);n&&(t.destroy(),n===t&&V(this,Is).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,Is).get(t)}getAll(){return[...V(this,Is).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>om(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>om(t,r)):n}notify(t){_t.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){_t.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_t.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Is=new WeakMap,th),Ls,Mt,er,Fs,ln,sh,kj=(sh=class extends Pp{constructor(t){super();_e(this,Fs);_e(this,Ls);_e(this,Mt);_e(this,er);this.mutationId=t.mutationId,Ce(this,Mt,t.mutationCache),Ce(this,Ls,[]),this.state=t.state||Cj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,Ls).includes(t)||(V(this,Ls).push(t),this.clearGcTimeout(),V(this,Mt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ce(this,Ls,V(this,Ls).filter(n=>n!==t)),this.scheduleGc(),V(this,Mt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,Ls).length||(this.state.status==="pending"?this.scheduleGc():V(this,Mt).remove(this))}continue(){var t;return((t=V(this,er))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,o,c,u,h,m,d,y,C,g,F,p,f,j,E,R,N,x,v;const n=()=>{Et(this,Fs,ln).call(this,{type:"continue"})};Ce(this,er,Ap({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,D)=>{Et(this,Fs,ln).call(this,{type:"failed",failureCount:S,error:D})},onPause:()=>{Et(this,Fs,ln).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Mt).canRun(this)}));const r=this.state.status==="pending",a=!V(this,er).canStart();try{if(r)n();else{Et(this,Fs,ln).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=V(this,Mt).config).onMutate)==null?void 0:l.call(i,t,this));const D=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));D!==this.state.context&&Et(this,Fs,ln).call(this,{type:"pending",context:D,variables:t,isPaused:a})}const S=await V(this,er).start();return await((h=(u=V(this,Mt).config).onSuccess)==null?void 0:h.call(u,S,t,this.state.context,this)),await((d=(m=this.options).onSuccess)==null?void 0:d.call(m,S,t,this.state.context)),await((C=(y=V(this,Mt).config).onSettled)==null?void 0:C.call(y,S,null,this.state.variables,this.state.context,this)),await((F=(g=this.options).onSettled)==null?void 0:F.call(g,S,null,t,this.state.context)),Et(this,Fs,ln).call(this,{type:"success",data:S}),S}catch(S){try{throw await((f=(p=V(this,Mt).config).onError)==null?void 0:f.call(p,S,t,this.state.context,this)),await((E=(j=this.options).onError)==null?void 0:E.call(j,S,t,this.state.context)),await((N=(R=V(this,Mt).config).onSettled)==null?void 0:N.call(R,void 0,S,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,void 0,S,t,this.state.context)),S}finally{Et(this,Fs,ln).call(this,{type:"error",error:S})}}finally{V(this,Mt).runNext(this)}}},Ls=new WeakMap,Mt=new WeakMap,er=new WeakMap,Fs=new WeakSet,ln=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),_t.batch(()=>{V(this,Ls).forEach(r=>{r.onMutationUpdate(t)}),V(this,Mt).notify({mutation:this,type:"updated",action:t})})},sh);function Cj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vs,Ns,ei,nh,Ej=(nh=class extends Bl{constructor(t={}){super();_e(this,Vs);_e(this,Ns);_e(this,ei);this.config=t,Ce(this,Vs,new Set),Ce(this,Ns,new Map),Ce(this,ei,0)}build(t,n,r){const a=new kj({mutationCache:this,mutationId:++ci(this,ei)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){V(this,Vs).add(t);const n=Ei(t);if(typeof n=="string"){const r=V(this,Ns).get(n);r?r.push(t):V(this,Ns).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(V(this,Vs).delete(t)){const n=Ei(t);if(typeof n=="string"){const r=V(this,Ns).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&V(this,Ns).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ei(t);if(typeof n=="string"){const r=V(this,Ns).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=Ei(t);if(typeof n=="string"){const a=(r=V(this,Ns).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_t.batch(()=>{V(this,Vs).forEach(t=>{this.notify({type:"removed",mutation:t})}),V(this,Vs).clear(),V(this,Ns).clear()})}getAll(){return Array.from(V(this,Vs))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>cm(n,r))}findAll(t={}){return this.getAll().filter(n=>cm(t,n))}notify(t){_t.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return _t.batch(()=>Promise.all(t.map(n=>n.continue().catch(xs))))}},Vs=new WeakMap,Ns=new WeakMap,ei=new WeakMap,nh);function Ei(e){var t;return(t=e.options.scope)==null?void 0:t.id}function mm(e){return{onFetch:(t,n)=>{var h,m,d,y,C;const r=t.options,a=(d=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:d.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],l=((C=t.state.data)==null?void 0:C.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const F=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},p=kp(t.options,t.fetchOptions),f=async(j,E,R)=>{if(g)return Promise.reject();if(E==null&&j.pages.length)return Promise.resolve(j);const x=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:E,direction:R?"backward":"forward",meta:t.options.meta};return F(L),L})(),v=await p(x),{maxPages:S}=t.options,D=R?fj:hj;return{pages:D(j.pages,v,S),pageParams:D(j.pageParams,E,S)}};if(a&&i.length){const j=a==="backward",E=j?Dj:hm,R={pages:i,pageParams:l},N=E(r,R);o=await f(R,N,j)}else{const j=e??i.length;do{const E=c===0?l[0]??r.initialPageParam:hm(r,o);if(c>0&&E==null)break;o=await f(o,E),c++}while(c<j)}return o};t.options.persister?t.fetchFn=()=>{var g,F;return(F=(g=t.options).persister)==null?void 0:F.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function hm(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Dj(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var it,pn,vn,Ur,$r,gn,Br,zr,rh,Aj=(rh=class{constructor(e={}){_e(this,it);_e(this,pn);_e(this,vn);_e(this,Ur);_e(this,$r);_e(this,gn);_e(this,Br);_e(this,zr);Ce(this,it,e.queryCache||new Sj),Ce(this,pn,e.mutationCache||new Ej),Ce(this,vn,e.defaultOptions||{}),Ce(this,Ur,new Map),Ce(this,$r,new Map),Ce(this,gn,0)}mount(){ci(this,gn)._++,V(this,gn)===1&&(Ce(this,Br,Cp.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,it).onFocus())})),Ce(this,zr,pl.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,it).onOnline())})))}unmount(){var e,t;ci(this,gn)._--,V(this,gn)===0&&((e=V(this,Br))==null||e.call(this),Ce(this,Br,void 0),(t=V(this,zr))==null||t.call(this),Ce(this,zr,void 0))}isFetching(e){return V(this,it).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,pn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,it).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=V(this,it).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Dc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return V(this,it).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=V(this,it).get(r.queryHash),i=a==null?void 0:a.state.data,l=lj(t,i);if(l!==void 0)return V(this,it).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return _t.batch(()=>V(this,it).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,it).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=V(this,it);_t.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=V(this,it);return _t.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=_t.batch(()=>V(this,it).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(xs).catch(xs)}invalidateQueries(e,t={}){return _t.batch(()=>(V(this,it).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=_t.batch(()=>V(this,it).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(xs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=V(this,it).build(this,t);return n.isStaleByTime(Dc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xs).catch(xs)}fetchInfiniteQuery(e){return e.behavior=mm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xs).catch(xs)}ensureInfiniteQueryData(e){return e.behavior=mm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pl.isOnline()?V(this,pn).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,it)}getMutationCache(){return V(this,pn)}getDefaultOptions(){return V(this,vn)}setDefaultOptions(e){Ce(this,vn,e)}setQueryDefaults(e,t){V(this,Ur).set(Wa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Ur).values()],n={};return t.forEach(r=>{Ha(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){V(this,$r).set(Wa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,$r).values()],n={};return t.forEach(r=>{Ha(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,vn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Md&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,vn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,it).clear(),V(this,pn).clear()}},it=new WeakMap,pn=new WeakMap,vn=new WeakMap,Ur=new WeakMap,$r=new WeakMap,gn=new WeakMap,Br=new WeakMap,zr=new WeakMap,rh),Pj=w.createContext(void 0),Tj=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Pj.Provider,{value:e,children:t}));function yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rj=typeof Symbol=="function"&&Symbol.observable||"@@observable",fm=Rj,Co=()=>Math.random().toString(36).substring(7).split("").join("."),Ij={INIT:`@@redux/INIT${Co()}`,REPLACE:`@@redux/REPLACE${Co()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Co()}`},vl=Ij;function Od(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Tp(e,t,n){if(typeof e!="function")throw new Error(yt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yt(1));return n(Tp)(e,t)}let r=e,a=t,i=new Map,l=i,o=0,c=!1;function u(){l===i&&(l=new Map,i.forEach((F,p)=>{l.set(p,F)}))}function h(){if(c)throw new Error(yt(3));return a}function m(F){if(typeof F!="function")throw new Error(yt(4));if(c)throw new Error(yt(5));let p=!0;u();const f=o++;return l.set(f,F),function(){if(p){if(c)throw new Error(yt(6));p=!1,u(),l.delete(f),i=null}}}function d(F){if(!Od(F))throw new Error(yt(7));if(typeof F.type>"u")throw new Error(yt(8));if(typeof F.type!="string")throw new Error(yt(17));if(c)throw new Error(yt(9));try{c=!0,a=r(a,F)}finally{c=!1}return(i=l).forEach(f=>{f()}),F}function y(F){if(typeof F!="function")throw new Error(yt(10));r=F,d({type:vl.REPLACE})}function C(){const F=m;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(yt(11));function f(){const E=p;E.next&&E.next(h())}return f(),{unsubscribe:F(f)}},[fm](){return this}}}return d({type:vl.INIT}),{dispatch:d,subscribe:m,getState:h,replaceReducer:y,[fm]:C}}function Lj(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:vl.INIT})>"u")throw new Error(yt(12));if(typeof n(void 0,{type:vl.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yt(13))})}function Fj(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let a;try{Lj(n)}catch(i){a=i}return function(l={},o){if(a)throw a;let c=!1;const u={};for(let h=0;h<r.length;h++){const m=r[h],d=n[m],y=l[m],C=d(y,o);if(typeof C>"u")throw o&&o.type,new Error(yt(14));u[m]=C,c=c||C!==y}return c=c||r.length!==Object.keys(l).length,c?u:l}}function gl(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Mj(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(yt(15))};const l={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(l));return i=gl(...o)(a.dispatch),{...a,dispatch:i}}}function Oj(e){return Od(e)&&"type"in e&&typeof e.type=="string"}var Rp=Symbol.for("immer-nothing"),pm=Symbol.for("immer-draftable"),ns=Symbol.for("immer-state");function Ss(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yr=Object.getPrototypeOf;function or(e){return!!e&&!!e[ns]}function en(e){var t;return e?Ip(e)||Array.isArray(e)||!!e[pm]||!!((t=e.constructor)!=null&&t[pm])||Vl(e)||Ql(e):!1}var _j=Object.prototype.constructor.toString();function Ip(e){if(!e||typeof e!="object")return!1;const t=Yr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===_j}function xl(e,t){ql(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function ql(e){const t=e[ns];return t?t.type_:Array.isArray(e)?1:Vl(e)?2:Ql(e)?3:0}function Pc(e,t){return ql(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Lp(e,t,n){const r=ql(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Uj(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Vl(e){return e instanceof Map}function Ql(e){return e instanceof Set}function zn(e){return e.copy_||e.base_}function Tc(e,t){if(Vl(e))return new Map(e);if(Ql(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Ip(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ns];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const l=a[i],o=r[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(Yr(e),r)}else{const r=Yr(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function _d(e,t=!1){return Wl(e)||or(e)||!en(e)||(ql(e)>1&&(e.set=e.add=e.clear=e.delete=$j),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>_d(r,!0))),e}function $j(){Ss(2)}function Wl(e){return Object.isFrozen(e)}var Bj={};function cr(e){const t=Bj[e];return t||Ss(0,e),t}var Ka;function Fp(){return Ka}function zj(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vm(e,t){t&&(cr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Rc(e){Ic(e),e.drafts_.forEach(qj),e.drafts_=null}function Ic(e){e===Ka&&(Ka=e.parent_)}function gm(e){return Ka=zj(Ka,e)}function qj(e){const t=e[ns];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xm(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ns].modified_&&(Rc(t),Ss(4)),en(e)&&(e=jl(t,e),t.parent_||Nl(t,e)),t.patches_&&cr("Patches").generateReplacementPatches_(n[ns].base_,e,t.patches_,t.inversePatches_)):e=jl(t,n,[]),Rc(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Rp?e:void 0}function jl(e,t,n){if(Wl(t))return t;const r=t[ns];if(!r)return xl(t,(a,i)=>jm(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Nl(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let i=a,l=!1;r.type_===3&&(i=new Set(a),a.clear(),l=!0),xl(i,(o,c)=>jm(e,r,a,o,c,n,l)),Nl(e,a,!1),n&&e.patches_&&cr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function jm(e,t,n,r,a,i,l){if(or(a)){const o=i&&t&&t.type_!==3&&!Pc(t.assigned_,r)?i.concat(r):void 0,c=jl(e,a,o);if(Lp(n,r,c),or(c))e.canAutoFreeze_=!1;else return}else l&&n.add(a);if(en(a)&&!Wl(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;jl(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Nl(e,a)}}function Nl(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_d(t,n)}function Vj(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Fp(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=Ud;n&&(a=[r],i=Ga);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return r.draft_=o,r.revoke_=l,o}var Ud={get(e,t){if(t===ns)return e;const n=zn(e);if(!Pc(n,t))return Qj(e,n,t);const r=n[t];return e.finalized_||!en(r)?r:r===Eo(e.base_,t)?(Do(e),e.copy_[t]=Fc(r,e)):r},has(e,t){return t in zn(e)},ownKeys(e){return Reflect.ownKeys(zn(e))},set(e,t,n){const r=Mp(zn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Eo(zn(e),t),i=a==null?void 0:a[ns];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Uj(n,a)&&(n!==void 0||Pc(e.base_,t)))return!0;Do(e),Lc(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Eo(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Do(e),Lc(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ss(11)},getPrototypeOf(e){return Yr(e.base_)},setPrototypeOf(){Ss(12)}},Ga={};xl(Ud,(e,t)=>{Ga[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ga.deleteProperty=function(e,t){return Ga.set.call(this,e,t,void 0)};Ga.set=function(e,t,n){return Ud.set.call(this,e[0],t,n,e[0])};function Eo(e,t){const n=e[ns];return(n?zn(n):e)[t]}function Qj(e,t,n){var a;const r=Mp(t,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function Mp(e,t){if(!(t in e))return;let n=Yr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Yr(n)}}function Lc(e){e.modified_||(e.modified_=!0,e.parent_&&Lc(e.parent_))}function Do(e){e.copy_||(e.copy_=Tc(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Wj=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const l=this;return function(c=i,...u){return l.produce(c,h=>n.call(this,h,...u))}}typeof n!="function"&&Ss(6),r!==void 0&&typeof r!="function"&&Ss(7);let a;if(en(t)){const i=gm(this),l=Fc(t,void 0);let o=!0;try{a=n(l),o=!1}finally{o?Rc(i):Ic(i)}return vm(i,r),xm(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===Rp&&(a=void 0),this.autoFreeze_&&_d(a,!0),r){const i=[],l=[];cr("Patches").generateReplacementPatches_(t,a,i,l),r(i,l)}return a}else Ss(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let r,a;return[this.produce(t,n,(l,o)=>{r=l,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){en(e)||Ss(8),or(e)&&(e=Hj(e));const t=gm(this),n=Fc(e,void 0);return n[ns].isManual_=!0,Ic(t),n}finishDraft(e,t){const n=e&&e[ns];(!n||!n.isManual_)&&Ss(9);const{scope_:r}=n;return vm(r,t),xm(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=cr("Patches").applyPatches_;return or(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Fc(e,t){const n=Vl(e)?cr("MapSet").proxyMap_(e,t):Ql(e)?cr("MapSet").proxySet_(e,t):Vj(e,t);return(t?t.scope_:Fp()).drafts_.push(n),n}function Hj(e){return or(e)||Ss(10,e),Op(e)}function Op(e){if(!en(e)||Wl(e))return e;const t=e[ns];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Tc(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Tc(e,!0);return xl(n,(r,a)=>{Lp(n,r,Op(a))}),t&&(t.finalized_=!1),n}var rs=new Wj,_p=rs.produce;rs.produceWithPatches.bind(rs);rs.setAutoFreeze.bind(rs);rs.setUseStrictShallowCopy.bind(rs);rs.applyPatches.bind(rs);rs.createDraft.bind(rs);rs.finishDraft.bind(rs);function Up(e){return({dispatch:n,getState:r})=>a=>i=>typeof i=="function"?i(n,r,e):a(i)}var Kj=Up(),Gj=Up,Yj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gl:gl.apply(null,arguments)};function Nm(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Ks(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Oj(r)&&r.type===e,n}var $p=class xa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,xa.prototype)}static get[Symbol.species](){return xa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new xa(...t[0].concat(this)):new xa(...t.concat(this))}};function ym(e){return en(e)?_p(e,()=>{}):e}function Di(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Jj(e){return typeof e=="boolean"}var Xj=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new $p;return n&&(Jj(n)?l.push(Kj):l.push(Gj(n.extraArgument))),l},Zj="RTK_autoBatch",bm=e=>t=>{setTimeout(t,e)},eN=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bm(10):e.type==="callback"?e.queueNotification:bm(e.timeout),u=()=>{l=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>a&&h(),d=r.subscribe(m);return o.add(h),()=>{d(),o.delete(h)}},dispatch(h){var m;try{return a=!((m=h==null?void 0:h.meta)!=null&&m[Zj]),i=!a,i&&(l||(l=!0,c(u))),r.dispatch(h)}finally{a=!0}}})},tN=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new $p(e);return r&&a.push(eN(typeof r=="object"?r:void 0)),a};function sN(e){const t=Xj(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(Od(n))o=Fj(n);else throw new Error(Ks(1));let c;typeof r=="function"?c=r(t):c=t();let u=gl;a&&(u=Yj({trace:!1,...typeof a=="object"&&a}));const h=Mj(...c),m=tN(h);let d=typeof l=="function"?l(m):m();const y=u(...d);return Tp(o,i,y)}function Bp(e){const t={},n=[];let r;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Ks(28));if(o in t)throw new Error(Ks(29));return t[o]=l,a},addMatcher(i,l){return n.push({matcher:i,reducer:l}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function nN(e){return typeof e=="function"}function rN(e,t){let[n,r,a]=Bp(t),i;if(nN(e))i=()=>ym(e());else{const o=ym(e);i=()=>o}function l(o=i(),c){let u=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[a]),u.reduce((h,m)=>{if(m)if(or(h)){const y=m(h,c);return y===void 0?h:y}else{if(en(h))return _p(h,d=>m(d,c));{const d=m(h,c);if(d===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return h},o)}return l.getInitialState=i,l}var aN=Symbol.for("rtk-slice-createasyncthunk");function iN(e,t){return`${e}/${t}`}function lN({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[aN];return function(a){const{name:i,reducerPath:l=i}=a;if(!i)throw new Error(Ks(11));const o=(typeof a.reducers=="function"?a.reducers(cN()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,R){const N=typeof E=="string"?E:E.type;if(!N)throw new Error(Ks(12));if(N in u.sliceCaseReducersByType)throw new Error(Ks(13));return u.sliceCaseReducersByType[N]=R,h},addMatcher(E,R){return u.sliceMatchers.push({matcher:E,reducer:R}),h},exposeAction(E,R){return u.actionCreators[E]=R,h},exposeCaseReducer(E,R){return u.sliceCaseReducersByName[E]=R,h}};c.forEach(E=>{const R=o[E],N={reducerName:E,type:iN(i,E),createNotation:typeof a.reducers=="function"};uN(R)?hN(N,R,h,t):dN(N,R,h)});function m(){const[E={},R=[],N=void 0]=typeof a.extraReducers=="function"?Bp(a.extraReducers):[a.extraReducers],x={...E,...u.sliceCaseReducersByType};return rN(a.initialState,v=>{for(let S in x)v.addCase(S,x[S]);for(let S of u.sliceMatchers)v.addMatcher(S.matcher,S.reducer);for(let S of R)v.addMatcher(S.matcher,S.reducer);N&&v.addDefaultCase(N)})}const d=E=>E,y=new Map,C=new WeakMap;let g;function F(E,R){return g||(g=m()),g(E,R)}function p(){return g||(g=m()),g.getInitialState()}function f(E,R=!1){function N(v){let S=v[E];return typeof S>"u"&&R&&(S=Di(C,N,p)),S}function x(v=d){const S=Di(y,R,()=>new WeakMap);return Di(S,v,()=>{const D={};for(const[L,B]of Object.entries(a.selectors??{}))D[L]=oN(B,v,()=>Di(C,v,p),R);return D})}return{reducerPath:E,getSelectors:x,get selectors(){return x(N)},selectSlice:N}}const j={name:i,reducer:F,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:p,...f(l),injectInto(E,{reducerPath:R,...N}={}){const x=R??l;return E.inject({reducerPath:x,reducer:F},N),{...j,...f(x,!0)}}};return j}}function oN(e,t,n,r){function a(i,...l){let o=t(i);return typeof o>"u"&&r&&(o=n()),e(o,...l)}return a.unwrapped=e,a}var $d=lN();function cN(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function dN({type:e,reducerName:t,createNotation:n},r,a){let i,l;if("reducer"in r){if(n&&!mN(r))throw new Error(Ks(17));i=r.reducer,l=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Nm(e,l):Nm(e))}function uN(e){return e._reducerDefinitionType==="asyncThunk"}function mN(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hN({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Ks(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:u,options:h}=n,m=a(e,i,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),o&&r.addCase(m.pending,o),c&&r.addCase(m.rejected,c),u&&r.addMatcher(m.settled,u),r.exposeCaseReducer(t,{fulfilled:l||Ai,pending:o||Ai,rejected:c||Ai,settled:u||Ai})}function Ai(){}function Ks(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const fN={activeSection:"hunting",adminDropdown:!1,isLoading:!1,error:null,sidebarCollapsed:!1},zp=$d({name:"ui",initialState:fN,reducers:{setActiveSection:(e,t)=>{e.activeSection=t.payload},setAdminDropdown:(e,t)=>{e.adminDropdown=t.payload},toggleAdminDropdown:e=>{e.adminDropdown=!e.adminDropdown},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},clearError:e=>{e.error=null},toggleSidebar:e=>{e.sidebarCollapsed=!e.sidebarCollapsed}}}),{setActiveSection:wm,setAdminDropdown:os,toggleAdminDropdown:pN,setLoading:Ab,setError:Pb,clearError:Tb,toggleSidebar:Rb}=zp.actions,vN=zp.reducer,gN={currentUser:{login:"MFakheem",role:"admin",permissions:["read","write","admin"]},users:[],isAuthenticated:!0},qp=$d({name:"user",initialState:gN,reducers:{setCurrentUser:(e,t)=>{e.currentUser=t.payload},setUsers:(e,t)=>{e.users=t.payload},addUser:(e,t)=>{e.users.push(t.payload)},updateUser:(e,t)=>{const n=e.users.findIndex(r=>r.id===t.payload.id);n!==-1&&(e.users[n]=t.payload)},removeUser:(e,t)=>{e.users=e.users.filter(n=>n.id!==t.payload)},setAuthenticated:(e,t)=>{e.isAuthenticated=t.payload}}}),{setCurrentUser:Ib,setUsers:Lb,addUser:Fb,updateUser:Mb,removeUser:Ob,setAuthenticated:_b}=qp.actions,xN=qp.reducer,Sm={qmsData:[],assignments:[],approvals:[],submissions:[],sourcing:[],executions:[],orderCompletes:[],selectedQms:null,filters:{status:"all",dateRange:null,assignee:null}},Vp=$d({name:"qms",initialState:Sm,reducers:{setQmsData:(e,t)=>{e.qmsData=t.payload},addQmsItem:(e,t)=>{e.qmsData.push(t.payload)},updateQmsItem:(e,t)=>{const n=e.qmsData.findIndex(r=>r.id===t.payload.id);n!==-1&&(e.qmsData[n]=t.payload)},setSelectedQms:(e,t)=>{e.selectedQms=t.payload},setAssignments:(e,t)=>{e.assignments=t.payload},setApprovals:(e,t)=>{e.approvals=t.payload},setSubmissions:(e,t)=>{e.submissions=t.payload},setSourcing:(e,t)=>{e.sourcing=t.payload},setExecutions:(e,t)=>{e.executions=t.payload},setOrderCompletes:(e,t)=>{e.orderCompletes=t.payload},setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},clearFilters:e=>{e.filters=Sm.filters}}}),{setQmsData:Ub,addQmsItem:$b,updateQmsItem:Bb,setSelectedQms:zb,setAssignments:qb,setApprovals:Vb,setSubmissions:Qb,setSourcing:Wb,setExecutions:Hb,setOrderCompletes:Kb,setFilters:Gb,clearFilters:Yb}=Vp.actions,jN=Vp.reducer,NN=sN({reducer:{ui:vN,user:xN,qms:jN},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),yN=new Aj({defaultOptions:{queries:{staleTime:1e3*60*5,cacheTime:1e3*60*10,retry:(e,t)=>t.status===404?!1:e<3,refetchOnWindowFocus:!1},mutations:{retry:!1}}});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}var mt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mt||(mt={}));const km="popstate";function bN(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:l,hash:o}=r.location;return Ya("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:dr(a)}return SN(t,n,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wN(){return Math.random().toString(36).substr(2,8)}function Cm(e,t){return{usr:e.state,key:e.key,idx:t}}function Ya(e,t,n,r){return n===void 0&&(n=null),Ge({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fn(t):t,{state:n,key:t&&t.key||r||wN()})}function dr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function SN(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,o=mt.Pop,c=null,u=h();u==null&&(u=0,l.replaceState(Ge({},l.state,{idx:u}),""));function h(){return(l.state||{idx:null}).idx}function m(){o=mt.Pop;let F=h(),p=F==null?null:F-u;u=F,c&&c({action:o,location:g.location,delta:p})}function d(F,p){o=mt.Push;let f=Ya(g.location,F,p);u=h()+1;let j=Cm(f,u),E=g.createHref(f);try{l.pushState(j,"",E)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(E)}i&&c&&c({action:o,location:g.location,delta:1})}function y(F,p){o=mt.Replace;let f=Ya(g.location,F,p);u=h();let j=Cm(f,u),E=g.createHref(f);l.replaceState(j,"",E),i&&c&&c({action:o,location:g.location,delta:0})}function C(F){let p=a.location.origin!=="null"?a.location.origin:a.location.href,f=typeof F=="string"?F:dr(F);return f=f.replace(/ $/,"%20"),Te(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let g={get action(){return o},get location(){return e(a,l)},listen(F){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(km,m),c=F,()=>{a.removeEventListener(km,m),c=null}},createHref(F){return t(a,F)},createURL:C,encodeLocation(F){let p=C(F);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:y,go(F){return l.go(F)}};return g}var qe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qe||(qe={}));const kN=new Set(["lazy","caseSensitive","path","id","index","children"]);function CN(e){return e.index===!0}function yl(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((a,i)=>{let l=[...n,String(i)],o=typeof a.id=="string"?a.id:l.join("-");if(Te(a.index!==!0||!a.children,"Cannot specify children on an index route"),Te(!r[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),CN(a)){let c=Ge({},a,t(a),{id:o});return r[o]=c,c}else{let c=Ge({},a,t(a),{id:o,children:void 0});return r[o]=c,a.children&&(c.children=yl(a.children,t,l,r)),c}})}function qn(e,t,n){return n===void 0&&(n="/"),Vi(e,t,n,!1)}function Vi(e,t,n,r){let a=typeof t=="string"?Fn(t):t,i=ta(a.pathname||"/",n);if(i==null)return null;let l=Qp(e);DN(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=UN(i);o=ON(l[c],u,r)}return o}function EN(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function Qp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Te(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Gs([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Te(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Qp(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:FN(u,i.index),routesMeta:h})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Wp(i.path))a(i,l,c)}),t}function Wp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=Wp(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function DN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:MN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AN=/^:[\w-]+$/,PN=3,TN=2,RN=1,IN=10,LN=-2,Em=e=>e==="*";function FN(e,t){let n=e.split("/"),r=n.length;return n.some(Em)&&(r+=LN),t&&(r+=TN),n.filter(a=>!Em(a)).reduce((a,i)=>a+(AN.test(i)?PN:i===""?RN:IN),r)}function MN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function ON(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Dm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),d=c.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=Dm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:Gs([i,m.pathname]),pathnameBase:zN(Gs([i,m.pathnameBase])),route:d}),m.pathnameBase!=="/"&&(i=Gs([i,m.pathnameBase]))}return l}function Dm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_N(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((u,h,m)=>{let{paramName:d,isOptional:y}=h;if(d==="*"){let g=o[m]||"";l=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const C=o[m];return y&&!C?u[d]=void 0:u[d]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function _N(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Jr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function UN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ta(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $N(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Fn(e):e;return{pathname:n?n.startsWith("/")?n:BN(n,t):t,search:qN(r),hash:VN(a)}}function BN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ao(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bd(e,t){let n=Hp(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zd(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Fn(e):(a=Ge({},e),Te(!a.pathname||!a.pathname.includes("?"),Ao("?","pathname","search",a)),Te(!a.pathname||!a.pathname.includes("#"),Ao("#","pathname","hash",a)),Te(!a.search||!a.search.includes("#"),Ao("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),m-=1;a.pathname=d.join("/")}o=m>=0?t[m]:"/"}let c=$N(a,o),u=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Gs=e=>e.join("/").replace(/\/\/+/g,"/"),zN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class bl{constructor(t,n,r,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ja(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Kp=["post","put","patch","delete"],QN=new Set(Kp),WN=["get",...Kp],HN=new Set(WN),KN=new Set([301,302,303,307,308]),GN=new Set([307,308]),Po={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},YN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ua={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JN=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Gp="remix-router-transitions";function XN(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Te(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let A=e.detectErrorBoundary;a=I=>({hasErrorBoundary:A(I)})}else a=JN;let i={},l=yl(e.routes,a,void 0,i),o,c=e.basename||"/",u=e.dataStrategy||sy,h=e.patchRoutesOnNavigation,m=Ge({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),d=null,y=new Set,C=null,g=null,F=null,p=e.hydrationData!=null,f=qn(l,e.history.location,c),j=!1,E=null;if(f==null&&!h){let A=Vt(404,{pathname:e.history.location.pathname}),{matches:I,route:_}=Um(l);f=I,E={[_.id]:A}}f&&!e.hydrationData&&As(f,l,e.history.location.pathname).active&&(f=null);let R;if(f)if(f.some(A=>A.route.lazy))R=!1;else if(!f.some(A=>A.route.loader))R=!0;else if(m.v7_partialHydration){let A=e.hydrationData?e.hydrationData.loaderData:null,I=e.hydrationData?e.hydrationData.errors:null;if(I){let _=f.findIndex(W=>I[W.route.id]!==void 0);R=f.slice(0,_+1).every(W=>!Oc(W.route,A,I))}else R=f.every(_=>!Oc(_.route,A,I))}else R=e.hydrationData!=null;else if(R=!1,f=[],m.v7_partialHydration){let A=As(null,l,e.history.location.pathname);A.active&&A.matches&&(j=!0,f=A.matches)}let N,x={historyAction:e.history.action,location:e.history.location,matches:f,initialized:R,navigation:Po,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},v=mt.Pop,S=!1,D,L=!1,B=new Map,ne=null,je=!1,q=!1,re=[],ue=new Set,$=new Map,Z=0,le=-1,ge=new Map,Ne=new Set,Y=new Map,H=new Map,K=new Set,ee=new Map,fe=new Map,Re;function me(){if(d=e.history.listen(A=>{let{action:I,location:_,delta:W}=A;if(Re){Re(),Re=void 0;return}Jr(fe.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=Ct({currentLocation:x.location,nextLocation:_,historyAction:I});if(te&&W!=null){let ve=new Promise(be=>{Re=be});e.history.go(W*-1),Ze(te,{state:"blocked",location:_,proceed(){Ze(te,{state:"proceeding",proceed:void 0,reset:void 0,location:_}),ve.then(()=>e.history.go(W))},reset(){let be=new Map(x.blockers);be.set(te,ua),Ie({blockers:be})}});return}return Xe(I,_)}),n){vy(t,B);let A=()=>gy(t,B);t.addEventListener("pagehide",A),ne=()=>t.removeEventListener("pagehide",A)}return x.initialized||Xe(mt.Pop,x.location,{initialHydration:!0}),N}function Je(){d&&d(),ne&&ne(),y.clear(),D&&D.abort(),x.fetchers.forEach((A,I)=>Me(I)),x.blockers.forEach((A,I)=>xt(I))}function dt(A){return y.add(A),()=>y.delete(A)}function Ie(A,I){I===void 0&&(I={}),x=Ge({},x,A);let _=[],W=[];m.v7_fetcherPersist&&x.fetchers.forEach((te,ve)=>{te.state==="idle"&&(K.has(ve)?W.push(ve):_.push(ve))}),K.forEach(te=>{!x.fetchers.has(te)&&!$.has(te)&&W.push(te)}),[...y].forEach(te=>te(x,{deletedFetchers:W,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),m.v7_fetcherPersist?(_.forEach(te=>x.fetchers.delete(te)),W.forEach(te=>Me(te))):W.forEach(te=>K.delete(te))}function ft(A,I,_){var W,te;let{flushSync:ve}=_===void 0?{}:_,be=x.actionData!=null&&x.navigation.formMethod!=null&&bs(x.navigation.formMethod)&&x.navigation.state==="loading"&&((W=A.state)==null?void 0:W._isRedirect)!==!0,ie;I.actionData?Object.keys(I.actionData).length>0?ie=I.actionData:ie=null:be?ie=x.actionData:ie=null;let oe=I.loaderData?Om(x.loaderData,I.loaderData,I.matches||[],I.errors):x.loaderData,ae=x.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((Ee,T)=>ae.set(T,ua)));let de=S===!0||x.navigation.formMethod!=null&&bs(x.navigation.formMethod)&&((te=A.state)==null?void 0:te._isRedirect)!==!0;o&&(l=o,o=void 0),je||v===mt.Pop||(v===mt.Push?e.history.push(A,A.state):v===mt.Replace&&e.history.replace(A,A.state));let Se;if(v===mt.Pop){let Ee=B.get(x.location.pathname);Ee&&Ee.has(A.pathname)?Se={currentLocation:x.location,nextLocation:A}:B.has(A.pathname)&&(Se={currentLocation:A,nextLocation:x.location})}else if(L){let Ee=B.get(x.location.pathname);Ee?Ee.add(A.pathname):(Ee=new Set([A.pathname]),B.set(x.location.pathname,Ee)),Se={currentLocation:x.location,nextLocation:A}}Ie(Ge({},I,{actionData:ie,loaderData:oe,historyAction:v,location:A,initialized:!0,navigation:Po,revalidation:"idle",restoreScrollPosition:rn(A,I.matches||x.matches),preventScrollReset:de,blockers:ae}),{viewTransitionOpts:Se,flushSync:ve===!0}),v=mt.Pop,S=!1,L=!1,je=!1,q=!1,re=[]}async function It(A,I){if(typeof A=="number"){e.history.go(A);return}let _=Mc(x.location,x.matches,c,m.v7_prependBasename,A,m.v7_relativeSplatPath,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:W,submission:te,error:ve}=Am(m.v7_normalizeFormMethod,!1,_,I),be=x.location,ie=Ya(x.location,W,I&&I.state);ie=Ge({},ie,e.history.encodeLocation(ie));let oe=I&&I.replace!=null?I.replace:void 0,ae=mt.Push;oe===!0?ae=mt.Replace:oe===!1||te!=null&&bs(te.formMethod)&&te.formAction===x.location.pathname+x.location.search&&(ae=mt.Replace);let de=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,Se=(I&&I.flushSync)===!0,Ee=Ct({currentLocation:be,nextLocation:ie,historyAction:ae});if(Ee){Ze(Ee,{state:"blocked",location:ie,proceed(){Ze(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),It(A,I)},reset(){let T=new Map(x.blockers);T.set(Ee,ua),Ie({blockers:T})}});return}return await Xe(ae,ie,{submission:te,pendingError:ve,preventScrollReset:de,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:Se})}function gt(){if(rt(),Ie({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Xe(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Xe(v||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:L===!0})}}async function Xe(A,I,_){D&&D.abort(),D=null,v=A,je=(_&&_.startUninterruptedRevalidation)===!0,On(x.location,x.matches),S=(_&&_.preventScrollReset)===!0,L=(_&&_.enableViewTransition)===!0;let W=o||l,te=_&&_.overrideNavigation,ve=_!=null&&_.initialHydration&&x.matches&&x.matches.length>0&&!j?x.matches:qn(W,I,c),be=(_&&_.flushSync)===!0;if(ve&&x.initialized&&!q&&oy(x.location,I)&&!(_&&_.submission&&bs(_.submission.formMethod))){ft(I,{matches:ve},{flushSync:be});return}let ie=As(ve,W,I.pathname);if(ie.active&&ie.matches&&(ve=ie.matches),!ve){let{error:M,notFoundMatches:Q,route:b}=zt(I.pathname);ft(I,{matches:Q,loaderData:{},errors:{[b.id]:M}},{flushSync:be});return}D=new AbortController;let oe=vr(e.history,I,D.signal,_&&_.submission),ae;if(_&&_.pendingError)ae=[Vn(ve).route.id,{type:qe.error,error:_.pendingError}];else if(_&&_.submission&&bs(_.submission.formMethod)){let M=await De(oe,I,_.submission,ve,ie.active,{replace:_.replace,flushSync:be});if(M.shortCircuited)return;if(M.pendingActionResult){let[Q,b]=M.pendingActionResult;if(Zt(b)&&Ja(b.error)&&b.error.status===404){D=null,ft(I,{matches:M.matches,loaderData:{},errors:{[Q]:b.error}});return}}ve=M.matches||ve,ae=M.pendingActionResult,te=To(I,_.submission),be=!1,ie.active=!1,oe=vr(e.history,oe.url,oe.signal)}let{shortCircuited:de,matches:Se,loaderData:Ee,errors:T}=await Lt(oe,I,ve,ie.active,te,_&&_.submission,_&&_.fetcherSubmission,_&&_.replace,_&&_.initialHydration===!0,be,ae);de||(D=null,ft(I,Ge({matches:Se||ve},_m(ae),{loaderData:Ee,errors:T})))}async function De(A,I,_,W,te,ve){ve===void 0&&(ve={}),rt();let be=fy(I,_);if(Ie({navigation:be},{flushSync:ve.flushSync===!0}),te){let ae=await Ps(W,I.pathname,A.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let de=Vn(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[de,{type:qe.error,error:ae.error}]}}else if(ae.matches)W=ae.matches;else{let{notFoundMatches:de,error:Se,route:Ee}=zt(I.pathname);return{matches:de,pendingActionResult:[Ee.id,{type:qe.error,error:Se}]}}}let ie,oe=ja(W,I);if(!oe.route.action&&!oe.route.lazy)ie={type:qe.error,error:Vt(405,{method:A.method,pathname:I.pathname,routeId:oe.route.id})};else if(ie=(await Le("action",x,A,[oe],W,null))[oe.route.id],A.signal.aborted)return{shortCircuited:!0};if(Kn(ie)){let ae;return ve&&ve.replace!=null?ae=ve.replace:ae=Lm(ie.response.headers.get("Location"),new URL(A.url),c)===x.location.pathname+x.location.search,await ye(A,ie,!0,{submission:_,replace:ae}),{shortCircuited:!0}}if(Nn(ie))throw Vt(400,{type:"defer-action"});if(Zt(ie)){let ae=Vn(W,oe.route.id);return(ve&&ve.replace)!==!0&&(v=mt.Push),{matches:W,pendingActionResult:[ae.route.id,ie]}}return{matches:W,pendingActionResult:[oe.route.id,ie]}}async function Lt(A,I,_,W,te,ve,be,ie,oe,ae,de){let Se=te||To(I,ve),Ee=ve||be||Bm(Se),T=!je&&(!m.v7_partialHydration||!oe);if(W){if(T){let Ue=kt(de);Ie(Ge({navigation:Se},Ue!==void 0?{actionData:Ue}:{}),{flushSync:ae})}let ke=await Ps(_,I.pathname,A.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let Ue=Vn(ke.partialMatches).route.id;return{matches:ke.partialMatches,loaderData:{},errors:{[Ue]:ke.error}}}else if(ke.matches)_=ke.matches;else{let{error:Ue,notFoundMatches:ls,route:qt}=zt(I.pathname);return{matches:ls,loaderData:{},errors:{[qt.id]:Ue}}}}let M=o||l,[Q,b]=Tm(e.history,x,_,Ee,I,m.v7_partialHydration&&oe===!0,m.v7_skipActionErrorRevalidation,q,re,ue,K,Y,Ne,M,c,de);if(Us(ke=>!(_&&_.some(Ue=>Ue.route.id===ke))||Q&&Q.some(Ue=>Ue.route.id===ke)),le=++Z,Q.length===0&&b.length===0){let ke=pe();return ft(I,Ge({matches:_,loaderData:{},errors:de&&Zt(de[1])?{[de[0]]:de[1].error}:null},_m(de),ke?{fetchers:new Map(x.fetchers)}:{}),{flushSync:ae}),{shortCircuited:!0}}if(T){let ke={};if(!W){ke.navigation=Se;let Ue=kt(de);Ue!==void 0&&(ke.actionData=Ue)}b.length>0&&(ke.fetchers=Yt(b)),Ie(ke,{flushSync:ae})}b.forEach(ke=>{we(ke.key),ke.controller&&$.set(ke.key,ke.controller)});let P=()=>b.forEach(ke=>we(ke.key));D&&D.signal.addEventListener("abort",P);let{loaderResults:U,fetcherResults:O}=await Qe(x,_,Q,b,A);if(A.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",P),b.forEach(ke=>$.delete(ke.key));let X=Pi(U);if(X)return await ye(A,X.result,!0,{replace:ie}),{shortCircuited:!0};if(X=Pi(O),X)return Ne.add(X.key),await ye(A,X.result,!0,{replace:ie}),{shortCircuited:!0};let{loaderData:se,errors:xe}=Mm(x,_,U,de,b,O,ee);ee.forEach((ke,Ue)=>{ke.subscribe(ls=>{(ls||ke.done)&&ee.delete(Ue)})}),m.v7_partialHydration&&oe&&x.errors&&(xe=Ge({},x.errors,xe));let Oe=pe(),Be=$e(le),at=Oe||Be||b.length>0;return Ge({matches:_,loaderData:se,errors:xe},at?{fetchers:new Map(x.fetchers)}:{})}function kt(A){if(A&&!Zt(A[1]))return{[A[0]]:A[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Yt(A){return A.forEach(I=>{let _=x.fetchers.get(I.key),W=ma(void 0,_?_.data:void 0);x.fetchers.set(I.key,W)}),new Map(x.fetchers)}function Jt(A,I,_,W){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");we(A);let te=(W&&W.flushSync)===!0,ve=o||l,be=Mc(x.location,x.matches,c,m.v7_prependBasename,_,m.v7_relativeSplatPath,I,W==null?void 0:W.relative),ie=qn(ve,be,c),oe=As(ie,ve,be);if(oe.active&&oe.matches&&(ie=oe.matches),!ie){ot(A,I,Vt(404,{pathname:be}),{flushSync:te});return}let{path:ae,submission:de,error:Se}=Am(m.v7_normalizeFormMethod,!0,be,W);if(Se){ot(A,I,Se,{flushSync:te});return}let Ee=ja(ie,ae),T=(W&&W.preventScrollReset)===!0;if(de&&bs(de.formMethod)){k(A,I,ae,Ee,ie,oe.active,te,T,de);return}Y.set(A,{routeId:I,path:ae}),G(A,I,ae,Ee,ie,oe.active,te,T,de)}async function k(A,I,_,W,te,ve,be,ie,oe){rt(),Y.delete(A);function ae(et){if(!et.route.action&&!et.route.lazy){let $s=Vt(405,{method:oe.formMethod,pathname:_,routeId:I});return ot(A,I,$s,{flushSync:be}),!0}return!1}if(!ve&&ae(W))return;let de=x.fetchers.get(A);ut(A,py(oe,de),{flushSync:be});let Se=new AbortController,Ee=vr(e.history,_,Se.signal,oe);if(ve){let et=await Ps(te,new URL(Ee.url).pathname,Ee.signal,A);if(et.type==="aborted")return;if(et.type==="error"){ot(A,I,et.error,{flushSync:be});return}else if(et.matches){if(te=et.matches,W=ja(te,_),ae(W))return}else{ot(A,I,Vt(404,{pathname:_}),{flushSync:be});return}}$.set(A,Se);let T=Z,Q=(await Le("action",x,Ee,[W],te,A))[W.route.id];if(Ee.signal.aborted){$.get(A)===Se&&$.delete(A);return}if(m.v7_fetcherPersist&&K.has(A)){if(Kn(Q)||Zt(Q)){ut(A,on(void 0));return}}else{if(Kn(Q))if($.delete(A),le>T){ut(A,on(void 0));return}else return Ne.add(A),ut(A,ma(oe)),ye(Ee,Q,!1,{fetcherSubmission:oe,preventScrollReset:ie});if(Zt(Q)){ot(A,I,Q.error);return}}if(Nn(Q))throw Vt(400,{type:"defer-action"});let b=x.navigation.location||x.location,P=vr(e.history,b,Se.signal),U=o||l,O=x.navigation.state!=="idle"?qn(U,x.navigation.location,c):x.matches;Te(O,"Didn't find any matches after fetcher action");let X=++Z;ge.set(A,X);let se=ma(oe,Q.data);x.fetchers.set(A,se);let[xe,Oe]=Tm(e.history,x,O,oe,b,!1,m.v7_skipActionErrorRevalidation,q,re,ue,K,Y,Ne,U,c,[W.route.id,Q]);Oe.filter(et=>et.key!==A).forEach(et=>{let $s=et.key,sa=x.fetchers.get($s),oi=ma(void 0,sa?sa.data:void 0);x.fetchers.set($s,oi),we($s),et.controller&&$.set($s,et.controller)}),Ie({fetchers:new Map(x.fetchers)});let Be=()=>Oe.forEach(et=>we(et.key));Se.signal.addEventListener("abort",Be);let{loaderResults:at,fetcherResults:ke}=await Qe(x,O,xe,Oe,P);if(Se.signal.aborted)return;Se.signal.removeEventListener("abort",Be),ge.delete(A),$.delete(A),Oe.forEach(et=>$.delete(et.key));let Ue=Pi(at);if(Ue)return ye(P,Ue.result,!1,{preventScrollReset:ie});if(Ue=Pi(ke),Ue)return Ne.add(Ue.key),ye(P,Ue.result,!1,{preventScrollReset:ie});let{loaderData:ls,errors:qt}=Mm(x,O,at,void 0,Oe,ke,ee);if(x.fetchers.has(A)){let et=on(Q.data);x.fetchers.set(A,et)}$e(X),x.navigation.state==="loading"&&X>le?(Te(v,"Expected pending action"),D&&D.abort(),ft(x.navigation.location,{matches:O,loaderData:ls,errors:qt,fetchers:new Map(x.fetchers)})):(Ie({errors:qt,loaderData:Om(x.loaderData,ls,O,qt),fetchers:new Map(x.fetchers)}),q=!1)}async function G(A,I,_,W,te,ve,be,ie,oe){let ae=x.fetchers.get(A);ut(A,ma(oe,ae?ae.data:void 0),{flushSync:be});let de=new AbortController,Se=vr(e.history,_,de.signal);if(ve){let Q=await Ps(te,new URL(Se.url).pathname,Se.signal,A);if(Q.type==="aborted")return;if(Q.type==="error"){ot(A,I,Q.error,{flushSync:be});return}else if(Q.matches)te=Q.matches,W=ja(te,_);else{ot(A,I,Vt(404,{pathname:_}),{flushSync:be});return}}$.set(A,de);let Ee=Z,M=(await Le("loader",x,Se,[W],te,A))[W.route.id];if(Nn(M)&&(M=await Vd(M,Se.signal,!0)||M),$.get(A)===de&&$.delete(A),!Se.signal.aborted){if(K.has(A)){ut(A,on(void 0));return}if(Kn(M))if(le>Ee){ut(A,on(void 0));return}else{Ne.add(A),await ye(Se,M,!1,{preventScrollReset:ie});return}if(Zt(M)){ot(A,I,M.error);return}Te(!Nn(M),"Unhandled fetcher deferred data"),ut(A,on(M.data))}}async function ye(A,I,_,W){let{submission:te,fetcherSubmission:ve,preventScrollReset:be,replace:ie}=W===void 0?{}:W;I.response.headers.has("X-Remix-Revalidate")&&(q=!0);let oe=I.response.headers.get("Location");Te(oe,"Expected a Location header on the redirect Response"),oe=Lm(oe,new URL(A.url),c);let ae=Ya(x.location,oe,{_isRedirect:!0});if(n){let Q=!1;if(I.response.headers.has("X-Remix-Reload-Document"))Q=!0;else if(qd.test(oe)){const b=e.history.createURL(oe);Q=b.origin!==t.location.origin||ta(b.pathname,c)==null}if(Q){ie?t.location.replace(oe):t.location.assign(oe);return}}D=null;let de=ie===!0||I.response.headers.has("X-Remix-Replace")?mt.Replace:mt.Push,{formMethod:Se,formAction:Ee,formEncType:T}=x.navigation;!te&&!ve&&Se&&Ee&&T&&(te=Bm(x.navigation));let M=te||ve;if(GN.has(I.response.status)&&M&&bs(M.formMethod))await Xe(de,ae,{submission:Ge({},M,{formAction:oe}),preventScrollReset:be||S,enableViewTransition:_?L:void 0});else{let Q=To(ae,te);await Xe(de,ae,{overrideNavigation:Q,fetcherSubmission:ve,preventScrollReset:be||S,enableViewTransition:_?L:void 0})}}async function Le(A,I,_,W,te,ve){let be,ie={};try{be=await ny(u,A,I,_,W,te,ve,i,a)}catch(oe){return W.forEach(ae=>{ie[ae.route.id]={type:qe.error,error:oe}}),ie}for(let[oe,ae]of Object.entries(be))if(cy(ae)){let de=ae.result;ie[oe]={type:qe.redirect,response:iy(de,_,oe,te,c,m.v7_relativeSplatPath)}}else ie[oe]=await ay(ae);return ie}async function Qe(A,I,_,W,te){let ve=A.matches,be=Le("loader",A,te,_,I,null),ie=Promise.all(W.map(async de=>{if(de.matches&&de.match&&de.controller){let Ee=(await Le("loader",A,vr(e.history,de.path,de.controller.signal),[de.match],de.matches,de.key))[de.match.route.id];return{[de.key]:Ee}}else return Promise.resolve({[de.key]:{type:qe.error,error:Vt(404,{pathname:de.path})}})})),oe=await be,ae=(await ie).reduce((de,Se)=>Object.assign(de,Se),{});return await Promise.all([my(I,oe,te.signal,ve,A.loaderData),hy(I,ae,W)]),{loaderResults:oe,fetcherResults:ae}}function rt(){q=!0,re.push(...Us()),Y.forEach((A,I)=>{$.has(I)&&ue.add(I),we(I)})}function ut(A,I,_){_===void 0&&(_={}),x.fetchers.set(A,I),Ie({fetchers:new Map(x.fetchers)},{flushSync:(_&&_.flushSync)===!0})}function ot(A,I,_,W){W===void 0&&(W={});let te=Vn(x.matches,I);Me(A),Ie({errors:{[te.route.id]:_},fetchers:new Map(x.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function z(A){return H.set(A,(H.get(A)||0)+1),K.has(A)&&K.delete(A),x.fetchers.get(A)||YN}function Me(A){let I=x.fetchers.get(A);$.has(A)&&!(I&&I.state==="loading"&&ge.has(A))&&we(A),Y.delete(A),ge.delete(A),Ne.delete(A),m.v7_fetcherPersist&&K.delete(A),ue.delete(A),x.fetchers.delete(A)}function he(A){let I=(H.get(A)||0)-1;I<=0?(H.delete(A),K.add(A),m.v7_fetcherPersist||Me(A)):H.set(A,I),Ie({fetchers:new Map(x.fetchers)})}function we(A){let I=$.get(A);I&&(I.abort(),$.delete(A))}function Ae(A){for(let I of A){let _=z(I),W=on(_.data);x.fetchers.set(I,W)}}function pe(){let A=[],I=!1;for(let _ of Ne){let W=x.fetchers.get(_);Te(W,"Expected fetcher: "+_),W.state==="loading"&&(Ne.delete(_),A.push(_),I=!0)}return Ae(A),I}function $e(A){let I=[];for(let[_,W]of ge)if(W<A){let te=x.fetchers.get(_);Te(te,"Expected fetcher: "+_),te.state==="loading"&&(we(_),ge.delete(_),I.push(_))}return Ae(I),I.length>0}function Ft(A,I){let _=x.blockers.get(A)||ua;return fe.get(A)!==I&&fe.set(A,I),_}function xt(A){x.blockers.delete(A),fe.delete(A)}function Ze(A,I){let _=x.blockers.get(A)||ua;Te(_.state==="unblocked"&&I.state==="blocked"||_.state==="blocked"&&I.state==="blocked"||_.state==="blocked"&&I.state==="proceeding"||_.state==="blocked"&&I.state==="unblocked"||_.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+_.state+" -> "+I.state);let W=new Map(x.blockers);W.set(A,I),Ie({blockers:W})}function Ct(A){let{currentLocation:I,nextLocation:_,historyAction:W}=A;if(fe.size===0)return;fe.size>1&&Jr(!1,"A router only supports one blocker at a time");let te=Array.from(fe.entries()),[ve,be]=te[te.length-1],ie=x.blockers.get(ve);if(!(ie&&ie.state==="proceeding")&&be({currentLocation:I,nextLocation:_,historyAction:W}))return ve}function zt(A){let I=Vt(404,{pathname:A}),_=o||l,{matches:W,route:te}=Um(_);return Us(),{notFoundMatches:W,route:te,error:I}}function Us(A){let I=[];return ee.forEach((_,W)=>{(!A||A(W))&&(_.cancel(),I.push(W),ee.delete(W))}),I}function Mn(A,I,_){if(C=A,F=I,g=_||null,!p&&x.navigation===Po){p=!0;let W=rn(x.location,x.matches);W!=null&&Ie({restoreScrollPosition:W})}return()=>{C=null,F=null,g=null}}function nn(A,I){return g&&g(A,I.map(W=>EN(W,x.loaderData)))||A.key}function On(A,I){if(C&&F){let _=nn(A,I);C[_]=F()}}function rn(A,I){if(C){let _=nn(A,I),W=C[_];if(typeof W=="number")return W}return null}function As(A,I,_){if(h)if(A){if(Object.keys(A[0].params).length>0)return{active:!0,matches:Vi(I,_,c,!0)}}else return{active:!0,matches:Vi(I,_,c,!0)||[]};return{active:!1,matches:null}}async function Ps(A,I,_,W){if(!h)return{type:"success",matches:A};let te=A;for(;;){let ve=o==null,be=o||l,ie=i;try{await h({signal:_,path:I,matches:te,fetcherKey:W,patch:(de,Se)=>{_.aborted||Im(de,Se,be,ie,a)}})}catch(de){return{type:"error",error:de,partialMatches:te}}finally{ve&&!_.aborted&&(l=[...l])}if(_.aborted)return{type:"aborted"};let oe=qn(be,I,c);if(oe)return{type:"success",matches:oe};let ae=Vi(be,I,c,!0);if(!ae||te.length===ae.length&&te.every((de,Se)=>de.route.id===ae[Se].route.id))return{type:"success",matches:null};te=ae}}function _n(A){i={},o=yl(A,a,void 0,i)}function Un(A,I){let _=o==null;Im(A,I,o||l,i,a),_&&(l=[...l],Ie({}))}return N={get basename(){return c},get future(){return m},get state(){return x},get routes(){return l},get window(){return t},initialize:me,subscribe:dt,enableScrollRestoration:Mn,navigate:It,fetch:Jt,revalidate:gt,createHref:A=>e.history.createHref(A),encodeLocation:A=>e.history.encodeLocation(A),getFetcher:z,deleteFetcher:he,dispose:Je,getBlocker:Ft,deleteBlocker:xt,patchRoutes:Un,_internalFetchControllers:$,_internalActiveDeferreds:ee,_internalSetRoutes:_n},N}function ZN(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Mc(e,t,n,r,a,i,l,o){let c,u;if(l){c=[];for(let m of t)if(c.push(m),m.route.id===l){u=m;break}}else c=t,u=t[t.length-1];let h=zd(a||".",Bd(c,i),ta(e.pathname,n)||e.pathname,o==="path");if(a==null&&(h.search=e.search,h.hash=e.hash),(a==null||a===""||a===".")&&u){let m=Qd(h.search);if(u.route.index&&!m)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&m){let d=new URLSearchParams(h.search),y=d.getAll("index");d.delete("index"),y.filter(g=>g).forEach(g=>d.append("index",g));let C=d.toString();h.search=C?"?"+C:""}}return r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Gs([n,h.pathname])),dr(h)}function Am(e,t,n,r){if(!r||!ZN(r))return{path:n};if(r.formMethod&&!uy(r.formMethod))return{path:n,error:Vt(405,{method:r.formMethod})};let a=()=>({path:n,error:Vt(400,{type:"invalid-body"})}),i=r.formMethod||"get",l=e?i.toUpperCase():i.toLowerCase(),o=Xp(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!bs(l))return a();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,C)=>{let[g,F]=C;return""+y+g+"="+F+`
`},""):String(r.body);return{path:n,submission:{formMethod:l,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!bs(l))return a();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:o,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return a()}}}Te(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=_c(r.formData),u=r.formData;else if(r.body instanceof FormData)c=_c(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=Fm(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=Fm(c)}catch{return a()}let h={formMethod:l,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(bs(h.formMethod))return{path:n,submission:h};let m=Fn(n);return t&&m.search&&Qd(m.search)&&c.append("index",""),m.search="?"+c,{path:dr(m),submission:h}}function Pm(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(a=>a.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Tm(e,t,n,r,a,i,l,o,c,u,h,m,d,y,C,g){let F=g?Zt(g[1])?g[1].error:g[1].data:void 0,p=e.createURL(t.location),f=e.createURL(a),j=n;i&&t.errors?j=Pm(n,Object.keys(t.errors)[0],!0):g&&Zt(g[1])&&(j=Pm(n,g[0]));let E=g?g[1].statusCode:void 0,R=l&&E&&E>=400,N=j.filter((v,S)=>{let{route:D}=v;if(D.lazy)return!0;if(D.loader==null)return!1;if(i)return Oc(D,t.loaderData,t.errors);if(ey(t.loaderData,t.matches[S],v)||c.some(ne=>ne===v.route.id))return!0;let L=t.matches[S],B=v;return Rm(v,Ge({currentUrl:p,currentParams:L.params,nextUrl:f,nextParams:B.params},r,{actionResult:F,actionStatus:E,defaultShouldRevalidate:R?!1:o||p.pathname+p.search===f.pathname+f.search||p.search!==f.search||Yp(L,B)}))}),x=[];return m.forEach((v,S)=>{if(i||!n.some(je=>je.route.id===v.routeId)||h.has(S))return;let D=qn(y,v.path,C);if(!D){x.push({key:S,routeId:v.routeId,path:v.path,matches:null,match:null,controller:null});return}let L=t.fetchers.get(S),B=ja(D,v.path),ne=!1;d.has(S)?ne=!1:u.has(S)?(u.delete(S),ne=!0):L&&L.state!=="idle"&&L.data===void 0?ne=o:ne=Rm(B,Ge({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:f,nextParams:n[n.length-1].params},r,{actionResult:F,actionStatus:E,defaultShouldRevalidate:R?!1:o})),ne&&x.push({key:S,routeId:v.routeId,path:v.path,matches:D,match:B,controller:new AbortController})}),[N,x]}function Oc(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,a=n!=null&&n[e.id]!==void 0;return!r&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!a}function ey(e,t,n){let r=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return r||a}function Yp(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Rm(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Im(e,t,n,r,a){var i;let l;if(e){let u=r[e];Te(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),l=u.children}else l=n;let o=t.filter(u=>!l.some(h=>Jp(u,h))),c=yl(o,a,[e||"_","patch",String(((i=l)==null?void 0:i.length)||"0")],r);l.push(...c)}function Jp(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var a;return(a=t.children)==null?void 0:a.some(i=>Jp(n,i))}):!1}async function ty(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];Te(a,"No route found in manifest");let i={};for(let l in r){let c=a[l]!==void 0&&l!=="hasErrorBoundary";Jr(!c,'Route "'+a.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!c&&!kN.has(l)&&(i[l]=r[l])}Object.assign(a,i),Object.assign(a,Ge({},t(a),{lazy:void 0}))}async function sy(e){let{matches:t}=e,n=t.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,i,l)=>Object.assign(a,{[n[l].route.id]:i}),{})}async function ny(e,t,n,r,a,i,l,o,c,u){let h=i.map(y=>y.route.lazy?ty(y.route,c,o):void 0),m=i.map((y,C)=>{let g=h[C],F=a.some(f=>f.route.id===y.route.id);return Ge({},y,{shouldLoad:F,resolve:async f=>(f&&r.method==="GET"&&(y.route.lazy||y.route.loader)&&(F=!0),F?ry(t,r,y,g,f,u):Promise.resolve({type:qe.data,result:void 0}))})}),d=await e({matches:m,request:r,params:i[0].params,fetcherKey:l,context:u});try{await Promise.all(h)}catch{}return d}async function ry(e,t,n,r,a,i){let l,o,c=u=>{let h,m=new Promise((C,g)=>h=g);o=()=>h(),t.signal.addEventListener("abort",o);let d=C=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:i},...C!==void 0?[C]:[]),y=(async()=>{try{return{type:"data",result:await(a?a(g=>d(g)):d())}}catch(C){return{type:"error",result:C}}})();return Promise.race([y,m])};try{let u=n.route[e];if(r)if(u){let h,[m]=await Promise.all([c(u).catch(d=>{h=d}),r]);if(h!==void 0)throw h;l=m}else if(await r,u=n.route[e],u)l=await c(u);else if(e==="action"){let h=new URL(t.url),m=h.pathname+h.search;throw Vt(405,{method:t.method,pathname:m,routeId:n.route.id})}else return{type:qe.data,result:void 0};else if(u)l=await c(u);else{let h=new URL(t.url),m=h.pathname+h.search;throw Vt(404,{pathname:m})}Te(l.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:qe.error,result:u}}finally{o&&t.signal.removeEventListener("abort",o)}return l}async function ay(e){let{result:t,type:n}=e;if(Zp(t)){let m;try{let d=t.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?t.body==null?m=null:m=await t.json():m=await t.text()}catch(d){return{type:qe.error,error:d}}return n===qe.error?{type:qe.error,error:new bl(t.status,t.statusText,m),statusCode:t.status,headers:t.headers}:{type:qe.data,data:m,statusCode:t.status,headers:t.headers}}if(n===qe.error){if($m(t)){var r,a;if(t.data instanceof Error){var i,l;return{type:qe.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}}return{type:qe.error,error:new bl(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:Ja(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:qe.error,error:t,statusCode:Ja(t)?t.status:void 0}}if(dy(t)){var o,c;return{type:qe.deferred,deferredData:t,statusCode:(o=t.init)==null?void 0:o.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if($m(t)){var u,h;return{type:qe.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}}return{type:qe.data,data:t}}function iy(e,t,n,r,a,i){let l=e.headers.get("Location");if(Te(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!qd.test(l)){let o=r.slice(0,r.findIndex(c=>c.route.id===n)+1);l=Mc(new URL(t.url),o,a,!0,l,i),e.headers.set("Location",l)}return e}function Lm(e,t,n){if(qd.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=ta(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function vr(e,t,n,r){let a=e.createURL(Xp(t)).toString(),i={signal:n};if(r&&bs(r.formMethod)){let{formMethod:l,formEncType:o}=r;i.method=l.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(r.json)):o==="text/plain"?i.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?i.body=_c(r.formData):i.body=r.formData}return new Request(a,i)}function _c(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Fm(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function ly(e,t,n,r,a){let i={},l=null,o,c=!1,u={},h=n&&Zt(n[1])?n[1].error:void 0;return e.forEach(m=>{if(!(m.route.id in t))return;let d=m.route.id,y=t[d];if(Te(!Kn(y),"Cannot handle redirect results in processLoaderData"),Zt(y)){let C=y.error;h!==void 0&&(C=h,h=void 0),l=l||{};{let g=Vn(e,d);l[g.route.id]==null&&(l[g.route.id]=C)}i[d]=void 0,c||(c=!0,o=Ja(y.error)?y.error.status:500),y.headers&&(u[d]=y.headers)}else Nn(y)?(r.set(d,y.deferredData),i[d]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!c&&(o=y.statusCode),y.headers&&(u[d]=y.headers)):(i[d]=y.data,y.statusCode&&y.statusCode!==200&&!c&&(o=y.statusCode),y.headers&&(u[d]=y.headers))}),h!==void 0&&n&&(l={[n[0]]:h},i[n[0]]=void 0),{loaderData:i,errors:l,statusCode:o||200,loaderHeaders:u}}function Mm(e,t,n,r,a,i,l){let{loaderData:o,errors:c}=ly(t,n,r,l);return a.forEach(u=>{let{key:h,match:m,controller:d}=u,y=i[h];if(Te(y,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Zt(y)){let C=Vn(e.matches,m==null?void 0:m.route.id);c&&c[C.route.id]||(c=Ge({},c,{[C.route.id]:y.error})),e.fetchers.delete(h)}else if(Kn(y))Te(!1,"Unhandled fetcher revalidation redirect");else if(Nn(y))Te(!1,"Unhandled fetcher deferred data");else{let C=on(y.data);e.fetchers.set(h,C)}}),{loaderData:o,errors:c}}function Om(e,t,n,r){let a=Ge({},t);for(let i of n){let l=i.route.id;if(t.hasOwnProperty(l)?t[l]!==void 0&&(a[l]=t[l]):e[l]!==void 0&&i.route.loader&&(a[l]=e[l]),r&&r.hasOwnProperty(l))break}return a}function _m(e){return e?Zt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Vn(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Um(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Vt(e,t){let{pathname:n,routeId:r,method:a,type:i,message:l}=t===void 0?{}:t,o="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(o="Bad Request",a&&n&&r?c="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?c="defer() is not supported in actions":i==="invalid-body"&&(c="Unable to encode submission body")):e===403?(o="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",c='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",a&&n&&r?c="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(c='Invalid request method "'+a.toUpperCase()+'"')),new bl(e||500,o,new Error(c),!0)}function Pi(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,a]=t[n];if(Kn(a))return{key:r,result:a}}}function Xp(e){let t=typeof e=="string"?Fn(e):e;return dr(Ge({},t,{hash:""}))}function oy(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function cy(e){return Zp(e.result)&&KN.has(e.result.status)}function Nn(e){return e.type===qe.deferred}function Zt(e){return e.type===qe.error}function Kn(e){return(e&&e.type)===qe.redirect}function $m(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function dy(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Zp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function uy(e){return HN.has(e.toLowerCase())}function bs(e){return QN.has(e.toLowerCase())}async function my(e,t,n,r,a){let i=Object.entries(t);for(let l=0;l<i.length;l++){let[o,c]=i[l],u=e.find(d=>(d==null?void 0:d.route.id)===o);if(!u)continue;let h=r.find(d=>d.route.id===u.route.id),m=h!=null&&!Yp(h,u)&&(a&&a[u.route.id])!==void 0;Nn(c)&&m&&await Vd(c,n,!1).then(d=>{d&&(t[o]=d)})}}async function hy(e,t,n){for(let r=0;r<n.length;r++){let{key:a,routeId:i,controller:l}=n[r],o=t[a];e.find(u=>(u==null?void 0:u.route.id)===i)&&Nn(o)&&(Te(l,"Expected an AbortController for revalidating fetcher deferred result"),await Vd(o,l.signal,!0).then(u=>{u&&(t[a]=u)}))}}async function Vd(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:qe.data,data:e.deferredData.unwrappedData}}catch(a){return{type:qe.error,error:a}}return{type:qe.data,data:e.deferredData.data}}}function Qd(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ja(e,t){let n=typeof t=="string"?Fn(t).search:t.search;if(e[e.length-1].route.index&&Qd(n||""))return e[e.length-1];let r=Hp(e);return r[r.length-1]}function Bm(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:i,json:l}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function To(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fy(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ma(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function py(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function on(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function vy(e,t){try{let n=e.sessionStorage.getItem(Gp);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function gy(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(Gp,JSON.stringify(n))}catch(r){Jr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(this,arguments)}const Hl=w.createContext(null),ev=w.createContext(null),hr=w.createContext(null),Wd=w.createContext(null),sn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),tv=w.createContext(null);function xy(e,t){let{relative:n}=t===void 0?{}:t;li()||Te(!1);let{basename:r,navigator:a}=w.useContext(hr),{hash:i,pathname:l,search:o}=nv(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:Gs([r,l])),a.createHref({pathname:c,search:o,hash:i})}function li(){return w.useContext(Wd)!=null}function fr(){return li()||Te(!1),w.useContext(Wd).location}function sv(e){w.useContext(hr).static||w.useLayoutEffect(e)}function Ds(){let{isDataRoute:e}=w.useContext(sn);return e?Ry():jy()}function jy(){li()||Te(!1);let e=w.useContext(Hl),{basename:t,future:n,navigator:r}=w.useContext(hr),{matches:a}=w.useContext(sn),{pathname:i}=fr(),l=JSON.stringify(Bd(a,n.v7_relativeSplatPath)),o=w.useRef(!1);return sv(()=>{o.current=!0}),w.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let m=zd(u,JSON.parse(l),i,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Gs([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,l,i,e])}const Ny=w.createContext(null);function yy(e){let t=w.useContext(sn).outlet;return t&&w.createElement(Ny.Provider,{value:e},t)}function Kl(){let{matches:e}=w.useContext(sn),t=e[e.length-1];return t?t.params:{}}function nv(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(hr),{matches:a}=w.useContext(sn),{pathname:i}=fr(),l=JSON.stringify(Bd(a,r.v7_relativeSplatPath));return w.useMemo(()=>zd(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function by(e,t,n,r){li()||Te(!1);let{navigator:a}=w.useContext(hr),{matches:i}=w.useContext(sn),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=fr(),h;h=u;let m=h.pathname||"/",d=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");d="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=qn(e,{pathname:d});return Ey(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Gs([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Gs([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n,r)}function wy(){let e=Ty(),t=Ja(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:a},n):null,null)}const Sy=w.createElement(wy,null);class ky extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(sn.Provider,{value:this.props.routeContext},w.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cy(e){let{routeContext:t,match:n,children:r}=e,a=w.useContext(Hl);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(sn.Provider,{value:t},r)}function Ey(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(a=n)==null?void 0:a.errors;if(o!=null){let h=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);h>=0||Te(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:d,errors:y}=n,C=m.route.loader&&d[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||C){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,m,d)=>{let y,C=!1,g=null,F=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,g=m.route.errorElement||Sy,c&&(u<0&&d===0?(Iy("route-fallback"),C=!0,F=null):u===d&&(C=!0,F=m.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,d+1)),f=()=>{let j;return y?j=g:C?j=F:m.route.Component?j=w.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=h,w.createElement(Cy,{match:m,routeContext:{outlet:h,matches:p,isDataRoute:n!=null},children:j})};return n&&(m.route.ErrorBoundary||m.route.errorElement||d===0)?w.createElement(ky,{location:n.location,revalidation:n.revalidation,component:g,error:y,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var rv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rv||{}),av=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(av||{});function Dy(e){let t=w.useContext(Hl);return t||Te(!1),t}function Ay(e){let t=w.useContext(ev);return t||Te(!1),t}function Py(e){let t=w.useContext(sn);return t||Te(!1),t}function iv(e){let t=Py(),n=t.matches[t.matches.length-1];return n.route.id||Te(!1),n.route.id}function Ty(){var e;let t=w.useContext(tv),n=Ay(av.UseRouteError),r=iv();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Ry(){let{router:e}=Dy(rv.UseNavigateStable),t=iv(),n=w.useRef(!1);return sv(()=>{n.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,wl({fromRouteId:t},i)))},[e,t])}const zm={};function Iy(e,t,n){zm[e]||(zm[e]=!0)}function Ly(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Fy(e){return yy(e.context)}function My(e){let{basename:t="/",children:n=null,location:r,navigationType:a=mt.Pop,navigator:i,static:l=!1,future:o}=e;li()&&Te(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:l,future:wl({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof r=="string"&&(r=Fn(r));let{pathname:h="/",search:m="",hash:d="",state:y=null,key:C="default"}=r,g=w.useMemo(()=>{let F=ta(h,c);return F==null?null:{location:{pathname:F,search:m,hash:d,state:y,key:C},navigationType:a}},[c,h,m,d,y,C,a]);return g==null?null:w.createElement(hr.Provider,{value:u},w.createElement(Wd.Provider,{children:n,value:g}))}new Promise(()=>{});function Oy(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:w.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xa.apply(this,arguments)}function _y(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Uy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $y(e,t){return e.button===0&&(!t||t==="_self")&&!Uy(e)}const By=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zy="6";try{window.__reactRouterVersion=zy}catch{}function qy(e,t){return XN({basename:void 0,future:Xa({},void 0,{v7_prependBasename:!0}),history:bN({window:void 0}),hydrationData:Vy(),routes:e,mapRouteProperties:Oy,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Vy(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Xa({},t,{errors:Qy(t.errors)})),t}function Qy(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new bl(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let l=new i(a.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}const Wy=w.createContext({isTransitioning:!1}),Hy=w.createContext(new Map),Ky="startTransition",qm=wv[Ky],Gy="flushSync",Vm=Fx[Gy];function Yy(e){qm?qm(e):e()}function ha(e){Vm?Vm(e):e()}class Jy{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Xy(e){let{fallbackElement:t,router:n,future:r}=e,[a,i]=w.useState(n.state),[l,o]=w.useState(),[c,u]=w.useState({isTransitioning:!1}),[h,m]=w.useState(),[d,y]=w.useState(),[C,g]=w.useState(),F=w.useRef(new Map),{v7_startTransition:p}=r||{},f=w.useCallback(v=>{p?Yy(v):v()},[p]),j=w.useCallback((v,S)=>{let{deletedFetchers:D,flushSync:L,viewTransitionOpts:B}=S;v.fetchers.forEach((je,q)=>{je.data!==void 0&&F.current.set(q,je.data)}),D.forEach(je=>F.current.delete(je));let ne=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!B||ne){L?ha(()=>i(v)):f(()=>i(v));return}if(L){ha(()=>{d&&(h&&h.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let je=n.window.document.startViewTransition(()=>{ha(()=>i(v))});je.finished.finally(()=>{ha(()=>{m(void 0),y(void 0),o(void 0),u({isTransitioning:!1})})}),ha(()=>y(je));return}d?(h&&h.resolve(),d.skipTransition(),g({state:v,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(o(v),u({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,d,h,F,f]);w.useLayoutEffect(()=>n.subscribe(j),[n,j]),w.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new Jy)},[c]),w.useEffect(()=>{if(h&&l&&n.window){let v=l,S=h.promise,D=n.window.document.startViewTransition(async()=>{f(()=>i(v)),await S});D.finished.finally(()=>{m(void 0),y(void 0),o(void 0),u({isTransitioning:!1})}),y(D)}},[f,l,h,n.window]),w.useEffect(()=>{h&&l&&a.location.key===l.location.key&&h.resolve()},[h,d,a.location,l]),w.useEffect(()=>{!c.isTransitioning&&C&&(o(C.state),u({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),g(void 0))},[c.isTransitioning,C]),w.useEffect(()=>{},[]);let E=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,S,D)=>n.navigate(v,{state:S,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(v,S,D)=>n.navigate(v,{replace:!0,state:S,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),R=n.basename||"/",N=w.useMemo(()=>({router:n,navigator:E,static:!1,basename:R}),[n,E,R]),x=w.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return w.useEffect(()=>Ly(r,n.future),[r,n.future]),w.createElement(w.Fragment,null,w.createElement(Hl.Provider,{value:N},w.createElement(ev.Provider,{value:a},w.createElement(Hy.Provider,{value:F.current},w.createElement(Wy.Provider,{value:c},w.createElement(My,{basename:R,location:a.location,navigationType:a.historyAction,navigator:E,future:x},a.initialized||n.future.v7_partialHydration?w.createElement(Zy,{routes:n.routes,future:n.future,state:a}):t))))),null)}const Zy=w.memo(eb);function eb(e){let{routes:t,future:n,state:r}=e;return by(t,void 0,r,n)}const tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nb=w.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:h,viewTransition:m}=t,d=_y(t,By),{basename:y}=w.useContext(hr),C,g=!1;if(typeof u=="string"&&sb.test(u)&&(C=u,tb))try{let j=new URL(window.location.href),E=u.startsWith("//")?new URL(j.protocol+u):new URL(u),R=ta(E.pathname,y);E.origin===j.origin&&R!=null?u=R+E.search+E.hash:g=!0}catch{}let F=xy(u,{relative:a}),p=rb(u,{replace:l,state:o,target:c,preventScrollReset:h,relative:a,viewTransition:m});function f(j){r&&r(j),j.defaultPrevented||p(j)}return w.createElement("a",Xa({},d,{href:C||F,onClick:g||i?r:f,ref:n,target:c}))});var Qm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qm||(Qm={}));var Wm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wm||(Wm={}));function rb(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=Ds(),u=fr(),h=nv(e,{relative:l});return w.useCallback(m=>{if($y(m,n)){m.preventDefault();let d=r!==void 0?r:dr(u)===dr(h);c(e,{replace:d,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,h,r,a,n,e,i,l,o])}const ab=({activeSection:e,onSectionClick:t,adminDropdown:n,setAdminDropdown:r})=>s.jsxs("nav",{className:"sidebar",children:[s.jsx("h2",{children:"QMS App"}),s.jsxs("div",{children:[s.jsx("button",{onClick:()=>{r(!n),t("admin")},className:e.startsWith("admin")?"active":"","aria-current":e.startsWith("admin")?"page":void 0,children:"Admin Panel"}),n&&s.jsxs("div",{className:"sidebar-submenu",children:[s.jsx("button",{style:{paddingLeft:32,fontSize:"1rem"},onClick:()=>t("usermanagement"),className:e==="usermanagement"?"active":"","aria-current":e==="usermanagement"?"page":void 0,children:"User Management"}),s.jsx("button",{style:{paddingLeft:32,fontSize:"1rem"},onClick:()=>t("trackingperformance"),className:e==="trackingperformance"?"active":"","aria-current":e==="trackingperformance"?"page":void 0,children:"Tracking Performance"})]})]}),s.jsx("button",{onClick:()=>t("assignment"),className:e==="assignment"?"active":"","aria-current":e==="assignment"?"page":void 0,children:"Assignment"}),s.jsx("button",{onClick:()=>t("approval"),className:e==="approval"?"active":"","aria-current":e==="approval"?"page":void 0,children:"Approval"}),s.jsx("button",{onClick:()=>t("submitteddata"),className:e==="submitteddata"?"active":"","aria-current":e==="submitteddata"?"page":void 0,children:"Submitted Data"}),s.jsx("button",{onClick:()=>t("hunting"),className:e==="hunting"?"active":"","aria-current":e==="hunting"?"page":void 0,children:"Hunting"}),s.jsx("button",{onClick:()=>t("sourcing"),className:e==="sourcing"?"active":"","aria-current":e==="sourcing"?"page":void 0,children:"Sourcing"}),s.jsx("button",{onClick:()=>t("submission"),className:e==="submission"?"active":"","aria-current":e==="submission"?"page":void 0,children:"Submission"}),s.jsx("button",{onClick:()=>t("execution"),className:e==="execution"?"active":"","aria-current":e==="execution"?"page":void 0,children:"Execution"}),s.jsx("button",{onClick:()=>t("ordercomplete"),className:e==="ordercomplete"?"active":"","aria-current":e==="ordercomplete"?"page":void 0,children:"Order Complete"})]}),ib=()=>{const e=Ds(),t=fr(),n=rj(),{activeSection:r,adminDropdown:a}=Ec(l=>l.ui);Ec(l=>l.user.currentUser),kl.useEffect(()=>{let l="hunting",o=!1;t.pathname==="/"||t.pathname==="/qms"?l="hunting":t.pathname==="/assignment"?l="assignment":t.pathname==="/admin"?(l="admin",o=!0):t.pathname==="/admin/usermanagement"||t.pathname==="/admin/usermanagement/add"?(l="usermanagement",o=!0):t.pathname==="/admin/tracking-performance"?(l="trackingperformance",o=!0):t.pathname==="/approval"?l="approval":t.pathname==="/submitted-data"?l="submitteddata":t.pathname==="/sourcing"||t.pathname.startsWith("/sourcing/")?l="sourcing":t.pathname==="/submission"?l="submission":t.pathname==="/execution"?l="execution":t.pathname==="/order-complete"&&(l="ordercomplete"),n(wm(l)),n(os(o))},[t,n]);const i=l=>{n(wm(l)),l==="assignment"?(e("/assignment"),n(os(!1))):l==="hunting"?(e("/qms"),n(os(!1))):l==="admin"?(e("/admin"),n(pN())):l==="usermanagement"?(e("/admin/usermanagement"),n(os(!0))):l==="trackingperformance"?(e("/admin/tracking-performance"),n(os(!0))):l==="approval"?(e("/approval"),n(os(!1))):l==="submitteddata"?(e("/submitted-data"),n(os(!1))):l==="sourcing"?(e("/sourcing"),n(os(!1))):l==="submission"?(e("/submission"),n(os(!1))):l==="execution"?(e("/execution"),n(os(!1))):l==="ordercomplete"&&(e("/order-complete"),n(os(!1)))};return s.jsxs("div",{className:"container",children:[s.jsx(ab,{activeSection:r,onSectionClick:i,adminDropdown:a,setAdminDropdown:l=>n(os(l))}),s.jsx("main",{className:"main-content",children:s.jsx(Fy,{})})]})},Ro="2025-07-28 21:33:04",Io="MFakheem",Ti=new Date().toISOString().slice(0,10),Hm=()=>{const[e,t]=w.useState("search"),[n,r]=w.useState({fromDate:"",toDate:"",portalName:"",bidNumber:"",hunterName:""}),[a,i]=w.useState([]),[l,o]=w.useState([]),[c,u]=w.useState({id:"",date:Ti,portalName:"",portalLink:"",bidNumber:"",bidTitle:"",category:"",quantity:"",timeStamp:"",dueDate:"",contactName:"",email:"",huntingRemarks:"",hunterName:""}),[h,m]=w.useState(!1),[d,y]=w.useState(null),C=Ds(),g=fr();w.useEffect(()=>{const v=localStorage.getItem("huntingEntries");if(v){const S=JSON.parse(v);i(S),o(S)}},[]),w.useEffect(()=>{var S;if(new URLSearchParams(g.search).get("section")==="hunting"&&t("search"),(S=g.state)!=null&&S.editEntry){const D=g.state.editEntry;u(D),m(!0),y(D.id),t("add"),window.history.replaceState({},document.title)}},[g]);const F=v=>{const{name:S,value:D}=v.target;r(L=>({...L,[S]:D}))},p=()=>{o(a.filter(v=>{const{fromDate:S,toDate:D,portalName:L,bidNumber:B,hunterName:ne}=n,je=new Date(v.date),q=!S||new Date(S)<=je,re=!D||je<=new Date(D),ue=!L||v.portalName.toLowerCase().includes(L.toLowerCase()),$=!B||v.bidNumber.toLowerCase().includes(B.toLowerCase()),Z=!ne||v.hunterName&&v.hunterName.toLowerCase().includes(ne.toLowerCase());return q&&re&&ue&&$&&Z}))},f=v=>{const{name:S,value:D}=v.target;u(L=>({...L,[S]:D}))},j=()=>`Q${((a.length?parseInt(a[a.length-1].id.slice(1)):0)+1).toString().padStart(4,"0")}`,E=()=>{if(!c.date||!c.portalName||!c.bidNumber){alert("Please fill all required fields.");return}let v;if(h){const L={...c,lastModified:Ro,lastModifiedBy:Io};v=a.map(B=>B.id===d?L:B),alert("Entry updated successfully!")}else{const L=j(),B={...c,id:L,createdAt:Ro,createdBy:Io};v=[...a,B],alert("Entry added successfully!")}i(v),o(v),localStorage.setItem("huntingEntries",JSON.stringify(v));const S=localStorage.getItem("assignmentEntries");let D=S?JSON.parse(S):[];if(h){const L=v.find(B=>B.id===d);D=D.map(B=>B.id===d?L:B)}else{const L=v[v.length-1];D.push(L)}localStorage.setItem("assignmentEntries",JSON.stringify(D)),u({id:"",date:Ti,portalName:"",portalLink:"",bidNumber:"",bidTitle:"",category:"",quantity:"",timeStamp:"",dueDate:"",contactName:"",email:"",huntingRemarks:"",hunterName:""}),m(!1),y(null),t("search")},R=()=>{u({id:"",date:Ti,portalName:"",portalLink:"",bidNumber:"",bidTitle:"",category:"",quantity:"",timeStamp:"",dueDate:"",contactName:"",email:"",huntingRemarks:"",hunterName:""}),m(!1),y(null),t("search")},N=v=>C(`/qms/${v}`),x=v=>{if(!window.confirm("Are you sure you want to delete this entry from Hunting? Note: This will NOT delete it from other sections."))return;const S=a.filter(D=>D.id!==v);i(S),o(l.filter(D=>D.id!==v)),localStorage.setItem("huntingEntries",JSON.stringify(S)),alert(`Entry ${v} deleted from Hunting section only.`)};return s.jsxs("div",{className:"qms-container",children:[s.jsx("div",{className:"qms-header",children:s.jsxs("div",{className:"header-content",children:[s.jsxs("div",{className:"header-left",children:[s.jsxs("h1",{children:["QMS - ",e==="search"?"Search Entry":h?"Edit Entry":"Add New Entry"]}),s.jsx("p",{children:e==="search"?"Search and manage your QMS entries":h?`Edit QMS entry ${d}`:"Create a new QMS entry"})]}),s.jsx("div",{className:"header-right",children:s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:Io})]}),s.jsxs("span",{children:["Date: ",s.jsxs("strong",{children:[Ro," UTC"]})]})]})})]})}),s.jsx("div",{className:"qms-controls",children:s.jsxs("div",{className:"qms-actions",children:[s.jsx("button",{onClick:()=>t("search"),className:e==="search"?"btn-primary":"btn-secondary",children:"🔍 Search"}),s.jsx("button",{onClick:()=>{t("add"),h&&(m(!1),y(null),u({id:"",date:Ti,portalName:"",portalLink:"",bidNumber:"",bidTitle:"",category:"",quantity:"",timeStamp:"",dueDate:"",contactName:"",email:"",huntingRemarks:"",hunterName:""}))},className:e==="add"&&!h?"btn-primary":"btn-secondary",children:"➕ Add New"})]})}),e==="search"&&s.jsxs("div",{className:"qms-search-container",children:[s.jsxs("div",{className:"qms-search-form",children:[s.jsxs("form",{className:"search-form-grid",onSubmit:v=>{v.preventDefault(),p()},autoComplete:"off",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"From Date"}),s.jsx("input",{name:"fromDate",type:"date",className:"form-input",value:n.fromDate,onChange:F})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"To Date"}),s.jsx("input",{name:"toDate",type:"date",className:"form-input",value:n.toDate,onChange:F})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Portal Name"}),s.jsx("input",{name:"portalName",placeholder:"Portal Name",className:"form-input",value:n.portalName,onChange:F})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Bid Number"}),s.jsx("input",{name:"bidNumber",placeholder:"Bid Number",className:"form-input",value:n.bidNumber,onChange:F})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Hunter Name"}),s.jsx("input",{name:"hunterName",placeholder:"Hunter Name",className:"form-input",value:n.hunterName,onChange:F})]})]}),s.jsxs("div",{className:"search-form-actions",children:[s.jsx("button",{type:"submit",className:"btn-search",onClick:p,children:"🔍 Search Entries"}),s.jsx("button",{type:"button",className:"btn-reset",onClick:()=>{r({fromDate:"",toDate:"",portalName:"",bidNumber:"",hunterName:""}),o(a)},children:"🔄 Reset"})]})]}),s.jsx("div",{className:"qms-list-container",children:s.jsxs("table",{className:"qms-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Portal Name"}),s.jsx("th",{children:"Bid Number"}),s.jsx("th",{children:"Hunter Name"}),s.jsx("th",{children:"Time Stamp"}),s.jsx("th",{children:"Due Date"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:l.map(v=>s.jsxs("tr",{children:[s.jsx("td",{children:v.date}),s.jsx("td",{children:v.portalName}),s.jsx("td",{children:v.bidNumber}),s.jsx("td",{children:v.hunterName||"N/A"}),s.jsx("td",{children:v.timeStamp}),s.jsx("td",{children:v.dueDate}),s.jsx("td",{children:s.jsxs("div",{className:"action-buttons",children:[s.jsx("button",{className:"btn-view",onClick:()=>N(v.id),title:"View Details",children:"View"}),s.jsx("button",{className:"btn-delete",onClick:()=>x(v.id),title:"Delete Entry from Hunting only",children:"🗑️ Delete"})]})})]},v.id))})]})})]}),e==="add"&&s.jsx("div",{className:"qms-add-container",children:s.jsx("div",{className:"qms-add-form",children:s.jsxs("form",{onSubmit:v=>{v.preventDefault(),E()},autoComplete:"off",children:[s.jsxs("div",{className:"form-section",children:[s.jsxs("h3",{children:[s.jsx("span",{className:"form-section-icon",children:"📝"}),"Basic Information"]}),s.jsxs("div",{className:"add-form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Date *"}),s.jsx("input",{name:"date",type:"date",className:"form-input",value:c.date,onChange:f,required:!0,readOnly:!h,style:h?{}:{background:"#f3f4f6",color:"#555",cursor:"not-allowed"}})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Portal Name *"}),s.jsx("input",{name:"portalName",placeholder:"Portal Name",className:"form-input",value:c.portalName,onChange:f,required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Portal Link"}),s.jsx("input",{name:"portalLink",placeholder:"Portal Link",className:"form-input",value:c.portalLink,onChange:f})]})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsxs("h3",{children:[s.jsx("span",{className:"form-section-icon",children:"📋"}),"Bid Details"]}),s.jsxs("div",{className:"add-form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Bid Number *"}),s.jsx("input",{name:"bidNumber",placeholder:"Bid Number",className:"form-input",value:c.bidNumber,onChange:f,required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Bid Title"}),s.jsx("input",{name:"bidTitle",placeholder:"Bid Title",className:"form-input",value:c.bidTitle,onChange:f})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Category"}),s.jsx("input",{name:"category",placeholder:"Category",className:"form-input",value:c.category,onChange:f})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Quantity"}),s.jsx("input",{name:"quantity",placeholder:"Quantity",type:"number",min:"1",className:"form-input",value:c.quantity,onChange:f})]})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsxs("h3",{children:[s.jsx("span",{className:"form-section-icon",children:"📅"}),"Timeline"]}),s.jsxs("div",{className:"add-form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Time Stamp"}),s.jsx("input",{name:"timeStamp",type:"date",className:"form-input",value:c.timeStamp,onChange:f})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Due Date"}),s.jsx("input",{name:"dueDate",type:"date",className:"form-input",value:c.dueDate,onChange:f})]})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsxs("h3",{children:[s.jsx("span",{className:"form-section-icon",children:"👤"}),"Contact Information"]}),s.jsxs("div",{className:"add-form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Hunter Name"}),s.jsx("input",{name:"hunterName",placeholder:"Hunter Name",className:"form-input",value:c.hunterName,onChange:f})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Contact Name"}),s.jsx("input",{name:"contactName",placeholder:"Contact Name",className:"form-input",value:c.contactName,onChange:f})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{name:"email",type:"email",placeholder:"Email",className:"form-input",value:c.email,onChange:f})]})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsxs("h3",{children:[s.jsx("span",{className:"form-section-icon",children:"💬"}),"Additional Notes"]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Hunting Remarks"}),s.jsx("textarea",{name:"huntingRemarks",placeholder:"Hunting Remarks",className:"form-textarea",value:c.huntingRemarks,onChange:f,rows:4})]})]}),s.jsxs("div",{className:"add-form-actions",children:[s.jsx("button",{type:"submit",className:"btn-save",children:h?"💾 Update Entry":"💾 Save Entry"}),s.jsx("button",{type:"button",className:"btn-cancel",onClick:R,children:"❌ Cancel"})]})]})})})]})},lb=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(""),[a,i]=w.useState("all"),[l,o]=w.useState([]),[c,u]=w.useState([]),h="2025-07-28 21:04:14",m="MFakheem",d=Ds();w.useEffect(()=>{const x=localStorage.getItem("assignmentEntries");if(x){const D=JSON.parse(x);t(D),o(D),console.log("Loaded Assignment entries:",D)}y();const v=D=>{D.key==="users"&&y()};window.addEventListener("storage",v);const S=setInterval(y,1e3);return()=>{window.removeEventListener("storage",v),clearInterval(S)}},[]);const y=()=>{const x=localStorage.getItem("users");if(x){const v=JSON.parse(x);u(v),console.log("Loaded users:",v)}else console.log("No users found in localStorage")};w.useEffect(()=>{let x=e;if(n&&(x=x.filter(v=>v.portalName.toLowerCase().includes(n.toLowerCase())||v.bidNumber.toLowerCase().includes(n.toLowerCase())||v.id.toLowerCase().includes(n.toLowerCase())||v.hunterName&&v.hunterName.toLowerCase().includes(n.toLowerCase()))),a!=="all"){const v=new Date;x=x.filter(S=>{const D=new Date(S.dueDate),L=Math.ceil((D-v)/(1e3*60*60*24));switch(a){case"overdue":return L<0;case"due-soon":return L>=0&&L<=7;case"active":return L>7;default:return!0}})}o(x)},[e,n,a]);const C=x=>d(`/qms/${x}`),g=x=>{if(!window.confirm("Are you sure you want to delete this entry from Assignment? Note: This will NOT delete it from other sections."))return;console.log(`Attempting to delete entry ${x} from Assignment`);const v=e.filter(S=>S.id!==x);t(v),localStorage.setItem("assignmentEntries",JSON.stringify(v)),console.log(`Entry ${x} deleted from Assignment. Remaining entries:`,v),alert(`Entry ${x} has been deleted from Assignment section only.`)},F=x=>{console.log("Transferring entry to sourcing:",x);const v=localStorage.getItem("sourcingEntries");let S=v?JSON.parse(v):[];console.log("Existing sourcing entries:",S);const D=S.findIndex(ne=>ne.id===x.id);D>=0?(S[D]={...x,transferredAt:h,transferredBy:m},console.log("Updated existing entry in sourcing")):(S.push({...x,transferredAt:h,transferredBy:m}),console.log("Added new entry to sourcing")),localStorage.setItem("sourcingEntries",JSON.stringify(S)),console.log("Saved to localStorage:",S);const L=document.createElement("div");L.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
            z-index: 10000;
            font-weight: 600;
            animation: slideIn 0.3s ease-out;
        `,L.innerHTML=`✅ Entry ${x.id} transferred to Sourcing!`,document.body.appendChild(L);const B=document.createElement("style");B.textContent=`
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `,document.head.appendChild(B),setTimeout(()=>{L.remove(),B.remove()},3e3)},p=(x,v)=>{if(!v)return;console.log(`Assigning user ${v} to entry ${x}`);const S=c.find(L=>L.id.toString()===v);if(!S){console.log("User not found:",v);return}console.log("Selected user:",S);const D=e.map(L=>{if(L.id===x){const B={...L,hunterName:S.name,assignedUserId:S.id,assignedAt:h,assignedBy:L.assignedBy||""};return console.log("Updated entry:",B),B.hunterName&&B.assignedBy?(console.log("Both Assign To and Assigned By are set, transferring to sourcing"),F(B)):console.log("Not transferring to sourcing. hunterName:",B.hunterName,"assignedBy:",B.assignedBy),B}return L});t(D),localStorage.setItem("assignmentEntries",JSON.stringify(D)),alert(`Successfully assigned "${S.name}" to entry ${x}`)},f=(x,v)=>{console.log(`Setting assignedBy for entry ${x} to:`,v);const S=e.map(D=>{if(D.id===x){const L={...D,assignedBy:v,assignedByAt:h,assignedByUser:m};return console.log("Updated entry:",L),L.hunterName&&L.assignedBy?(console.log("Both Assign To and Assigned By are set, transferring to sourcing"),F(L)):console.log("Not transferring to sourcing. hunterName:",L.hunterName,"assignedBy:",L.assignedBy),L}return D});t(S),localStorage.setItem("assignmentEntries",JSON.stringify(S))},j=x=>{if(!x)return"No due date";const v=new Date,D=new Date(x)-v,L=Math.ceil(D/(1e3*60*60*24));return L>=0?`${L} days`:`Overdue by ${Math.abs(L)} days`},E=x=>{if(!x)return"";const v=new Date,D=new Date(x)-v,L=Math.ceil(D/(1e3*60*60*24));return L<0?"overdue":L<=3?"due-soon":""},R=x=>{if(!x)return null;const v=new Date,D=new Date(x)-v,L=Math.ceil(D/(1e3*60*60*24));return L<0?s.jsx("span",{className:"priority-badge priority-critical",children:"Overdue"}):L<=3?s.jsx("span",{className:"priority-badge priority-high",children:"Urgent"}):L<=7?s.jsx("span",{className:"priority-badge priority-medium",children:"Soon"}):s.jsx("span",{className:"priority-badge priority-low",children:"Normal"})},N=x=>{const v=new Date,S=new Date(x.dueDate),D=Math.ceil((S-v)/(1e3*60*60*24));return D<0?s.jsx("span",{className:"status-badge status-overdue",children:"Overdue"}):D<=3?s.jsx("span",{className:"status-badge status-review",children:"Critical"}):D<=7?s.jsx("span",{className:"status-badge status-in-progress",children:"In Progress"}):s.jsx("span",{className:"status-badge status-not-started",children:"Active"})};return s.jsxs("div",{className:"assignment-container",children:[s.jsxs("div",{className:"assignment-header",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Assignment Dashboard"}),s.jsx("p",{children:"Track and manage your QMS entries with deadlines and priorities"})]}),s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:m})]}),s.jsxs("span",{children:["Date: ",s.jsxs("strong",{children:[h," UTC"]})]})]})]}),s.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",padding:"10px",margin:"10px 0",fontSize:"12px",fontFamily:"monospace"},children:[s.jsx("strong",{children:"🐛 Debug Info:"}),s.jsx("br",{}),"Assignment Entries: ",e.length," | Users Loaded: ",c.length," | Filtered Results: ",l.length,s.jsx("br",{}),s.jsx("small",{children:"Check browser console for detailed logs"})]}),s.jsxs("div",{className:"assignment-controls",children:[s.jsxs("div",{className:"search-filter-section",children:[s.jsxs("div",{className:"search-container",children:[s.jsx("input",{type:"text",placeholder:"Search by Portal, Bid Number, QMS ID, or Hunter Name...",value:n,onChange:x=>r(x.target.value),className:"search-input"}),s.jsx("span",{className:"search-icon",children:"🔍"})]}),s.jsx("div",{className:"filter-container",children:s.jsxs("select",{value:a,onChange:x=>i(x.target.value),className:"filter-select",children:[s.jsx("option",{value:"all",children:"All Entries"}),s.jsx("option",{value:"overdue",children:"Overdue"}),s.jsx("option",{value:"due-soon",children:"Due Soon (≤7 days)"}),s.jsx("option",{value:"active",children:"Active (7 days)"})]})})]}),s.jsxs("div",{className:"assignment-actions",children:[s.jsx("button",{className:"btn-primary",onClick:()=>d("/"),children:"➕ Add New Entry"}),s.jsx("button",{className:"btn-secondary",onClick:()=>window.print(),children:"🖨️ Print Report"}),s.jsx("button",{className:"btn-sourcing",onClick:()=>d("/sourcing"),children:"🎯 Go to Sourcing"})]})]}),s.jsxs("div",{className:"assignment-list-container",children:[s.jsxs("table",{className:"assignment-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"QMS ID"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Portal Name"}),s.jsx("th",{children:"Bid Number"}),s.jsx("th",{children:"Hunter"}),s.jsx("th",{children:"Due Date"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Priority"}),s.jsx("th",{children:"Days Left"}),s.jsx("th",{children:"Actions"}),s.jsx("th",{children:"Assign To"}),s.jsx("th",{children:"Assigned By"})]})}),s.jsx("tbody",{children:l.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:12,children:s.jsxs("div",{className:"no-assignments-message",children:[s.jsx("div",{className:"no-assignments-icon",children:"📋"}),s.jsx("h3",{children:"No Entries Found"}),s.jsx("p",{children:e.length===0?"No QMS entries have been created yet.":"No entries match your current search criteria."}),e.length===0&&s.jsx("button",{className:"btn-create-first",onClick:()=>d("/"),children:"Create Your First Entry"})]})})}):l.map(x=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("div",{className:"assignment-id-cell",children:x.id})}),s.jsx("td",{children:x.date||"N/A"}),s.jsx("td",{children:s.jsx("div",{className:"assignment-title",children:x.portalName||"N/A"})}),s.jsx("td",{children:s.jsx("strong",{children:x.bidNumber||"N/A"})}),s.jsx("td",{children:s.jsx("div",{className:"hunter-name",children:x.hunterName||"Not Assigned"})}),s.jsx("td",{children:s.jsx("span",{className:`due-date ${E(x.dueDate)}`,children:x.dueDate||"No due date"})}),s.jsx("td",{children:N(x)}),s.jsx("td",{children:R(x.dueDate)}),s.jsx("td",{children:s.jsx("strong",{className:E(x.dueDate),children:j(x.dueDate)})}),s.jsx("td",{children:s.jsxs("div",{className:"action-buttons",children:[s.jsx("button",{className:"btn-view",onClick:()=>C(x.id),title:"View Details",children:"View"}),s.jsx("button",{className:"btn-delete",onClick:()=>g(x.id),title:"Delete Entry from Assignment only",children:"🗑️"})]})}),s.jsx("td",{children:s.jsx("div",{className:"assign-to-container",children:s.jsxs("select",{className:"assign-to-select",value:x.assignedUserId||"",onChange:v=>p(x.id,v.target.value),title:"Assign this entry to a user",children:[s.jsx("option",{value:"",children:"Select User..."}),c.map(v=>s.jsxs("option",{value:v.id,children:[v.name," (",v.role,")"]},v.id))]})})}),s.jsx("td",{children:s.jsx("div",{className:"assigned-by-container",children:s.jsxs("select",{className:"assigned-by-select",value:x.assignedBy||"",onChange:v=>f(x.id,v.target.value),title:"Select who assigned this entry",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Joe",children:"Joe"}),s.jsx("option",{value:"Jack",children:"Jack"})]})})})]},x.id))})]}),l.length>0&&s.jsx("div",{className:"table-footer",children:s.jsxs("div",{className:"results-info",children:["Showing ",l.length," of ",e.length," entries"]})})]})]})},ob=()=>{const{id:e}=Kl(),t=Ds(),[n,r]=w.useState(null),[a,i]=w.useState(!0),[l,o]=w.useState(null),[c,u]=w.useState(""),h="2025-07-28 21:45:14",m="MFakheem";w.useEffect(()=>{e&&(async()=>{try{i(!0),o(null);let j=null,E="";const R=localStorage.getItem("qmsEntries");if(R&&(j=JSON.parse(R).find(x=>x.id===e),j&&(E="Assignment")),!j){const N=localStorage.getItem("sourcingEntries");N&&(j=JSON.parse(N).find(v=>v.id===e),j&&(E="Sourcing"))}if(!j)throw new Error(`No entry found for QMS ID: ${e} in either Assignment or Sourcing data`);r(j),u(E),console.log(`Found entry ${e} in ${E} data:`,j)}catch(j){o(j.message)}finally{i(!1)}})()},[e]);const d=()=>t(-1),y=()=>{t("/",{state:{editEntry:n}})},C=f=>{try{return new URL(f),!0}catch(j){return console.log(j),!1}},g=f=>{if(!f)return null;const j=new Date,R=new Date(f)-j;return Math.ceil(R/(1e3*60*60*24))},F=f=>{const j=g(f);return j===null?null:j<0?{status:"overdue",text:`Overdue by ${Math.abs(j)} days`,class:"status-overdue"}:j===0?{status:"today",text:"Due Today",class:"status-critical"}:j<=3?{status:"urgent",text:`${j} days left`,class:"status-urgent"}:j<=7?{status:"soon",text:`${j} days left`,class:"status-warning"}:{status:"normal",text:`${j} days left`,class:"status-normal"}};if(a)return s.jsxs("div",{className:"qms-detail-loading",children:[s.jsxs("div",{className:"loading-spinner",children:[s.jsx("div",{className:"spinner-ring"}),s.jsx("div",{className:"spinner-ring"}),s.jsx("div",{className:"spinner-ring"})]}),s.jsx("h3",{children:"Loading QMS Details..."}),s.jsx("p",{children:"Please wait while we fetch the information"})]});if(l)return s.jsxs("div",{className:"qms-detail-container",children:[s.jsx("div",{className:"qms-detail-header error-header",children:s.jsxs("div",{className:"header-content",children:[s.jsxs("div",{className:"header-left",children:[s.jsx("h1",{children:"⚠️ Error Loading Details"}),s.jsx("p",{children:"Failed to load QMS entry information"})]}),s.jsxs("div",{className:"header-right",children:[s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:m})]}),s.jsxs("span",{children:["Date: ",s.jsxs("strong",{children:[h," UTC"]})]})]}),s.jsx("div",{className:"header-actions",children:s.jsx("button",{onClick:d,className:"btn btn-back",children:"← Back"})})]})]})}),s.jsx("div",{className:"qms-detail-content",children:s.jsxs("div",{className:"error-section",children:[s.jsx("div",{className:"error-icon",children:"❌"}),s.jsx("h3",{children:"Entry Not Found"}),s.jsx("p",{children:l}),s.jsx("button",{onClick:d,className:"btn btn-primary",children:"Go Back"})]})})]});const p=F(n.dueDate);return s.jsxs("div",{className:"qms-detail-container",children:[s.jsx("div",{className:"qms-detail-header",children:s.jsxs("div",{className:"header-content",children:[s.jsxs("div",{className:"header-left",children:[s.jsx("div",{className:"qms-id-badge",children:e}),s.jsx("h1",{children:"QMS Entry Details"}),s.jsx("p",{children:"Complete information and tracking for this QMS entry"}),s.jsx("div",{className:"data-source-badge",children:s.jsxs("span",{className:`source-indicator ${c.toLowerCase()}`,children:["📂 ",c," Section"]})})]}),s.jsxs("div",{className:"header-right",children:[s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:m})]}),s.jsxs("span",{children:["Date: ",s.jsxs("strong",{children:[h," UTC"]})]})]}),s.jsxs("div",{className:"header-actions",children:[s.jsx("button",{onClick:d,className:"btn btn-back",children:"← Back"}),s.jsx("button",{onClick:y,className:"btn btn-edit",children:"✏️ Edit Entry"})]})]})]})}),s.jsx("div",{className:"qms-detail-content",children:s.jsxs("div",{className:"detail-sections",children:[s.jsxs("div",{className:"overview-card",children:[s.jsxs("div",{className:"overview-item",children:[s.jsx("span",{className:"overview-label",children:"Portal"}),s.jsx("span",{className:"overview-value",children:n.portalName||"N/A"})]}),s.jsxs("div",{className:"overview-item",children:[s.jsx("span",{className:"overview-label",children:"Bid Number"}),s.jsx("span",{className:"overview-value",children:n.bidNumber||"N/A"})]}),s.jsxs("div",{className:"overview-item",children:[s.jsx("span",{className:"overview-label",children:"Hunter"}),s.jsx("span",{className:"overview-value",children:n.hunterName||"Not Assigned"})]}),s.jsxs("div",{className:"overview-item",children:[s.jsx("span",{className:"overview-label",children:"Due Date"}),p?s.jsx("span",{className:`overview-value ${p.class}`,children:p.text}):s.jsx("span",{className:"overview-value",children:"No due date set"})]})]}),s.jsxs("div",{className:"detail-section",children:[s.jsxs("h2",{className:"section-title",children:[s.jsx("span",{className:"section-icon",children:"📋"}),"Basic Information"]}),s.jsxs("div",{className:"detail-grid",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"QMS ID"}),s.jsx("span",{className:"detail-value qms-id",children:n.id})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Date Created"}),s.jsx("span",{className:"detail-value",children:n.date?new Date(n.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A"})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Portal Name"}),s.jsx("span",{className:"detail-value portal-name",children:n.portalName||"N/A"})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Portal Link"}),s.jsx("span",{className:"detail-value",children:n.portalLink?C(n.portalLink)?s.jsx("a",{href:n.portalLink,target:"_blank",rel:"noopener noreferrer",className:"link-button",children:"🔗 Open Portal"}):s.jsxs("span",{className:"invalid-link",title:"Invalid URL",children:["⚠️ ",n.portalLink]}):"N/A"})]})]})]}),s.jsxs("div",{className:"detail-section",children:[s.jsxs("h2",{className:"section-title",children:[s.jsx("span",{className:"section-icon",children:"💼"}),"Bid Information"]}),s.jsxs("div",{className:"detail-grid",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Bid Number"}),s.jsx("span",{className:"detail-value bid-number",children:n.bidNumber||"N/A"})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Bid Title"}),s.jsx("span",{className:"detail-value",children:n.bidTitle||"N/A"})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Category"}),s.jsx("span",{className:"detail-value",children:n.category?s.jsx("span",{className:"category-badge",children:n.category}):"N/A"})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Quantity"}),s.jsx("span",{className:"detail-value quantity",children:n.quantity?`${n.quantity} units`:"N/A"})]})]})]}),s.jsxs("div",{className:"detail-section",children:[s.jsxs("h2",{className:"section-title",children:[s.jsx("span",{className:"section-icon",children:"📅"}),"Timeline & Dates"]}),s.jsxs("div",{className:"detail-grid",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Time Stamp"}),s.jsx("span",{className:"detail-value",children:n.timeStamp?new Date(n.timeStamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Due Date"}),s.jsx("span",{className:"detail-value",children:n.dueDate?s.jsxs("div",{className:"due-date-info",children:[s.jsx("span",{className:"date-text",children:new Date(n.dueDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),p&&s.jsx("span",{className:`due-status ${p.class}`,children:p.text})]}):"N/A"})]}),c==="Sourcing"&&n.transferredAt&&s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Transferred to Sourcing"}),s.jsx("span",{className:"detail-value",children:s.jsx("span",{className:"transfer-badge",children:new Date(n.transferredAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})})]})]})]}),s.jsxs("div",{className:"detail-section",children:[s.jsxs("h2",{className:"section-title",children:[s.jsx("span",{className:"section-icon",children:"👤"}),"Contact Information"]}),s.jsxs("div",{className:"detail-grid",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Hunter Name"}),s.jsx("span",{className:"detail-value hunter-name",children:n.hunterName||"Not Assigned"})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Contact Name"}),s.jsx("span",{className:"detail-value",children:n.contactName||"N/A"})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Email"}),s.jsx("span",{className:"detail-value",children:n.email?s.jsxs("a",{href:`mailto:${n.email}`,className:"email-link",children:["📧 ",n.email]}):"N/A"})]}),c==="Sourcing"&&s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Assigned By"}),s.jsx("span",{className:"detail-value",children:n.assignedBy?s.jsx("span",{className:"assigned-by-badge",children:n.assignedBy}):"N/A"})]})]})]}),s.jsxs("div",{className:"detail-section remarks-section",children:[s.jsxs("h2",{className:"section-title",children:[s.jsx("span",{className:"section-icon",children:"💬"}),"Hunting Remarks & Notes"]}),s.jsx("div",{className:"remarks-content",children:s.jsx("div",{className:"remarks-text",children:n.huntingRemarks||"No remarks or additional notes have been provided for this entry."})})]})]})})]})},cb=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[a,i]=w.useState({totalEntries:0,totalUsers:0,pendingTasks:0,completedTasks:0});w.useEffect(()=>{const u=JSON.parse(localStorage.getItem("qmsEntries")||"[]"),h=JSON.parse(localStorage.getItem("users")||"[]");t(u),r(h);const m=new Date,d=u.filter(C=>{const g=C.dueDate?new Date(C.dueDate):null;return g&&g>=m}).length,y=u.filter(C=>{const g=C.dueDate?new Date(C.dueDate):null;return g&&g<m}).length;i({totalEntries:u.length,totalUsers:h.length,pendingTasks:d,completedTasks:y})},[]);const l=new Date().toLocaleString("en-US",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/(\d+)\/(\d+)\/(\d+),?\s*(\d+):(\d+):(\d+)/,"$3-$1-$2 $4:$5:$6"),c=(()=>{const u=[];return e.sort((d,y)=>new Date(y.date)-new Date(d.date)).slice(0,3).forEach((d,y)=>{const C=d.portalName||d.bidNumber||d.bidTitle||`QMS-${d.id}`,g=new Date,F=d.dueDate?new Date(d.dueDate):null;let p="active";F&&(F<g?p="completed":F<=new Date(g.getTime()+7*24*60*60*1e3)&&(p="pending")),u.push({id:`qms-${d.id}`,action:`New QMS entry: ${C}`,user:d.hunterName||"MFakheem",time:d.date?new Date(d.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+", "+new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):l,status:p,type:"qms"})}),n.sort((d,y)=>new Date(y.createdAt||0)-new Date(d.createdAt||0)).slice(0,2).forEach(d=>{u.push({id:`user-${d.id}`,action:`New user registered: ${d.name}`,user:"MFakheem",time:d.createdAt?new Date(d.createdAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+", "+new Date(d.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):l,status:"active",type:"user"})}),u.length===0&&u.push({id:"system-1",action:"System initialized successfully",user:"System",time:l.replace(/(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})/,"$2/$3/$1, $4:$5 PM"),status:"active",type:"system"},{id:"system-2",action:"Admin panel accessed",user:"MFakheem",time:l.replace(/(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})/,"$2/$3/$1, $4:$5 PM"),status:"active",type:"system"}),u.sort((d,y)=>new Date(y.time)-new Date(d.time)).slice(0,5)})();return s.jsxs("div",{className:"admin-panel",children:[s.jsxs("div",{className:"admin-header",children:[s.jsx("h1",{children:"Admin Dashboard"}),s.jsxs("div",{className:"admin-info",children:[s.jsx("span",{children:"Current User: MFakheem"}),s.jsxs("span",{children:["Last Updated: ",l," UTC"]})]})]}),s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"📊"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Total QMS Entries"}),s.jsx("p",{className:"stat-number",children:a.totalEntries})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"👥"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Total Users"}),s.jsx("p",{className:"stat-number",children:a.totalUsers})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"⏳"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Pending Tasks"}),s.jsx("p",{className:"stat-number",children:a.pendingTasks})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"✅"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Completed Tasks"}),s.jsx("p",{className:"stat-number",children:a.completedTasks})]})]})]}),s.jsxs("div",{className:"admin-content",children:[s.jsxs("div",{className:"recent-activities",children:[s.jsx("h2",{children:"Recent Activities"}),s.jsx("div",{className:"activity-list",children:c.length>0?c.map(u=>s.jsxs("div",{className:"activity-item",children:[s.jsxs("div",{className:"activity-details",children:[s.jsxs("p",{className:"activity-action",children:[s.jsx("span",{className:"activity-icon",children:u.type==="qms"?"📋":u.type==="user"?"👤":"⚙️"}),u.action]}),s.jsxs("p",{className:"activity-meta",children:["by ",s.jsx("strong",{children:u.user})," • ",u.time]})]}),s.jsx("span",{className:`activity-status ${u.status.toLowerCase()}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]},u.id)):s.jsxs("div",{className:"no-activities",children:[s.jsx("p",{children:"No recent activities found"}),s.jsx("p",{children:"QMS entries and user actions will appear here"})]})})]}),s.jsxs("div",{className:"quick-actions",children:[s.jsx("h2",{children:"Quick Actions"}),s.jsxs("div",{className:"action-buttons",children:[s.jsxs("button",{className:"action-btn primary",onClick:()=>window.location.href="/qms",children:[s.jsx("span",{className:"btn-icon",children:"➕"}),"Add New Entry"]}),s.jsxs("button",{className:"action-btn secondary",onClick:()=>window.location.href="/admin/usermanagement",children:[s.jsx("span",{className:"btn-icon",children:"👤"}),"Manage Users"]}),s.jsxs("button",{className:"action-btn tertiary",onClick:()=>window.location.href="/admin/tracking-performance",children:[s.jsx("span",{className:"btn-icon",children:"📊"}),"View Performance"]}),s.jsxs("button",{className:"action-btn quaternary",onClick:()=>window.print(),children:[s.jsx("span",{className:"btn-icon",children:"📋"}),"Generate Report"]})]})]})]}),s.jsxs("div",{className:"system-info",children:[s.jsx("h2",{children:"System Information"}),s.jsxs("div",{className:"info-grid",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"System Status:"}),s.jsx("span",{className:"status-active",children:"Active"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"Database:"}),s.jsx("span",{children:"LocalStorage (Browser)"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"Current Environment:"}),s.jsx("span",{children:"Development"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"Last Backup:"}),s.jsxs("span",{children:[l," UTC"]})]})]})]})]})},lv=({onAddUser:e,onCancel:t,editingUser:n})=>{const[r,a]=w.useState({name:"",email:"",password:"",role:"",department:"",status:"Active"}),[i,l]=w.useState({}),[o,c]=w.useState(!1),u=["Admin","Manager","Employee","Viewer"],h=["IT Department","Human Resources","Finance","Marketing","Operations","Sales","Legal","Research & Development"],m=["Active","Inactive"];w.useEffect(()=>{n&&a({name:n.name||"",email:n.email||"",password:n.password||"",role:n.role||"",department:n.department||"",status:n.status||"Active"})},[n]);const d=()=>{const g={};return r.name.trim()?r.name.trim().length<2&&(g.name="Name must be at least 2 characters"):g.name="Full name is required",r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(g.email="Please enter a valid email address"):g.email="Email address is required",r.password.trim()?r.password.length<6&&(g.password="Password must be at least 6 characters"):g.password="Password is required",r.role||(g.role="Please select a role"),r.department||(g.department="Please select a department"),l(g),Object.keys(g).length===0},y=async g=>{g.preventDefault(),d()&&(c(!0),await new Promise(F=>setTimeout(F,1e3)),e(r),c(!1))},C=g=>{const{name:F,value:p}=g.target;a(f=>({...f,[F]:p})),i[F]&&l(f=>({...f,[F]:""}))};return s.jsxs("div",{className:"add-user-container",children:[s.jsxs("div",{className:"add-user-header",children:[s.jsxs("div",{className:"header-left",children:[s.jsx("h1",{className:"header-title",children:n?"Edit User":"Add New User"}),s.jsxs("div",{className:"header-info",children:[s.jsx("span",{className:"info-text",children:"Current User: MFakheem"}),s.jsx("span",{className:"info-divider",children:"|"}),s.jsx("span",{className:"info-text",children:"Date: 2025-07-28 20:18:02"})]})]}),s.jsx("button",{onClick:t,className:"close-button",title:"Close",children:"✕"})]}),s.jsx("div",{className:"add-user-form-container",children:s.jsxs("form",{onSubmit:y,className:"add-user-form",children:[s.jsxs("div",{className:"form-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"👤"}),s.jsx("h2",{className:"section-title",children:"User Information"})]}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label required",children:"FULL NAME"}),s.jsx("input",{type:"text",name:"name",value:r.name,onChange:C,placeholder:"Enter full name",className:`form-input ${i.name?"error":""}`}),i.name&&s.jsx("div",{className:"error-message",children:i.name})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label required",children:"EMAIL ADDRESS"}),s.jsx("input",{type:"email",name:"email",value:r.email,onChange:C,placeholder:"Enter email address",className:`form-input ${i.email?"error":""}`}),i.email&&s.jsx("div",{className:"error-message",children:i.email})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label required",children:"PASSWORD"}),s.jsx("input",{type:"password",name:"password",value:r.password,onChange:C,placeholder:"Enter password",className:`form-input ${i.password?"error":""}`}),i.password&&s.jsx("div",{className:"error-message",children:i.password})]})]})]}),s.jsx("div",{className:"form-section",children:s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label required",children:"ROLE"}),s.jsxs("select",{name:"role",value:r.role,onChange:C,className:`form-select ${i.role?"error":""}`,children:[s.jsx("option",{value:"",children:"Select a role"}),u.map(g=>s.jsx("option",{value:g,children:g},g))]}),i.role&&s.jsx("div",{className:"error-message",children:i.role})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label required",children:"DEPARTMENT"}),s.jsxs("select",{name:"department",value:r.department,onChange:C,className:`form-select ${i.department?"error":""}`,children:[s.jsx("option",{value:"",children:"Select a department"}),h.map(g=>s.jsx("option",{value:g,children:g},g))]}),i.department&&s.jsx("div",{className:"error-message",children:i.department})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"STATUS"}),s.jsx("select",{name:"status",value:r.status,onChange:C,className:"form-select",children:m.map(g=>s.jsx("option",{value:g,children:g},g))})]})]})}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{type:"button",onClick:t,className:"btn btn-cancel",disabled:o,children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-submit",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner"}),n?"Updating...":"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"btn-icon",children:"➕"}),n?"Update User":"Add User"]})})]})]})})]})},db=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[a,i]=w.useState(""),[l,o]=w.useState(!1),[c,u]=w.useState(null),[h,m]=w.useState("all"),d="2025-07-28 20:06:28",y="MFakheem";w.useEffect(()=>{C()},[]),w.useEffect(()=>{g()},[e,a,h]);const C=()=>{const N=JSON.parse(localStorage.getItem("users")||"[]");t(N)},g=()=>{let N=e;a&&(N=N.filter(x=>x.name.toLowerCase().includes(a.toLowerCase())||x.email.toLowerCase().includes(a.toLowerCase())||x.department.toLowerCase().includes(a.toLowerCase())||x.role.toLowerCase().includes(a.toLowerCase()))),h!=="all"&&(N=N.filter(x=>x.role===h)),r(N)},F=N=>{const x={id:Date.now(),...N,createdAt:new Date().toISOString(),status:"Active"},v=[...e,x];t(v),localStorage.setItem("users",JSON.stringify(v)),o(!1)},p=N=>{const x=e.map(v=>v.id===c.id?{...v,...N,updatedAt:new Date().toISOString()}:v);t(x),localStorage.setItem("users",JSON.stringify(x)),u(null),o(!1)},f=N=>{if(window.confirm("Are you sure you want to delete this user?")){const x=e.filter(v=>v.id!==N);t(x),localStorage.setItem("users",JSON.stringify(x))}},j=N=>({Admin:"#e74c3c",Manager:"#f39c12",Employee:"#3498db",Viewer:"#95a5a6"})[N]||"#95a5a6",E=N=>N?new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",R=[...new Set(e.map(N=>N.role))];return l?s.jsx(lv,{onAddUser:c?p:F,onCancel:()=>{o(!1),u(null)},editingUser:c}):s.jsxs("div",{className:"user-management-container",children:[s.jsxs("div",{className:"page-header",children:[s.jsxs("div",{className:"header-content",children:[s.jsx("h1",{className:"page-title",children:"User Management"}),s.jsx("p",{className:"page-subtitle",children:"Manage users, roles, and permissions"})]}),s.jsxs("div",{className:"header-info",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Current User:"}),s.jsx("span",{className:"info-value",children:y})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Date:"}),s.jsxs("span",{className:"info-value",children:[d," UTC"]})]})]})]}),s.jsxs("div",{className:"stats-section",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"👥"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("div",{className:"stat-number",children:e.length}),s.jsx("div",{className:"stat-label",children:"Total Users"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"👁️"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("div",{className:"stat-number",children:n.length}),s.jsx("div",{className:"stat-label",children:"Displayed"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"✅"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("div",{className:"stat-number",children:e.filter(N=>N.status==="Active").length}),s.jsx("div",{className:"stat-label",children:"Active Users"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"🔧"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("div",{className:"stat-number",children:R.length}),s.jsx("div",{className:"stat-label",children:"Roles"})]})]})]}),s.jsxs("div",{className:"controls-panel",children:[s.jsxs("div",{className:"search-section",children:[s.jsxs("div",{className:"search-box",children:[s.jsx("input",{type:"text",placeholder:"Search users by name, email, department, or role...",value:a,onChange:N=>i(N.target.value),className:"search-input"}),s.jsx("div",{className:"search-icon",children:"🔍"})]}),s.jsx("div",{className:"filter-box",children:s.jsxs("select",{value:h,onChange:N=>m(N.target.value),className:"filter-select",children:[s.jsx("option",{value:"all",children:"All Roles"}),R.map(N=>s.jsx("option",{value:N,children:N},N))]})})]}),s.jsxs("button",{onClick:()=>o(!0),className:"add-button",children:[s.jsx("span",{className:"button-icon",children:"+"}),"Add New User"]})]}),s.jsx("div",{className:"users-section",children:n.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-icon",children:"👥"}),s.jsx("h3",{className:"empty-title",children:"No users found"}),s.jsx("p",{className:"empty-text",children:e.length===0?"Start by adding your first user to the system":"Try adjusting your search or filter criteria"}),s.jsx("button",{onClick:()=>o(!0),className:"empty-action-button",children:"Add User"})]}):s.jsx("div",{className:"users-grid",children:n.map(N=>s.jsxs("div",{className:"user-card",children:[s.jsxs("div",{className:"user-card-header",children:[s.jsx("div",{className:"user-avatar",children:N.name.split(" ").map(x=>x[0]).join("").toUpperCase()}),s.jsxs("div",{className:"user-basic-info",children:[s.jsx("h3",{className:"user-name",children:N.name}),s.jsxs("p",{className:"user-id",children:["ID: ",N.id]})]}),s.jsxs("div",{className:"user-actions",children:[s.jsx("button",{onClick:()=>{u(N),o(!0)},className:"action-btn edit-btn",title:"Edit User",children:"✏️"}),s.jsx("button",{onClick:()=>f(N.id),className:"action-btn delete-btn",title:"Delete User",children:"🗑️"})]})]}),s.jsxs("div",{className:"user-card-body",children:[s.jsxs("div",{className:"user-detail",children:[s.jsx("span",{className:"detail-label",children:"Email"}),s.jsx("a",{href:`mailto:${N.email}`,className:"detail-value email-link",children:N.email})]}),s.jsxs("div",{className:"user-detail",children:[s.jsx("span",{className:"detail-label",children:"Department"}),s.jsx("span",{className:"detail-value",children:N.department||"N/A"})]}),s.jsxs("div",{className:"user-detail",children:[s.jsx("span",{className:"detail-label",children:"Role"}),s.jsx("span",{className:"role-badge",style:{backgroundColor:j(N.role)},children:N.role})]}),s.jsxs("div",{className:"user-detail",children:[s.jsx("span",{className:"detail-label",children:"Status"}),s.jsx("span",{className:`status-badge ${(N.status||"active").toLowerCase()}`,children:N.status||"Active"})]}),s.jsxs("div",{className:"user-detail",children:[s.jsx("span",{className:"detail-label",children:"Created"}),s.jsx("span",{className:"detail-value",children:E(N.createdAt)})]})]})]},N.id))})}),n.length>0&&s.jsx("div",{className:"results-footer",children:s.jsxs("div",{className:"results-text",children:["Showing ",n.length," of ",e.length," users"]})})]})},ub=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[a,i]=w.useState([]),[l,o]=w.useState(""),[c,u]=w.useState({startDate:"",endDate:""}),[h,m]=w.useState("all"),d=new Date().toLocaleString("en-US",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/(\d+)\/(\d+)\/(\d+),?\s*(\d+):(\d+):(\d+)/,"$3-$1-$2 $4:$5:$6");w.useEffect(()=>{const p=localStorage.getItem("qmsEntries");if(p){const f=JSON.parse(p);i(f),y(f)}},[]),w.useEffect(()=>{C()},[e,l,c,h]);const y=p=>{const f={};p.forEach(E=>{const R=E.hunterName||"Unassigned";f[R]||(f[R]={name:R,totalEntries:0,completedEntries:0,overdueEntries:0,avgCompletionTime:0,totalDaysSpent:0,successRate:0,recentActivity:[],categories:{},monthlyStats:{}});const N=f[R];N.totalEntries++;const x=new Date,v=E.dueDate?new Date(E.dueDate):null,S=new Date(E.date);if(v){v<x?N.overdueEntries++:N.completedEntries++;const B=Math.abs((v-S)/(1e3*60*60*24));N.totalDaysSpent+=B}const D=E.category||"Uncategorized";N.categories[D]=(N.categories[D]||0)+1;const L=S.toISOString().slice(0,7);N.monthlyStats[L]=(N.monthlyStats[L]||0)+1,N.recentActivity.push({id:E.id,portalName:E.portalName,bidNumber:E.bidNumber,date:E.date,status:v&&v<x?"overdue":"active"})}),Object.values(f).forEach(E=>{E.avgCompletionTime=E.totalEntries>0?Math.round(E.totalDaysSpent/E.totalEntries):0,E.successRate=E.totalEntries>0?Math.round((E.totalEntries-E.overdueEntries)/E.totalEntries*100):0,E.recentActivity.sort((R,N)=>new Date(N.date)-new Date(R.date)),E.recentActivity=E.recentActivity.slice(0,5)});const j=Object.values(f);t(j),r(j)},C=()=>{let p=[...e];l&&(p=p.filter(f=>f.name.toLowerCase().includes(l.toLowerCase()))),(c.startDate||c.endDate)&&(p=p.filter(f=>f.recentActivity.some(E=>{const R=new Date(E.date),N=c.startDate?new Date(c.startDate):new Date("1900-01-01"),x=c.endDate?new Date(c.endDate):new Date;return R>=N&&R<=x}))),h!=="all"&&(p=p.sort((f,j)=>{switch(h){case"entries":return j.totalEntries-f.totalEntries;case"success":return j.successRate-f.successRate;case"speed":return f.avgCompletionTime-j.avgCompletionTime;case"overdue":return j.overdueEntries-f.overdueEntries;default:return 0}})),r(p)},g=p=>{const f=p.successRate*.6+p.totalEntries/Math.max(...e.map(j=>j.totalEntries))*40;return f>=85?{rating:"Excellent",class:"excellent",emoji:"🌟"}:f>=70?{rating:"Good",class:"good",emoji:"👍"}:f>=50?{rating:"Average",class:"average",emoji:"👌"}:{rating:"Needs Improvement",class:"poor",emoji:"📈"}},F=()=>{const p=[["Hunter Name","Total Entries","Success Rate %","Overdue Entries","Avg Completion Days","Performance Rating"],...n.map(R=>[R.name,R.totalEntries,R.successRate,R.overdueEntries,R.avgCompletionTime,g(R).rating])].map(R=>R.join(",")).join(`
`),f=new Blob([p],{type:"text/csv"}),j=URL.createObjectURL(f),E=document.createElement("a");E.href=j,E.download=`performance_report_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(j)};return s.jsxs("div",{className:"performance-tracking-container",children:[s.jsxs("div",{className:"performance-header",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Tracking Performance"}),s.jsx("p",{children:"Monitor and analyze team member performance across QMS entries"})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:"0.9rem",opacity:.9,background:"rgba(255, 255, 255, 0.1)",padding:"10px 15px",borderRadius:"10px",backdropFilter:"blur(10px)"},children:[s.jsxs("div",{children:["Current User: ",s.jsx("strong",{children:"MFakheem"})]}),s.jsxs("div",{children:["Date: ",s.jsxs("strong",{children:[d," UTC"]})]})]})]}),s.jsxs("div",{className:"performance-summary",children:[s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-icon",children:"👥"}),s.jsxs("div",{className:"summary-content",children:[s.jsx("h3",{children:"Total Hunters"}),s.jsx("div",{className:"summary-value",children:e.length})]})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-icon",children:"📊"}),s.jsxs("div",{className:"summary-content",children:[s.jsx("h3",{children:"Total Entries"}),s.jsx("div",{className:"summary-value",children:a.length})]})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-icon",children:"✅"}),s.jsxs("div",{className:"summary-content",children:[s.jsx("h3",{children:"Avg Success Rate"}),s.jsxs("div",{className:"summary-value",children:[e.length>0?Math.round(e.reduce((p,f)=>p+f.successRate,0)/e.length):0,"%"]})]})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-icon",children:"⚠️"}),s.jsxs("div",{className:"summary-content",children:[s.jsx("h3",{children:"Total Overdue"}),s.jsx("div",{className:"summary-value",children:e.reduce((p,f)=>p+f.overdueEntries,0)})]})]})]}),s.jsxs("div",{className:"performance-controls",children:[s.jsxs("div",{className:"search-filter-section",children:[s.jsxs("div",{className:"search-container",children:[s.jsx("input",{type:"text",placeholder:"Search hunters...",value:l,onChange:p=>o(p.target.value),className:"search-input"}),s.jsx("span",{className:"search-icon",children:"🔍"})]}),s.jsxs("div",{className:"date-range-container",children:[s.jsx("input",{type:"date",value:c.startDate,onChange:p=>u(f=>({...f,startDate:p.target.value})),className:"form-input",placeholder:"Start Date"}),s.jsx("input",{type:"date",value:c.endDate,onChange:p=>u(f=>({...f,endDate:p.target.value})),className:"form-input",placeholder:"End Date"})]}),s.jsx("div",{className:"filter-container",children:s.jsxs("select",{value:h,onChange:p=>m(p.target.value),className:"filter-select",children:[s.jsx("option",{value:"all",children:"All Metrics"}),s.jsx("option",{value:"entries",children:"Most Entries"}),s.jsx("option",{value:"success",children:"Highest Success Rate"}),s.jsx("option",{value:"speed",children:"Fastest Completion"}),s.jsx("option",{value:"overdue",children:"Most Overdue"})]})})]}),s.jsxs("div",{className:"performance-actions",children:[s.jsx("button",{className:"btn-primary",onClick:F,children:"📊 Export Report"}),s.jsx("button",{className:"btn-secondary",onClick:()=>y(a),children:"🔄 Refresh Data"})]})]}),s.jsx("div",{className:"performance-list-container",children:s.jsxs("table",{className:"performance-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Hunter"}),s.jsx("th",{children:"Total Entries"}),s.jsx("th",{children:"Success Rate"}),s.jsx("th",{children:"Overdue"}),s.jsx("th",{children:"Avg Days"}),s.jsx("th",{children:"Performance"}),s.jsx("th",{children:"Top Categories"}),s.jsx("th",{children:"Recent Activity"})]})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:s.jsxs("div",{className:"no-data-message",children:[s.jsx("div",{className:"no-data-icon",children:"📊"}),s.jsx("h3",{children:"No Performance Data"}),s.jsx("p",{children:"No hunter performance data available."})]})})}):n.map((p,f)=>{const j=g(p),E=Object.entries(p.categories).sort(([,R],[,N])=>N-R).slice(0,2);return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"hunter-info",children:[s.jsx("div",{className:"hunter-avatar",children:p.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"hunter-details",children:[s.jsx("div",{className:"hunter-name",children:p.name}),s.jsxs("div",{className:"hunter-rank",children:["#",f+1]})]})]})}),s.jsx("td",{children:s.jsxs("div",{className:"metric-value",children:[s.jsx("strong",{children:p.totalEntries}),s.jsx("span",{className:"metric-label",children:"entries"})]})}),s.jsx("td",{children:s.jsx("div",{className:"success-rate",children:s.jsx("div",{className:"progress-circle",style:{background:`conic-gradient(#28a745 ${p.successRate*3.6}deg, #e9ecef 0deg)`},children:s.jsxs("span",{children:[p.successRate,"%"]})})})}),s.jsx("td",{children:s.jsx("span",{className:`overdue-count ${p.overdueEntries>0?"has-overdue":""}`,children:p.overdueEntries})}),s.jsx("td",{children:s.jsxs("div",{className:"completion-time",children:[s.jsx("strong",{children:p.avgCompletionTime}),s.jsx("span",{className:"metric-label",children:"days"})]})}),s.jsx("td",{children:s.jsxs("div",{className:`performance-rating ${j.class}`,children:[s.jsx("span",{className:"rating-emoji",children:j.emoji}),s.jsx("span",{className:"rating-text",children:j.rating})]})}),s.jsx("td",{children:s.jsx("div",{className:"categories-list",children:E.map(([R,N])=>s.jsxs("span",{className:"category-tag",children:[R," (",N,")"]},R))})}),s.jsx("td",{children:s.jsx("div",{className:"recent-activity",children:p.recentActivity.slice(0,3).map(R=>s.jsxs("div",{className:"activity-item",children:[s.jsx("span",{className:`activity-status ${R.status}`}),s.jsxs("span",{className:"activity-text",children:[R.bidNumber," - ",R.portalName]})]},R.id))})})]},p.name)})})]})})]})};class mb{constructor(){this.dbName="SourcingSystemDB",this.version=1,this.db=null}async initDB(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,t(this.db)},r.onupgradeneeded=a=>{const i=a.target.result;if(!i.objectStoreNames.contains("attachments")){const l=i.createObjectStore("attachments",{keyPath:"id"});l.createIndex("vendorId","vendorId",{unique:!1}),l.createIndex("qmsId","qmsId",{unique:!1})}i.objectStoreNames.contains("sourcingData")||i.createObjectStore("sourcingData",{keyPath:"qmsId"})}})}async saveAttachment(t){return this.db||await this.initDB(),new Promise((n,r)=>{const l=this.db.transaction(["attachments"],"readwrite").objectStore("attachments").put(t);l.onsuccess=()=>n(l.result),l.onerror=()=>r(l.error)})}async getAttachment(t){return this.db||await this.initDB(),new Promise((n,r)=>{const l=this.db.transaction(["attachments"],"readonly").objectStore("attachments").get(t);l.onsuccess=()=>n(l.result),l.onerror=()=>r(l.error)})}async getAttachmentsByVendor(t,n){return this.db||await this.initDB(),new Promise((r,a)=>{const c=this.db.transaction(["attachments"],"readonly").objectStore("attachments").index("vendorId").getAll(t);c.onsuccess=()=>{const u=c.result.filter(h=>h.qmsId===n);r(u)},c.onerror=()=>a(c.error)})}async deleteAttachment(t){return this.db||await this.initDB(),new Promise((n,r)=>{const l=this.db.transaction(["attachments"],"readwrite").objectStore("attachments").delete(t);l.onsuccess=()=>n(!0),l.onerror=()=>r(l.error)})}async saveSourcingData(t,n){return this.db||await this.initDB(),new Promise((r,a)=>{const o=this.db.transaction(["sourcingData"],"readwrite").objectStore("sourcingData").put({qmsId:t,data:n,lastUpdated:new Date});o.onsuccess=()=>r(o.result),o.onerror=()=>a(o.error)})}async getSourcingData(t){return this.db||await this.initDB(),new Promise((n,r)=>{const l=this.db.transaction(["sourcingData"],"readonly").objectStore("sourcingData").get(t);l.onsuccess=()=>{var o;return n(((o=l.result)==null?void 0:o.data)||null)},l.onerror=()=>r(l.error)})}async compressImage(t,n=1920,r=.8){return new Promise(a=>{const i=document.createElement("canvas"),l=i.getContext("2d"),o=new Image;o.onload=()=>{const c=Math.min(n/o.width,n/o.height);i.width=o.width*c,i.height=o.height*c,l.drawImage(o,0,0,i.width,i.height),i.toBlob(a,"image/jpeg",r)},o.src=URL.createObjectURL(t)})}generateAttachmentId(){return`att_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}const ze=new mb,Km=w.memo(({show:e,reason:t,onReasonChange:n,onSubmit:r,onCancel:a,isSubmitting:i})=>e?s.jsx("div",{className:"rejection-modal-overlay",children:s.jsxs("div",{className:"rejection-modal",children:[s.jsxs("div",{className:"rejection-modal-header",children:[s.jsx("h3",{children:"❌ Rejection Reason Required"}),s.jsx("button",{className:"modal-close-btn",onClick:a,disabled:i,children:"×"})]}),s.jsxs("div",{className:"rejection-modal-body",children:[s.jsx("p",{children:"Please provide a reason for rejecting this sourcing request:"}),s.jsxs("p",{className:"rejection-note",children:[s.jsx("strong",{children:"Note:"})," This reason will be visible to the sourcer in the Sourcing page and Sourcing Details."]}),s.jsx("textarea",{className:"rejection-reason-input",placeholder:"Enter detailed reason for rejection...",value:t,onChange:n,rows:4,maxLength:500,autoFocus:!0,disabled:i}),s.jsxs("div",{className:`character-count ${t.length>450?"warning":""} ${t.length>=500?"danger":""}`,children:[t.length,"/500 characters"]})]}),s.jsxs("div",{className:"rejection-modal-footer",children:[s.jsx("button",{className:"btn-cancel-rejection",onClick:a,disabled:i,children:"Cancel"}),s.jsx("button",{className:"btn-submit-rejection",onClick:r,disabled:!t.trim()||i,children:i?"Submitting...":"Submit Rejection"})]})]})}):null),Gm=w.memo(({show:e,remarks:t,onRemarksChange:n,onSubmit:r,onCancel:a,isSubmitting:i,entryData:l})=>e?s.jsx("div",{className:"rejection-modal-overlay",children:s.jsxs("div",{className:"rejection-modal",children:[s.jsxs("div",{className:"rejection-modal-header",children:[s.jsx("h3",{children:"✅ Approval Remarks"}),s.jsx("button",{className:"modal-close-btn",onClick:a,disabled:i,children:"×"})]}),s.jsxs("div",{className:"rejection-modal-body",children:[s.jsx("p",{children:"Please provide remarks for approving this entry:"}),s.jsxs("div",{className:"entry-info",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Entry ID:"})," ",l==null?void 0:l.id]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Bid Title:"})," ",l==null?void 0:l.bidTitle]})]}),s.jsx("textarea",{className:"rejection-reason-input",placeholder:"Enter your approval remarks and comments here...",value:t,onChange:n,rows:4,maxLength:500,autoFocus:!0,disabled:i}),s.jsxs("div",{className:`character-count ${t.length>450?"warning":""} ${t.length>=500?"danger":""}`,children:[t.length,"/500 characters"]})]}),s.jsxs("div",{className:"rejection-modal-footer",children:[s.jsx("button",{className:"btn-cancel-rejection",onClick:a,disabled:i,children:"Cancel"}),s.jsx("button",{className:"btn-submit-approval",onClick:r,disabled:!t.trim()||i,style:{background:"linear-gradient(135deg, #28a745 0%, #1e7e34 100%)",color:"white"},children:i?"Approving...":"✅ Approve with Remarks"})]})]})}):null),hb=()=>{var gt,Xe,De,Lt,kt,Yt,Jt,k,G,ye,Le,Qe,rt,ut,ot,z,Me,he,we,Ae,pe,$e,Ft,xt,Ze,Ct,zt,Us,Mn,nn,On,rn,As,Ps,_n,Un,A,I,_,W,te,ve,be,ie,oe,ae,de,Se,Ee;const e=Ds(),{reviewId:t}=Kl(),[n,r]=w.useState([]),[a,i]=w.useState(!0),[l,o]=w.useState("all"),[c,u]=w.useState(""),[h,m]=w.useState(!1),[d,y]=w.useState(null),[C,g]=w.useState(0),[F,p]=w.useState(!1),[f,j]=w.useState(null),[E,R]=w.useState(!1),[N,x]=w.useState({show:!1,reason:"",entryId:null,isSubmitting:!1}),[v,S]=w.useState({show:!1,remarks:"",entryData:null,isSubmitting:!1}),D="2025-08-01 16:32:01",L="Mike469-a11y";w.useEffect(()=>{ze.initDB().catch(T=>{console.error("Failed to initialize IndexedDB:",T)})},[]),w.useEffect(()=>{window.location.pathname==="/approval"&&h&&(m(!1),y(null),g(0),p(!1),R(!1))},[window.location.pathname,h]),w.useEffect(()=>{const T=()=>{var M,Q;if(h&&((Q=(M=d==null?void 0:d.sourcingData)==null?void 0:M.vendors)==null?void 0:Q.length)>1){R(!0),p(!1),f&&clearTimeout(f);const b=setTimeout(()=>{R(!1),p(!0)},1500);j(b)}};return window.addEventListener("scroll",T),()=>{window.removeEventListener("scroll",T),f&&clearTimeout(f)}},[h,d,f]),w.useEffect(()=>{const T=()=>{window.location.pathname.includes("/approval/review/")||window.location.pathname==="/approval"&&h&&H()};return window.addEventListener("popstate",T),()=>window.removeEventListener("popstate",T)},[h]),w.useEffect(()=>{B(),t&&Y(t)},[t]),w.useEffect(()=>{const T=M=>{var Q;if(h&&((Q=d==null?void 0:d.sourcingData)!=null&&Q.vendors)){const b=d.sourcingData.vendors.length;M.key==="ArrowLeft"&&C>0?g(P=>P-1):M.key==="ArrowRight"&&C<b-1&&g(P=>P+1)}};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[h,d,C]);const B=()=>{try{const T=localStorage.getItem("sourcingEntries");if(T){const Q=JSON.parse(T).filter(b=>b.sourcingCompleted&&(b.status==="approval_pending"||b.status==="approval_approved"||b.status==="approval_rejected")&&!b.hiddenFromApproval);r(Q)}}catch(T){console.error("Error loading approval entries:",T)}finally{i(!1)}},ne=w.useMemo(()=>n.filter(T=>{var b,P,U,O,X;const M=l==="all"||T.status===l,Q=((b=T.bidTitle)==null?void 0:b.toLowerCase().includes(c.toLowerCase()))||((P=T.bidNumber)==null?void 0:P.toLowerCase().includes(c.toLowerCase()))||((U=T.portalName)==null?void 0:U.toLowerCase().includes(c.toLowerCase()))||((O=T.sourcerName)==null?void 0:O.toLowerCase().includes(c.toLowerCase()))||((X=T.hunterName)==null?void 0:X.toLowerCase().includes(c.toLowerCase()));return M&&Q}),[n,l,c]),je=T=>{const M={approval_pending:{label:"Pending Review",class:"status-pending",icon:"⏳"},approval_approved:{label:"Approved",class:"status-approved",icon:"✅"},approval_rejected:{label:"Rejected",class:"status-rejected",icon:"❌"}},Q=M[T]||M.approval_pending;return s.jsxs("span",{className:`status-badge ${Q.class}`,children:[Q.icon," ",Q.label]})},q=T=>{var Q;return(Q=T.sourcingData)!=null&&Q.vendors?T.sourcingData.vendors.find(b=>b.isPrimary)||T.sourcingData.vendors[0]:null},re=T=>T!=null&&T.pricing&&(T.pricing.finalGrandTotal||T.pricing.grandTotal)||0,ue=()=>{g(T=>Math.max(0,T-1))},$=()=>{var T;if((T=d==null?void 0:d.sourcingData)!=null&&T.vendors){const M=d.sourcingData.vendors.length-1;g(Q=>Math.min(M,Q+1))}},Z=T=>{g(T)},le=async(T,M)=>{try{console.log("📥 Downloading attachment:",T);let Q="",b=T.name||`${M}_attachment`;if(typeof T=="string"){console.log("📄 Fetching file from IndexedDB with ID:",T);const U=await ze.getAttachment(T);if(U&&U.file)Q=URL.createObjectURL(U.file),b=U.name||b,console.log("✅ Retrieved file from IndexedDB");else throw new Error("File not found in IndexedDB")}else if(T.file&&T.file instanceof File)Q=URL.createObjectURL(T.file),b=T.file.name||b,console.log("📄 Using File object for download");else if(T.file)Q=URL.createObjectURL(T.file),b=T.name||b,console.log("📄 Using attachment file property");else if(T.data){let U,O=T.type||"application/octet-stream";if(typeof T.data=="string")try{const se=T.data.includes(",")?T.data.split(",")[1]:T.data;U=Uint8Array.from(atob(se),xe=>xe.charCodeAt(0)),console.log("📄 Converting base64 to blob")}catch{U=T.data,O="text/plain",console.log("📄 Using text data")}else U=T.data,console.log("📄 Using binary data");const X=new Blob([U],{type:O});Q=URL.createObjectURL(X)}else if(T.url)Q=T.url,console.log("📄 Using URL for download");else throw new Error("No valid file data found");const P=document.createElement("a");P.href=Q,P.download=b,P.style.display="none",document.body.appendChild(P),P.click(),document.body.removeChild(P),Q.startsWith("blob:")&&setTimeout(()=>URL.revokeObjectURL(Q),1e3),console.log(`✅ Downloaded: ${b} from ${M}`),alert(`📥 Downloaded: ${b}`)}catch(Q){console.error("❌ Error downloading file:",Q),alert(`❌ Error downloading file: ${T.name||"Unknown"}

Error: ${Q.message}

Please ensure the file was uploaded correctly in SourcingDetails.`)}},ge=async(T,M)=>{try{console.log("👁️ Previewing attachment:",T);let Q="",b=T.name||`${M}_attachment`;if(typeof T=="string"){console.log("📄 Fetching file from IndexedDB with ID:",T);const U=await ze.getAttachment(T);if(U&&U.file)Q=URL.createObjectURL(U.file),b=U.name||b,console.log("✅ Retrieved file from IndexedDB for preview");else throw new Error("File not found in IndexedDB")}else if(T.file&&T.file instanceof File)Q=URL.createObjectURL(T.file),b=T.file.name||b,console.log("📄 Using File object for preview");else if(T.file)Q=URL.createObjectURL(T.file),b=T.name||b,console.log("📄 Using attachment file property");else if(T.data){let U,O=T.type||"application/pdf";if(typeof T.data=="string")try{const se=T.data.includes(",")?T.data.split(",")[1]:T.data;U=Uint8Array.from(atob(se),xe=>xe.charCodeAt(0)),console.log("📄 Converting base64 to blob for preview")}catch{U=T.data,O="text/plain",console.log("📄 Using text data for preview")}else U=T.data,console.log("📄 Using binary data for preview");const X=new Blob([U],{type:O});Q=URL.createObjectURL(X)}else if(T.url)Q=T.url,console.log("📄 Using URL for preview");else throw new Error("No valid file data found");const P=window.open(Q,"_blank","width=1000,height=800,scrollbars=yes,resizable=yes");P?(console.log(`✅ Previewing: ${b} from ${M}`),P.document.title=`Preview: ${b}`):alert(`❌ Preview blocked by browser popup blocker.

Please:
1. Allow popups for this site
2. Try again

Alternatively, download the file to view it.`),Q.startsWith("blob:")&&setTimeout(()=>URL.revokeObjectURL(Q),6e4)}catch(Q){console.error("❌ Error previewing file:",Q),alert(`❌ Error previewing file: ${T.name||"Unknown"}

Error: ${Q.message}

Try downloading the file instead, or check if it was uploaded correctly in SourcingDetails.`)}},Ne=async(T,M)=>{var b,P;if(!((b=T.sourcingInfo)!=null&&b.attachments)||T.sourcingInfo.attachments.length===0){alert("📭 No attachments found for this vendor.");return}const Q=((P=T.sourcingInfo)==null?void 0:P.vendorName)||`Vendor_${M+1}`;try{for(let U=0;U<T.sourcingInfo.attachments.length;U++){const O=T.sourcingInfo.attachments[U];setTimeout(async()=>{await le(O,Q)},U*1e3)}alert(`📥 Downloading ${T.sourcingInfo.attachments.length} files from ${Q}...

Files will download with 1 second intervals to prevent browser blocking.`)}catch(U){console.error("❌ Error downloading all files:",U),alert(`❌ Error downloading files from ${Q}: ${U.message}`)}},Y=async T=>{try{i(!0);const M=localStorage.getItem("sourcingEntries");if(M){const b=JSON.parse(M).find(P=>P.id===T);b&&(y(b),m(!0),g(0),p(!1),R(!1),window.history.pushState({},"",`/approval/review/${T}`))}}catch(M){console.error("Error loading review data:",M),alert("❌ Error loading review data. Please try again.")}finally{i(!1)}},H=()=>{m(!1),y(null),g(0),p(!1),R(!1),e("/approval")},K=w.useCallback(async T=>{if(window.confirm(`Are you sure you want to delete entry ${T} from Approval Dashboard?

Note: This will NOT affect the Sourcing section.`))try{const M=localStorage.getItem("sourcingEntries");if(M){const b=JSON.parse(M).map(P=>P.id===T?{...P,hiddenFromApproval:!0,hiddenFromApprovalAt:D,hiddenFromApprovalBy:L}:P);localStorage.setItem("sourcingEntries",JSON.stringify(b)),B(),alert(`✅ Entry ${T} removed from Approval Dashboard.

📋 Entry remains available in Sourcing section.`)}}catch(M){console.error("Error hiding entry from approval:",M),alert("❌ Error removing entry. Please try again.")}},[D,L]),ee=w.useCallback(async T=>{S({show:!0,remarks:"",entryData:T,isSubmitting:!1})},[]),fe=w.useCallback(async()=>{if(!v.remarks.trim()){alert("❌ Please provide approval remarks.");return}S(T=>({...T,isSubmitting:!0}));try{const T=v.entryData.id,M=localStorage.getItem("sourcingEntries");if(M){const Q=JSON.parse(M);if(Q.find(P=>P.id===T)){const P=Q.map(se=>se.id===T?{...se,status:"approval_approved",approvalAction:"approve",approvedBy:L,approvedAt:D,approvalRemarks:v.remarks.trim(),approvalComments:`Approved by ${L}: ${v.remarks.trim()}`,lastActionBy:L,lastActionAt:D,lastAction:"approved_from_approval"}:se);localStorage.setItem("sourcingEntries",JSON.stringify(P));const U=localStorage.getItem("submissionEntries");let O=U?JSON.parse(U):[];if(O.find(se=>se.id===T)){const se=O.map(xe=>xe.id===T?{...xe,...P.find(Oe=>Oe.id===T),submissionStatus:"pending_submission"}:xe);localStorage.setItem("submissionEntries",JSON.stringify(se))}else{const se={...P.find(xe=>xe.id===T),submittedToSubmission:!0,submittedAt:D,submittedBy:L,submissionStatus:"pending_submission",originalApprovalStatus:"approval_approved",submissionId:`SUB-${T}`,lastSubmissionAction:"submitted_from_approval"};O.push(se),localStorage.setItem("submissionEntries",JSON.stringify(O))}if(B(),h&&d&&d.id===T){const se=P.find(xe=>xe.id===T);y(se)}alert(`✅ Entry ${T} approved with remarks and submitted to Submission Dashboard!

📋 You can now find it in the Submission section for final processing.`)}}}catch(T){console.error("Error submitting to submission:",T),alert("❌ Error submitting entry. Please try again.")}finally{S({show:!1,remarks:"",entryData:null,isSubmitting:!1})}},[v.remarks,v.entryData,D,L,h,d,B]),Re=w.useCallback(()=>{S({show:!1,remarks:"",entryData:null,isSubmitting:!1})},[]),me=w.useCallback(T=>{const M=T.target.value;S(Q=>({...Q,remarks:M}))},[]),Je=w.useCallback((T,M="table")=>{x({show:!0,reason:"",entryId:T,isSubmitting:!1})},[]),dt=w.useCallback(T=>{const M=T.target.value;x(Q=>({...Q,reason:M}))},[]),Ie=w.useCallback(async()=>{if(!N.reason.trim()){alert("❌ Please provide a reason for rejection.");return}x(T=>({...T,isSubmitting:!0}));try{const T=localStorage.getItem("sourcingEntries");if(T){const Q=JSON.parse(T).map(b=>b.id===N.entryId?{...b,status:"approval_rejected",approvalAction:"reject",approvedBy:L,approvedAt:D,rejectionReason:N.reason.trim(),approvalComments:`Rejected by ${L}: ${N.reason.trim()}`,rejectedBy:L,rejectedAt:D,rejectionDetails:{reason:N.reason.trim(),rejectedBy:L,rejectedAt:D,fromSection:"approval",needsRevision:!0},sourcingStatus:"needs_revision",needsRevision:!0,revisionRequired:!0,lastActionBy:L,lastActionAt:D,lastAction:"rejected_from_approval",rejectionAcknowledged:!1,rejectionAcknowledgedBy:null,rejectionAcknowledgedAt:null,rejectionViewed:!1}:b);if(localStorage.setItem("sourcingEntries",JSON.stringify(Q)),B(),h&&d&&d.id===N.entryId){const b=Q.find(P=>P.id===N.entryId);y(b)}x({show:!1,reason:"",entryId:null,isSubmitting:!1}),alert(`✅ Entry rejected successfully!

Reason: ${N.reason.trim()}

✨ The rejection has been sent to the Sourcing section for revision.
✨ The sourcer will see this rejection message in Sourcing Details.`)}}catch(T){console.error("Error rejecting entry:",T),alert("❌ Error rejecting entry. Please try again.")}finally{x(T=>({...T,isSubmitting:!1}))}},[N.reason,N.entryId,L,D,h,d,B]),ft=w.useCallback(()=>{x({show:!1,reason:"",entryId:null,isSubmitting:!1})},[]),It=async T=>{const M=n.find(Q=>Q.id===T);M&&ee(M)};if(a)return s.jsx("div",{className:"approval-container",children:s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading approval entries..."})]})});if(h&&d){const T=((gt=d.sourcingData)==null?void 0:gt.vendors)||[],M=T[C],Q=T.length;return s.jsxs("div",{className:"approval-container",children:[s.jsx(Km,{show:N.show,reason:N.reason,onReasonChange:dt,onSubmit:Ie,onCancel:ft,isSubmitting:N.isSubmitting}),s.jsx(Gm,{show:v.show,remarks:v.remarks,onRemarksChange:me,onSubmit:fe,onCancel:Re,isSubmitting:v.isSubmitting,entryData:v.entryData}),F&&Q>1&&!E&&s.jsxs("div",{className:"floating-vendor-nav",children:[s.jsx("button",{className:"floating-nav-btn floating-prev",onClick:ue,disabled:C===0,title:"Previous Vendor",children:"← Prev"}),s.jsxs("div",{className:"floating-nav-info",children:[C+1," of ",Q]}),s.jsx("button",{className:"floating-nav-btn floating-next",onClick:$,disabled:C===Q-1,title:"Next Vendor",children:"Next →"})]}),s.jsxs("div",{className:"review-page-header",children:[s.jsxs("div",{className:"header-left",children:[s.jsxs("h1",{children:["📋 Sourcing Review - ",d.id]}),s.jsx("p",{children:"Complete sourcing details and vendor comparison"})]}),s.jsx("div",{className:"header-right",children:s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:L})]}),s.jsx("span",{className:"current-time",children:D})]})})]}),s.jsxs("div",{className:"review-page-content",children:[s.jsxs("div",{className:"review-section qms-section-compact",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"📋"}),s.jsx("h3",{children:"Original QMS Information"})]}),s.jsxs("div",{className:"qms-compact-grid",children:[s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Entry ID:"}),s.jsx("span",{className:"qms-value",children:d.id})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Sourcer:"}),s.jsx("span",{className:"qms-value",children:d.sourcerName||d.hunterName||"Not Assigned"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Bid Title:"}),s.jsx("span",{className:"qms-value",children:d.bidTitle||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Portal:"}),s.jsx("span",{className:"qms-value",children:d.portalName||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Bid Number:"}),s.jsx("span",{className:"qms-value",children:d.bidNumber||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Category:"}),s.jsx("span",{className:"qms-value",children:d.category||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Quantity:"}),s.jsx("span",{className:"qms-value",children:d.quantity||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Due Date:"}),s.jsx("span",{className:"qms-value",children:d.dueDate||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Created:"}),s.jsx("span",{className:"qms-value",children:d.dateCreated||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Assigned By:"}),s.jsx("span",{className:"qms-value",children:d.assignedBy||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Contact:"}),s.jsx("span",{className:"qms-value",children:d.contactName||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Email:"}),s.jsx("span",{className:"qms-value",children:d.email||"N/A"})]}),(d.sourcingRemarks||d.huntingRemarks)&&s.jsxs("div",{className:"qms-compact-item qms-full-width",children:[s.jsx("span",{className:"qms-label",children:"Remarks:"}),s.jsx("span",{className:"qms-value",children:d.sourcingRemarks||d.huntingRemarks})]})]})]}),T.length>0&&s.jsxs("div",{className:"review-section vendor-carousel-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"🏢"}),s.jsxs("h3",{children:["Vendor Details (",Q," Vendor",Q>1?"s":"",")"]})]}),s.jsxs("div",{className:"vendor-carousel-container",children:[s.jsxs("div",{className:"carousel-header",children:[s.jsx("button",{className:"carousel-nav-btn carousel-prev",onClick:ue,disabled:C===0,title:"Previous Vendor (← Arrow Key)",children:"← Previous"}),s.jsxs("div",{className:"carousel-title",children:[s.jsxs("h4",{children:["Vendor ",C+1," of ",Q,(M==null?void 0:M.isPrimary)&&s.jsx("span",{className:"primary-badge",children:"⭐ PRIMARY"})]}),s.jsx("div",{className:"vendor-name-display",children:((Xe=M==null?void 0:M.sourcingInfo)==null?void 0:Xe.vendorName)||(M==null?void 0:M.vendorName)||"Unknown Vendor"})]}),s.jsx("button",{className:"carousel-nav-btn carousel-next",onClick:$,disabled:C===Q-1,title:"Next Vendor (→ Arrow Key)",children:"Next →"})]}),s.jsx("div",{className:"carousel-indicators",children:T.map((b,P)=>s.jsx("button",{className:`carousel-indicator ${P===C?"active":""}`,onClick:()=>Z(P),title:`Go to Vendor ${P+1}`,children:P===C?"●":"○"},P))}),M&&s.jsxs("div",{className:"carousel-vendor-content",children:[s.jsxs("div",{className:"sourcing-info-card",children:[s.jsx("h5",{children:"📋 Sourcing Information"}),s.jsxs("div",{className:"sourcing-fields-list",children:[s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Vendor Name:"}),s.jsx("span",{className:"field-value-compact",children:((De=M.sourcingInfo)==null?void 0:De.vendorName)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Quoted Cost:"}),s.jsxs("span",{className:"field-value-compact cost-value",children:["$",((Lt=M.sourcingInfo)==null?void 0:Lt.productServiceQuotedCost)||"0.00"]})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Website:"}),s.jsx("span",{className:"field-value-compact website-link",children:((kt=M.sourcingInfo)==null?void 0:kt.vendorWebsite)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact full-width-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Vendor Address:"}),s.jsx("span",{className:"field-value-compact",children:((Yt=M.sourcingInfo)==null?void 0:Yt.vendorAddress)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Proper Quotation:"}),s.jsx("span",{className:"field-value-compact",children:((Jt=M.sourcingInfo)==null?void 0:Jt.properQuotationGiven)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Proper Quotation (Vendor):"}),s.jsx("span",{className:"field-value-compact",children:((k=M.sourcingInfo)==null?void 0:k.properQuotationGivenNew)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Risk Assessment:"}),s.jsx("span",{className:`field-value-compact risk-indicator risk-${(Le=(ye=(G=M.sourcingInfo)==null?void 0:G.riskAssessment)==null?void 0:ye.toLowerCase())==null?void 0:Le.replace(" ","-")}`,children:((Qe=M.sourcingInfo)==null?void 0:Qe.riskAssessment)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Compliance:"}),s.jsx("span",{className:"field-value-compact",children:((rt=M.sourcingInfo)==null?void 0:rt.compliance)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"CC Accepted:"}),s.jsx("span",{className:"field-value-compact",children:((ut=M.sourcingInfo)==null?void 0:ut.ccAccepted)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"NET Terms:"}),s.jsx("span",{className:"field-value-compact",children:((ot=M.sourcingInfo)==null?void 0:ot.netTermsAvailable)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"CC Charges:"}),s.jsxs("span",{className:"field-value-compact",children:[((z=M.sourcingInfo)==null?void 0:z.ccCharges)||"N/A","%"]})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Specs Sheet Taken:"}),s.jsx("span",{className:"field-value-compact",children:((Me=M.sourcingInfo)==null?void 0:Me.specsSheetTaken)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Lead Time:"}),s.jsx("span",{className:"field-value-compact",children:((he=M.sourcingInfo)==null?void 0:he.leadTimeOffered)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Stock Available:"}),s.jsx("span",{className:"field-value-compact",children:((we=M.sourcingInfo)==null?void 0:we.stockAvailable)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Quote Receiving Date:"}),s.jsx("span",{className:"field-value-compact",children:((Ae=M.sourcingInfo)==null?void 0:Ae.quoteReceivingDate)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Quote Valid Till:"}),s.jsx("span",{className:"field-value-compact",children:((pe=M.sourcingInfo)==null?void 0:pe.quoteValidTill)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Remaining Days:"}),s.jsx("span",{className:"field-value-compact",children:(($e=M.sourcingInfo)==null?void 0:$e.remainingDays)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Item Same/Alternative:"}),s.jsx("span",{className:"field-value-compact",children:((Ft=M.sourcingInfo)==null?void 0:Ft.itemSameAlternative)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Warranty:"}),s.jsx("span",{className:"field-value-compact",children:((xt=M.sourcingInfo)==null?void 0:xt.warrantyPeriod)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"After Sales Support:"}),s.jsx("span",{className:"field-value-compact",children:((Ze=M.sourcingInfo)==null?void 0:Ze.afterSalesSupport)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Support Period:"}),s.jsx("span",{className:"field-value-compact",children:((Ct=M.sourcingInfo)==null?void 0:Ct.supportPeriod)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact full-width-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Warranty/Support Terms:"}),s.jsx("span",{className:"field-value-compact",children:((zt=M.sourcingInfo)==null?void 0:zt.warrantySupportTerms)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Shipping Cost:"}),s.jsxs("span",{className:"field-value-compact cost-value",children:["$",((Us=M.sourcingInfo)==null?void 0:Us.estimatedShippingCost)||"0.00"]})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Applicable Taxes:"}),s.jsx("span",{className:"field-value-compact",children:((Mn=M.sourcingInfo)==null?void 0:Mn.applicableTaxes)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Restocking Fees:"}),s.jsxs("span",{className:"field-value-compact",children:[((nn=M.sourcingInfo)==null?void 0:nn.restockingFees)||"N/A",((On=M.sourcingInfo)==null?void 0:On.restockingFees)==="Yes"&&((rn=M.sourcingInfo)==null?void 0:rn.restockingFeesPercentage)&&` (${M.sourcingInfo.restockingFeesPercentage}%)`]})]})]})]}),s.jsxs("div",{className:"pricing-card",children:[s.jsx("h5",{children:"💰 Pricing & Line Items"}),((As=M.pricing)==null?void 0:As.lineItems)&&M.pricing.lineItems.length>0&&s.jsxs("div",{className:"line-items-compact",children:[s.jsx("h6",{children:"Line Items"}),s.jsx("div",{className:"line-items-list",children:M.pricing.lineItems.map((b,P)=>s.jsxs("div",{className:"line-item-row",children:[s.jsx("div",{className:"line-item-desc",children:b.description||"N/A"}),s.jsxs("div",{className:"line-item-details",children:["Qty: ",b.qty||"0"," | Unit: $",b.unitPrice||"0.00"," | Total: $",(b.cost||0).toFixed(2)]})]},b.id||P))})]}),s.jsxs("div",{className:"cost-breakdown-compact",children:[s.jsx("h6",{children:"Cost Breakdown"}),s.jsxs("div",{className:"breakdown-list",children:[s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",(((Ps=M.pricing)==null?void 0:Ps.subtotal)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"CC Charges:"}),s.jsxs("span",{children:["$",(((_n=M.pricing)==null?void 0:_n.ccChargesAmount)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Tax:"}),s.jsxs("span",{children:["$",(((Un=M.pricing)==null?void 0:Un.taxAmount)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Freight:"}),s.jsxs("span",{children:["$",(((A=M.pricing)==null?void 0:A.freightLogistics)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Extended Warranty:"}),s.jsxs("span",{children:["$",(((I=M.pricing)==null?void 0:I.extendedWarranty)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Installation:"}),s.jsxs("span",{children:["$",(((_=M.pricing)==null?void 0:_.installation)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Restocking Fees:"}),s.jsxs("span",{children:["$",(((W=M.pricing)==null?void 0:W.restockingFeesAmount)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Other 1:"}),s.jsxs("span",{children:["$",(((te=M.pricing)==null?void 0:te.other1)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Other 2:"}),s.jsxs("span",{children:["$",(((ve=M.pricing)==null?void 0:ve.other2)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact grand-total-compact",children:[s.jsx("span",{children:"Grand Total:"}),s.jsxs("span",{children:["$",(((be=M.pricing)==null?void 0:be.grandTotal)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Discount 1:"}),s.jsxs("span",{children:["-$",(((ie=M.pricing)==null?void 0:ie.discount1)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Discount 2:"}),s.jsxs("span",{children:["-$",(((oe=M.pricing)==null?void 0:oe.discount2)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact final-total-compact",children:[s.jsx("span",{children:"Final Total:"}),s.jsxs("span",{children:["$",(((ae=M.pricing)==null?void 0:ae.finalGrandTotal)||0).toFixed(2)]})]})]})]})]}),((de=M.sourcingInfo)==null?void 0:de.remarks)&&s.jsxs("div",{className:"sourcing-info-card",style:{marginTop:"20px"},children:[s.jsx("h5",{children:"📝 Vendor Remarks/Notes"}),s.jsx("div",{className:"sourcing-fields-list",children:s.jsxs("div",{className:"sourcing-field-compact full-width-compact",children:[s.jsx("span",{className:"field-label-compact",children:"🆕 Remarks / Notes:"}),s.jsx("span",{className:"field-value-compact",children:M.sourcingInfo.remarks})]})})]})]})]})]}),T.length>0&&((Se=M==null?void 0:M.sourcingInfo)==null?void 0:Se.attachments)&&M.sourcingInfo.attachments.length>0&&s.jsxs("div",{className:"review-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"📎"}),s.jsxs("h3",{children:["Vendor Attachments - ",((Ee=M.sourcingInfo)==null?void 0:Ee.vendorName)||`Vendor ${C+1}`]})]}),s.jsxs("div",{className:"attachments-card",children:[s.jsxs("div",{className:"attachments-header",children:[s.jsxs("h6",{children:["📎 Attachments (",M.sourcingInfo.attachments.length,")"]}),s.jsx("button",{className:"btn-download-all",onClick:()=>Ne(M,C),title:"Download all files",children:"📥 Download All"})]}),s.jsx("div",{className:"attachments-list-compact",children:M.sourcingInfo.attachments.map((b,P)=>{var U,O,X,se,xe,Oe,Be,at;return s.jsxs("div",{className:"attachment-item-compact",children:[s.jsxs("div",{className:"attachment-info-compact",children:[s.jsxs("div",{className:"attachment-name-compact",children:[b.name||((U=b.file)==null?void 0:U.name)||`File ${P+1}`,(b.type||((O=b.file)==null?void 0:O.type))&&s.jsxs("span",{className:"file-type-indicator",children:["(",(se=(b.type||((X=b.file)==null?void 0:X.type)).split("/")[1])==null?void 0:se.toUpperCase(),")"]})]}),s.jsxs("div",{className:"attachment-details-compact",children:[s.jsx("span",{className:"attachment-size-compact",children:b.size||((xe=b.file)==null?void 0:xe.size)||"Unknown size"}),s.jsx("span",{className:"attachment-type-compact",children:b.type||((Oe=b.file)==null?void 0:Oe.type)||"Unknown type"})]})]}),s.jsxs("div",{className:"attachment-actions-compact",children:[s.jsx("button",{className:"btn-preview-file",onClick:()=>{var ke;return ge(b,((ke=M.sourcingInfo)==null?void 0:ke.vendorName)||`Vendor ${C+1}`)},title:`Preview ${b.name||((Be=b.file)==null?void 0:Be.name)||"file"}`,children:"👁️"}),s.jsx("button",{className:"btn-download-file",onClick:()=>{var ke;return le(b,((ke=M.sourcingInfo)==null?void 0:ke.vendorName)||`Vendor ${C+1}`)},title:`Download ${b.name||((at=b.file)==null?void 0:at.name)||"file"}`,children:"📥"})]})]},P)})})]})]}),d.status==="approval_pending"&&s.jsxs("div",{className:"review-approval-actions",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"⚖️"}),s.jsx("h3",{children:"Approval Decision"})]}),s.jsxs("div",{className:"approval-buttons",children:[s.jsx("button",{className:"btn-approve-review",onClick:()=>It(d.id),children:"✅ Approve Request"}),s.jsx("button",{className:"btn-reject-review",onClick:()=>Je(d.id,"review"),children:"❌ Reject Request"})]})]}),(d.status==="approval_approved"||d.status==="approval_rejected")&&s.jsxs("div",{className:"review-status-display",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"📋"}),s.jsx("h3",{children:"Approval Status"})]}),s.jsxs("div",{className:`status-display ${d.status}`,children:[je(d.status),s.jsxs("div",{className:"status-details",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Action:"})," ",d.status==="approval_approved"?"Approved":"Rejected"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"By:"})," ",d.approvedBy||d.rejectedBy||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",d.approvedAt||d.rejectedAt||"N/A"]}),d.status==="approval_approved"&&d.approvalRemarks&&s.jsxs("div",{className:"approval-remarks-display",children:[s.jsx("p",{children:s.jsx("strong",{children:"Approval Remarks:"})}),s.jsx("div",{className:"approval-remarks-text",children:d.approvalRemarks})]}),d.rejectionReason&&s.jsxs("div",{className:"rejection-reason-display",children:[s.jsx("p",{children:s.jsx("strong",{children:"Rejection Reason:"})}),s.jsx("div",{className:"rejection-reason-text",children:d.rejectionReason}),s.jsx("div",{className:"rejection-flow-info",children:s.jsxs("p",{children:[s.jsx("strong",{children:"📨 Sent to Sourcing:"})," This rejection message has been sent to the Sourcing section for revision."]})}),d.rejectionAcknowledged&&s.jsx("div",{className:"acknowledgment-status-display",children:s.jsxs("p",{children:[s.jsx("strong",{children:"✅ Acknowledged by:"})," ",d.rejectionAcknowledgedBy," at ",d.rejectionAcknowledgedAt]})})]}),d.approvalComments&&!d.rejectionReason&&s.jsxs("p",{children:[s.jsx("strong",{children:"Comments:"})," ",d.approvalComments]})]})]})]})]}),s.jsx("div",{className:"review-page-navigation",children:s.jsx("button",{className:"btn-back-to-approval",onClick:H,children:"← Back to Approval Dashboard"})})]})}return s.jsxs("div",{className:"approval-container",children:[s.jsx(Km,{show:N.show,reason:N.reason,onReasonChange:dt,onSubmit:Ie,onCancel:ft,isSubmitting:N.isSubmitting}),s.jsx(Gm,{show:v.show,remarks:v.remarks,onRemarksChange:me,onSubmit:fe,onCancel:Re,isSubmitting:v.isSubmitting,entryData:v.entryData}),s.jsxs("div",{className:"approval-header",children:[s.jsxs("div",{className:"header-left",children:[s.jsx("h1",{children:"📋 Approval Dashboard"}),s.jsx("p",{children:"Review and approve completed sourcing requests"})]}),s.jsx("div",{className:"header-right",children:s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:L})]}),s.jsx("span",{className:"current-time",children:D})]})})]}),s.jsxs("div",{className:"approval-filters",children:[s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"Filter by Status:"}),s.jsxs("select",{value:l,onChange:T=>o(T.target.value),className:"filter-select",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"approval_pending",children:"Pending Review"}),s.jsx("option",{value:"approval_approved",children:"Approved"}),s.jsx("option",{value:"approval_rejected",children:"Rejected"})]})]}),s.jsxs("div",{className:"search-group",children:[s.jsx("label",{children:"Search:"}),s.jsx("input",{type:"text",placeholder:"Search by bid title, number, portal, or sourcer...",value:c,onChange:T=>u(T.target.value),className:"search-input"})]}),s.jsx("button",{className:"btn-refresh",onClick:B,children:"🔄 Refresh"})]}),s.jsxs("div",{className:"approval-stats",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"📊"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:ne.length}),s.jsx("p",{children:"Total Entries"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"⏳"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:ne.filter(T=>T.status==="approval_pending").length}),s.jsx("p",{children:"Pending"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"✅"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:ne.filter(T=>T.status==="approval_approved").length}),s.jsx("p",{children:"Approved"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"❌"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:ne.filter(T=>T.status==="approval_rejected").length}),s.jsx("p",{children:"Rejected"})]})]})]}),s.jsx("div",{className:"approval-table-container",children:ne.length===0?s.jsxs("div",{className:"no-entries",children:[s.jsx("div",{className:"no-entries-icon",children:"📭"}),s.jsx("h3",{children:"No Approval Entries Found"}),s.jsx("p",{children:n.length===0?"There are no sourcing requests ready for approval.":"No entries match your current filter criteria."}),n.length===0&&s.jsx("p",{className:"help-text",children:'Entries will appear here once sourcing is completed and marked as "Ready for Approval".'})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"table-header",children:[s.jsx("div",{className:"header-cell",children:"QMS Info"}),s.jsx("div",{className:"header-cell",children:"Vendor Info"}),s.jsx("div",{className:"header-cell",children:"Status"}),s.jsx("div",{className:"header-cell",children:"Total Value"}),s.jsx("div",{className:"header-cell",children:"Actions"})]}),ne.map(T=>{var b,P,U,O,X,se,xe,Oe,Be;const M=q(T),Q=M?re(M):0;return s.jsxs("div",{className:"table-row",children:[s.jsxs("div",{className:"cell qms-info",children:[s.jsx("div",{className:"qms-id",children:T.id}),s.jsx("div",{className:"bid-title",children:T.bidTitle||"N/A"}),s.jsxs("div",{className:"bid-number",children:["#",T.bidNumber]}),s.jsx("div",{className:"portal-name",children:T.portalName}),s.jsxs("div",{className:"sourcer-name",children:["👤 ",T.sourcerName||T.hunterName||"N/A"]}),s.jsxs("div",{className:"due-date",children:["📅 ",T.dueDate||"N/A"]})]}),s.jsx("div",{className:"cell vendor-info",children:M?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"vendor-name",children:((b=M.sourcingInfo)==null?void 0:b.vendorName)||"Unknown"}),s.jsxs("div",{className:"vendor-details",children:[s.jsxs("div",{className:"vendor-website",children:["🌐 ",((P=M.sourcingInfo)==null?void 0:P.vendorWebsite)||"N/A"]}),s.jsxs("div",{className:"vendor-items",children:["📦 ",((O=(U=T.sourcingData)==null?void 0:U.vendors)==null?void 0:O.length)||0," vendor(s)"]}),s.jsxs("div",{className:"vendor-attachments",children:["📎 ",((se=(X=M.sourcingInfo)==null?void 0:X.attachments)==null?void 0:se.length)||0," files"]})]})]}):s.jsx("div",{className:"no-vendor",children:"No Vendor Data"})}),s.jsxs("div",{className:"cell status-info",children:[je(T.status),s.jsxs("div",{className:"status-details",children:[s.jsxs("div",{children:["By: ",T.approvedBy||T.rejectedBy||"Pending"]}),s.jsx("div",{children:T.approvedAt||T.rejectedAt||""})]}),T.rejectionReason&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"rejection-reason-summary",children:[T.rejectionReason.substring(0,50),"..."]}),s.jsx("div",{className:"rejection-sent-indicator",children:"📨 Sent to Sourcing"}),T.rejectionAcknowledged&&s.jsx("div",{className:"acknowledgment-status-badge",children:"✅ Acknowledged"})]})]}),s.jsxs("div",{className:"cell value-info",children:[s.jsxs("div",{className:"total-value",children:["$",Q.toFixed(2)]}),s.jsxs("div",{className:"value-breakdown",children:[s.jsxs("div",{children:["Subtotal: $",(((xe=M==null?void 0:M.pricing)==null?void 0:xe.subtotal)||0).toFixed(2)]}),s.jsxs("div",{children:["Tax: $",(((Oe=M==null?void 0:M.pricing)==null?void 0:Oe.taxAmount)||0).toFixed(2)]}),s.jsxs("div",{children:["Final: $",(((Be=M==null?void 0:M.pricing)==null?void 0:Be.finalGrandTotal)||Q).toFixed(2)]})]})]}),s.jsxs("div",{className:"cell actions",children:[s.jsx("button",{className:"btn-review",onClick:()=>Y(T.id),title:"Review Details",children:"👁️ Review"}),T.status==="approval_pending"&&s.jsxs("div",{className:"quick-actions",children:[s.jsx("button",{className:"btn-quick-approve",onClick:()=>It(T.id),children:"✅ Approve"}),s.jsx("button",{className:"btn-quick-reject",onClick:()=>Je(T.id,"table"),children:"❌ Reject"})]}),T.status==="approval_approved"&&s.jsx("div",{className:"approved-actions",children:s.jsx("button",{className:"btn-delete-from-approval",onClick:()=>K(T.id),title:"Delete from Approval Dashboard",style:{background:"linear-gradient(135deg, #dc3545, #c82333)",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"600",transition:"all 0.3s ease",marginTop:"5px"},children:"🗑️ Delete"})}),T.status==="approval_rejected"&&s.jsxs("div",{className:"rejected-actions",children:[s.jsx("button",{className:"btn-view-in-sourcing",onClick:()=>e(`/sourcing/${T.id}`),title:"View in Sourcing for Revision",children:"🔄 View in Sourcing"}),s.jsx("button",{className:"btn-delete-from-approval",onClick:()=>K(T.id),title:"Delete from Approval Dashboard",style:{background:"linear-gradient(135deg, #dc3545, #c82333)",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"600",transition:"all 0.3s ease",marginTop:"5px"},children:"🗑️ Delete"})]})]})]},T.id)})]})})]})},fb=w.memo(({show:e,entry:t,onClose:n,currentUser:r,isAdmin:a,isSubAdmin:i,onEdit:l,onDelete:o})=>{var f,j,E,R,N,x,v,S,D,L,B,ne,je,q,re,ue,$,Z,le,ge,Ne,Y,H,K,ee,fe,Re,me,Je,dt,Ie,ft,It,gt,Xe,De,Lt,kt,Yt,Jt,k,G,ye,Le,Qe,rt,ut,ot;const[c,u]=w.useState(0);if(!e||!t)return null;const h=((f=t.sourcingData)==null?void 0:f.vendors)||[],m=h[c],d=h.length,y=()=>{u(z=>Math.max(0,z-1))},C=()=>{h.length>0&&u(z=>Math.min(h.length-1,z+1))},g=async(z,Me)=>{try{console.log("📥 Downloading attachment:",z);let he="",we=z.name||`${Me}_attachment`;if(typeof z=="string"){const pe=await ze.getAttachment(z);if(pe&&pe.file)he=URL.createObjectURL(pe.file),we=pe.name||we;else throw new Error("File not found in IndexedDB")}else if(z.file instanceof File)he=URL.createObjectURL(z.file),we=z.file.name||we;else if(z.file instanceof Blob)he=URL.createObjectURL(z.file),we=z.name||we;else if(z.file&&typeof z.file=="object"){const pe=new Blob([z.file],{type:z.type||"application/octet-stream"});he=URL.createObjectURL(pe),we=z.name||we}else if(z.data){let pe,$e=z.type||"application/octet-stream";if(typeof z.data=="string")try{const xt=z.data.includes(",")?z.data.split(",")[1]:z.data,Ze=atob(xt),Ct=new Uint8Array(Ze.length);for(let zt=0;zt<Ze.length;zt++)Ct[zt]=Ze.charCodeAt(zt);pe=Ct}catch{pe=new TextEncoder().encode(z.data),$e="text/plain"}else z.data instanceof ArrayBuffer?pe=new Uint8Array(z.data):z.data instanceof Uint8Array?pe=z.data:pe=new TextEncoder().encode(String(z.data));const Ft=new Blob([pe],{type:$e});he=URL.createObjectURL(Ft)}else if(z.url)he=z.url;else throw new Error("No valid file data found");const Ae=document.createElement("a");Ae.href=he,Ae.download=we,Ae.style.display="none",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),he.startsWith("blob:")&&setTimeout(()=>URL.revokeObjectURL(he),1e3),alert(`📥 Downloaded: ${we}`)}catch(he){console.error("❌ Error downloading file:",he),alert(`❌ Error downloading file: ${z.name||"Unknown"}

Error: ${he.message}`)}},F=async(z,Me)=>{try{console.log("👁️ Previewing attachment:",z);let he="",we=z.name||`${Me}_attachment`,Ae=z.type||"application/pdf";if(z.url)he=z.url,we=z.name||we,Ae=z.type||"application/pdf";else if(typeof z=="string"){const pe=await ze.getAttachment(z);if(pe&&pe.file)Ae=pe.file.type||pe.type||"application/pdf",he=URL.createObjectURL(pe.file),we=pe.name||we;else throw new Error("File not found in IndexedDB")}else if(z.file instanceof File)Ae=z.file.type||"application/pdf",he=URL.createObjectURL(z.file),we=z.file.name||we;else if(z.file instanceof Blob)Ae=z.file.type||z.type||"application/pdf",he=URL.createObjectURL(z.file),we=z.name||we;else if(z.file&&typeof z.file=="object"){Ae=z.type||"application/pdf";const pe=new Blob([z.file],{type:Ae});he=URL.createObjectURL(pe),we=z.name||we}else if(z.data){let pe;if(Ae=z.type||"application/pdf",typeof z.data=="string")try{const Ft=z.data.includes(",")?z.data.split(",")[1]:z.data,xt=atob(Ft),Ze=new Uint8Array(xt.length);for(let Ct=0;Ct<xt.length;Ct++)Ze[Ct]=xt.charCodeAt(Ct);pe=Ze}catch{pe=new TextEncoder().encode(z.data),Ae="text/plain"}else z.data instanceof ArrayBuffer?pe=new Uint8Array(z.data):z.data instanceof Uint8Array?pe=z.data:(pe=new TextEncoder().encode(String(z.data)),Ae="text/plain");const $e=new Blob([pe],{type:Ae});he=URL.createObjectURL($e)}else throw new Error("No valid file data found");if(console.log("🔍 Preview URL created:",he),console.log("📄 File type:",Ae),Ae==="application/pdf"){const pe=window.open(he,"_blank","width=1000,height=800,scrollbars=yes,resizable=yes");if(!pe){alert(`❌ Preview blocked by browser popup blocker.

Please allow popups for this site and try again.`),he.startsWith("blob:")&&URL.revokeObjectURL(he);return}pe.document.title=`Preview: ${we}`,he.startsWith("blob:")&&setTimeout(()=>{try{URL.revokeObjectURL(he)}catch($e){console.warn("Could not revoke blob URL:",$e)}},3e4)}else if(Ae.startsWith("image/")){const pe=window.open("","_blank","width=800,height=600,scrollbars=yes,resizable=yes");if(!pe){alert(`❌ Preview blocked by browser popup blocker.

Please allow popups for this site and try again.`),he.startsWith("blob:")&&URL.revokeObjectURL(he);return}pe.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>Preview: ${we}</title>
                        <style>
                            body { margin: 0; padding: 20px; text-align: center; background: #f0f0f0; }
                            img { max-width: 100%; height: auto; border: 1px solid #ddd; }
                        </style>
                    </head>
                    <body>
                        <img src="${he}" alt="${we}">
                    </body>
                    </html>
                `),he.startsWith("blob:")&&setTimeout(()=>{try{URL.revokeObjectURL(he)}catch($e){console.warn("Could not revoke blob URL:",$e)}},3e4)}else if(Ae.startsWith("text/")){const pe=window.open("","_blank","width=800,height=600,scrollbars=yes,resizable=yes");if(!pe){alert(`❌ Preview blocked by browser popup blocker.

Please allow popups for this site and try again.`),he.startsWith("blob:")&&URL.revokeObjectURL(he);return}fetch(he).then($e=>$e.text()).then($e=>{pe.document.write(`
                            <!DOCTYPE html>
                            <html>
                            <head>
                                <title>Preview: ${we}</title>
                                <style>
                                    body { margin: 0; padding: 20px; font-family: monospace; background: #f8f8f8; }
                                    pre { white-space: pre-wrap; word-wrap: break-word; }
                                </style>
                            </head>
                            <body>
                                <pre>${$e}</pre>
                            </body>
                            </html>
                        `)}).catch($e=>{pe.document.write(`
                            <!DOCTYPE html>
                            <html>
                            <head><title>Error</title></head>
                            <body style="padding: 20px; font-family: Arial;">
                                <h3>Error loading file</h3>
                                <p>${$e.message}</p>
                            </body>
                            </html>
                        `)}),he.startsWith("blob:")&&setTimeout(()=>{try{URL.revokeObjectURL(he)}catch($e){console.warn("Could not revoke blob URL:",$e)}},3e4)}else window.confirm(`❓ File "${we}" cannot be previewed in browser.

File type: ${Ae}

Would you like to download it instead?`)&&await g(z,Me),he.startsWith("blob:")&&URL.revokeObjectURL(he)}catch(he){console.error("❌ Error previewing file:",he),alert(`❌ Error previewing file: ${z.name||"Unknown"}

Error: ${he.message}

Try downloading the file instead.`)}},p=async(z,Me)=>{var we,Ae;if(!((we=z.sourcingInfo)!=null&&we.attachments)||z.sourcingInfo.attachments.length===0){alert("📭 No attachments found for this vendor.");return}const he=((Ae=z.sourcingInfo)==null?void 0:Ae.vendorName)||`Vendor_${Me+1}`;try{for(let pe=0;pe<z.sourcingInfo.attachments.length;pe++){const $e=z.sourcingInfo.attachments[pe];setTimeout(async()=>{await g($e,he)},pe*1e3)}alert(`📥 Downloading ${z.sourcingInfo.attachments.length} files from ${he}...`)}catch(pe){console.error("❌ Error downloading all files:",pe),alert(`❌ Error downloading files from ${he}: ${pe.message}`)}};return s.jsx("div",{className:"submitted-data-entry-details-modal-overlay",children:s.jsxs("div",{className:"submitted-data-entry-details-modal",children:[s.jsxs("div",{className:"submitted-data-entry-details-modal-header",children:[s.jsxs("h3",{children:["📋 Complete Entry Details - ",t.archiveId||t.id]}),s.jsxs("div",{className:"submitted-data-modal-header-actions",children:[(a||i)&&s.jsx("button",{className:"submitted-data-btn-edit-entry",onClick:()=>l(t),title:"Edit Entry",children:"✏️ Edit"}),a&&s.jsx("button",{className:"submitted-data-btn-delete-entry",onClick:()=>o(t),title:"Delete Entry",children:"🗑️ Delete"}),s.jsx("button",{className:"submitted-data-modal-close-btn",onClick:n,children:"×"})]})]}),s.jsxs("div",{className:"submitted-data-entry-details-modal-body",children:[s.jsxs("div",{className:"submitted-data-modal-section",children:[s.jsx("h4",{children:"🗂️ Archive Information"}),s.jsxs("div",{className:"submitted-data-info-grid",children:[s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Archive ID:"}),s.jsx("span",{className:"submitted-data-value",children:t.archiveId||t.id})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"QMS ID:"}),s.jsx("span",{className:"submitted-data-value",children:t.id})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Submitted At:"}),s.jsx("span",{className:"submitted-data-value",children:t.submittedToArchiveAt||t.archivedAt||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Submitted By:"}),s.jsx("span",{className:"submitted-data-value",children:t.submittedToArchiveBy||t.archivedBy||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Final Status:"}),s.jsx("span",{className:"submitted-data-value submitted-data-status-approved",children:"✅ Submitted"})]})]})]}),s.jsxs("div",{className:"submitted-data-modal-section",children:[s.jsx("h4",{children:"📋 Original QMS Information"}),s.jsxs("div",{className:"submitted-data-info-grid",children:[s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Entry ID:"}),s.jsx("span",{className:"submitted-data-value",children:t.id})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Bid Title:"}),s.jsx("span",{className:"submitted-data-value",children:t.bidTitle||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Bid Number:"}),s.jsx("span",{className:"submitted-data-value",children:t.bidNumber||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Portal:"}),s.jsx("span",{className:"submitted-data-value",children:t.portalName||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Category:"}),s.jsx("span",{className:"submitted-data-value",children:t.category||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Quantity:"}),s.jsx("span",{className:"submitted-data-value",children:t.quantity||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Sourcer:"}),s.jsx("span",{className:"submitted-data-value",children:t.sourcerName||t.hunterName||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Due Date:"}),s.jsx("span",{className:"submitted-data-value",children:t.dueDate||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Created:"}),s.jsx("span",{className:"submitted-data-value",children:t.dateCreated||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Assigned By:"}),s.jsx("span",{className:"submitted-data-value",children:t.assignedBy||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Contact:"}),s.jsx("span",{className:"submitted-data-value",children:t.contactName||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Email:"}),s.jsx("span",{className:"submitted-data-value",children:t.email||"N/A"})]}),(t.sourcingRemarks||t.huntingRemarks)&&s.jsxs("div",{className:"submitted-data-info-item submitted-data-full-width",children:[s.jsx("span",{className:"submitted-data-label",children:"Original Remarks:"}),s.jsx("span",{className:"submitted-data-value",children:t.sourcingRemarks||t.huntingRemarks})]})]})]}),t.status==="approval_approved"&&t.approvalRemarks&&s.jsxs("div",{className:"submitted-data-modal-section",children:[s.jsx("h4",{children:"✅ Approval Information"}),s.jsxs("div",{className:"submitted-data-info-grid",children:[s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Approved By:"}),s.jsx("span",{className:"submitted-data-value",children:t.approvedBy||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Approved At:"}),s.jsx("span",{className:"submitted-data-value",children:t.approvedAt||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item submitted-data-full-width",children:[s.jsx("span",{className:"submitted-data-label",children:"Approval Remarks:"}),s.jsx("div",{className:"submitted-data-remarks-text",children:t.approvalRemarks})]})]})]}),h.length>0&&s.jsxs("div",{className:"submitted-data-modal-section",children:[s.jsxs("div",{className:"submitted-data-vendor-carousel-header",children:[s.jsxs("h4",{children:["🏢 Vendor Details (",d," Vendor",d>1?"s":"",")"]}),d>1&&s.jsxs("div",{className:"submitted-data-vendor-navigation",children:[s.jsx("button",{className:"submitted-data-vendor-nav-btn",onClick:y,disabled:c===0,children:"← Prev"}),s.jsxs("span",{className:"submitted-data-vendor-counter",children:[c+1," of ",d]}),s.jsx("button",{className:"submitted-data-vendor-nav-btn",onClick:C,disabled:c===d-1,children:"Next →"})]})]}),d>1&&s.jsx("div",{className:"submitted-data-vendor-indicators",children:h.map((z,Me)=>{var he;return s.jsxs("button",{className:`submitted-data-vendor-indicator ${Me===c?"active":""}`,onClick:()=>u(Me),title:`Go to ${((he=z.sourcingInfo)==null?void 0:he.vendorName)||`Vendor ${Me+1}`}`,children:[Me===c?"●":"○",z.isPrimary&&s.jsx("span",{className:"submitted-data-primary-badge",children:"⭐"})]},Me)})}),m&&s.jsxs("div",{className:"submitted-data-vendor-content",children:[s.jsx("div",{className:"submitted-data-vendor-title",children:s.jsxs("h5",{children:["📋 Vendor ",c+1,": ",((j=m.sourcingInfo)==null?void 0:j.vendorName)||"Unknown",m.isPrimary&&s.jsx("span",{className:"submitted-data-primary-tag",children:"⭐ PRIMARY"})]})}),s.jsxs("div",{className:"submitted-data-vendor-section",children:[s.jsx("h6",{children:"📋 Sourcing Information"}),s.jsxs("div",{className:"submitted-data-vendor-fields-complete",children:[s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Vendor Name:"}),s.jsx("span",{className:"submitted-data-field-value",children:((E=m.sourcingInfo)==null?void 0:E.vendorName)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Quoted Cost:"}),s.jsxs("span",{className:"submitted-data-field-value submitted-data-cost",children:["$",((R=m.sourcingInfo)==null?void 0:R.productServiceQuotedCost)||"0.00"]})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Website:"}),s.jsx("span",{className:"submitted-data-field-value",children:((N=m.sourcingInfo)==null?void 0:N.vendorWebsite)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field submitted-data-full-width",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Vendor Address:"}),s.jsx("span",{className:"submitted-data-field-value",children:((x=m.sourcingInfo)==null?void 0:x.vendorAddress)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Proper Quotation:"}),s.jsx("span",{className:"submitted-data-field-value",children:((v=m.sourcingInfo)==null?void 0:v.properQuotationGiven)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Proper Quotation (Vendor):"}),s.jsx("span",{className:"submitted-data-field-value",children:((S=m.sourcingInfo)==null?void 0:S.properQuotationGivenNew)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Risk Assessment:"}),s.jsx("span",{className:`submitted-data-field-value submitted-data-risk-${(B=(L=(D=m.sourcingInfo)==null?void 0:D.riskAssessment)==null?void 0:L.toLowerCase())==null?void 0:B.replace(" ","-")}`,children:((ne=m.sourcingInfo)==null?void 0:ne.riskAssessment)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Compliance:"}),s.jsx("span",{className:"submitted-data-field-value",children:((je=m.sourcingInfo)==null?void 0:je.compliance)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"CC Accepted:"}),s.jsx("span",{className:"submitted-data-field-value",children:((q=m.sourcingInfo)==null?void 0:q.ccAccepted)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"NET Terms:"}),s.jsx("span",{className:"submitted-data-field-value",children:((re=m.sourcingInfo)==null?void 0:re.netTermsAvailable)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"CC Charges:"}),s.jsxs("span",{className:"submitted-data-field-value",children:[((ue=m.sourcingInfo)==null?void 0:ue.ccCharges)||"N/A","%"]})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Specs Sheet Taken:"}),s.jsx("span",{className:"submitted-data-field-value",children:(($=m.sourcingInfo)==null?void 0:$.specsSheetTaken)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Lead Time:"}),s.jsx("span",{className:"submitted-data-field-value",children:((Z=m.sourcingInfo)==null?void 0:Z.leadTimeOffered)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Stock Available:"}),s.jsx("span",{className:"submitted-data-field-value",children:((le=m.sourcingInfo)==null?void 0:le.stockAvailable)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Quote Receiving Date:"}),s.jsx("span",{className:"submitted-data-field-value",children:((ge=m.sourcingInfo)==null?void 0:ge.quoteReceivingDate)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Quote Valid Till:"}),s.jsx("span",{className:"submitted-data-field-value",children:((Ne=m.sourcingInfo)==null?void 0:Ne.quoteValidTill)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Remaining Days:"}),s.jsx("span",{className:"submitted-data-field-value",children:((Y=m.sourcingInfo)==null?void 0:Y.remainingDays)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Item Same/Alternative:"}),s.jsx("span",{className:"submitted-data-field-value",children:((H=m.sourcingInfo)==null?void 0:H.itemSameAlternative)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Warranty:"}),s.jsx("span",{className:"submitted-data-field-value",children:((K=m.sourcingInfo)==null?void 0:K.warrantyPeriod)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"After Sales Support:"}),s.jsx("span",{className:"submitted-data-field-value",children:((ee=m.sourcingInfo)==null?void 0:ee.afterSalesSupport)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Support Period:"}),s.jsx("span",{className:"submitted-data-field-value",children:((fe=m.sourcingInfo)==null?void 0:fe.supportPeriod)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field submitted-data-full-width",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Warranty/Support Terms:"}),s.jsx("span",{className:"submitted-data-field-value",children:((Re=m.sourcingInfo)==null?void 0:Re.warrantySupportTerms)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Shipping Cost:"}),s.jsxs("span",{className:"submitted-data-field-value submitted-data-cost",children:["$",((me=m.sourcingInfo)==null?void 0:me.estimatedShippingCost)||"0.00"]})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Applicable Taxes:"}),s.jsx("span",{className:"submitted-data-field-value",children:((Je=m.sourcingInfo)==null?void 0:Je.applicableTaxes)||"N/A"})]}),s.jsxs("div",{className:"submitted-data-vendor-field",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Restocking Fees:"}),s.jsxs("span",{className:"submitted-data-field-value",children:[((dt=m.sourcingInfo)==null?void 0:dt.restockingFees)||"N/A",((Ie=m.sourcingInfo)==null?void 0:Ie.restockingFees)==="Yes"&&((ft=m.sourcingInfo)==null?void 0:ft.restockingFeesPercentage)&&` (${m.sourcingInfo.restockingFeesPercentage}%)`]})]}),((It=m.sourcingInfo)==null?void 0:It.remarks)&&s.jsxs("div",{className:"submitted-data-vendor-field submitted-data-full-width",children:[s.jsx("span",{className:"submitted-data-field-label",children:"Vendor Remarks:"}),s.jsx("div",{className:"submitted-data-remarks-text",children:m.sourcingInfo.remarks})]})]})]}),s.jsxs("div",{className:"submitted-data-vendor-section",children:[s.jsx("h6",{children:"💰 Pricing & Line Items"}),((gt=m.pricing)==null?void 0:gt.lineItems)&&m.pricing.lineItems.length>0&&s.jsxs("div",{className:"submitted-data-line-items",children:[s.jsxs("div",{className:"submitted-data-line-items-header",children:[s.jsx("span",{children:"Description"}),s.jsx("span",{children:"Qty"}),s.jsx("span",{children:"Unit Price"}),s.jsx("span",{children:"Total"})]}),m.pricing.lineItems.map((z,Me)=>s.jsxs("div",{className:"submitted-data-line-item-row",children:[s.jsx("span",{children:z.description||"N/A"}),s.jsx("span",{children:z.qty||"0"}),s.jsxs("span",{children:["$",z.unitPrice||"0.00"]}),s.jsxs("span",{children:["$",(z.cost||0).toFixed(2)]})]},z.id||Me))]}),s.jsxs("div",{className:"submitted-data-cost-breakdown",children:[s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"Subtotal:"}),s.jsxs("span",{children:["$",(((Xe=m.pricing)==null?void 0:Xe.subtotal)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"CC Charges:"}),s.jsxs("span",{children:["$",(((De=m.pricing)==null?void 0:De.ccChargesAmount)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"Tax:"}),s.jsxs("span",{children:["$",(((Lt=m.pricing)==null?void 0:Lt.taxAmount)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"Freight:"}),s.jsxs("span",{children:["$",(((kt=m.pricing)==null?void 0:kt.freightLogistics)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"Extended Warranty:"}),s.jsxs("span",{children:["$",(((Yt=m.pricing)==null?void 0:Yt.extendedWarranty)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"Installation:"}),s.jsxs("span",{children:["$",(((Jt=m.pricing)==null?void 0:Jt.installation)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"Restocking Fees:"}),s.jsxs("span",{children:["$",(((k=m.pricing)==null?void 0:k.restockingFeesAmount)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"Other 1:"}),s.jsxs("span",{children:["$",(((G=m.pricing)==null?void 0:G.other1)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"Other 2:"}),s.jsxs("span",{children:["$",(((ye=m.pricing)==null?void 0:ye.other2)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item submitted-data-grand-total",children:[s.jsx("span",{children:"Grand Total:"}),s.jsxs("span",{children:["$",(((Le=m.pricing)==null?void 0:Le.grandTotal)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"Discount 1:"}),s.jsxs("span",{children:["-$",(((Qe=m.pricing)==null?void 0:Qe.discount1)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item",children:[s.jsx("span",{children:"Discount 2:"}),s.jsxs("span",{children:["-$",(((rt=m.pricing)==null?void 0:rt.discount2)||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-breakdown-item submitted-data-final-total",children:[s.jsx("span",{children:"Final Total:"}),s.jsxs("span",{children:["$",(((ut=m.pricing)==null?void 0:ut.finalGrandTotal)||0).toFixed(2)]})]})]})]}),((ot=m.sourcingInfo)==null?void 0:ot.attachments)&&m.sourcingInfo.attachments.length>0&&s.jsxs("div",{className:"submitted-data-vendor-section",children:[s.jsxs("div",{className:"submitted-data-attachments-header",children:[s.jsxs("h6",{children:["📎 Vendor Attachments (",m.sourcingInfo.attachments.length,")"]}),s.jsx("button",{className:"submitted-data-btn-download-all",onClick:()=>p(m,c),title:"Download all files",children:"📥 Download All"})]}),s.jsx("div",{className:"submitted-data-attachments-list",children:m.sourcingInfo.attachments.map((z,Me)=>{var he,we,Ae,pe,$e,Ft,xt;return s.jsxs("div",{className:"submitted-data-attachment-item",children:[s.jsxs("div",{className:"submitted-data-attachment-info",children:[s.jsxs("div",{className:"submitted-data-attachment-name",children:["📄 ",z.name||((he=z.file)==null?void 0:he.name)||`File ${Me+1}`,(z.type||((we=z.file)==null?void 0:we.type))&&s.jsxs("span",{className:"submitted-data-file-type",children:["(",(pe=(z.type||((Ae=z.file)==null?void 0:Ae.type)).split("/")[1])==null?void 0:pe.toUpperCase(),")"]})]}),s.jsx("div",{className:"submitted-data-attachment-size",children:z.size||(($e=z.file)==null?void 0:$e.size)||"Unknown size"})]}),s.jsxs("div",{className:"submitted-data-attachment-actions",children:[s.jsx("button",{className:"submitted-data-btn-preview",onClick:()=>{var Ze;return F(z,((Ze=m.sourcingInfo)==null?void 0:Ze.vendorName)||`Vendor ${c+1}`)},title:`Preview ${z.name||((Ft=z.file)==null?void 0:Ft.name)||"file"}`,children:"👁️"}),s.jsx("button",{className:"submitted-data-btn-download",onClick:()=>{var Ze;return g(z,((Ze=m.sourcingInfo)==null?void 0:Ze.vendorName)||`Vendor ${c+1}`)},title:`Download ${z.name||((xt=z.file)==null?void 0:xt.name)||"file"}`,children:"📥"})]})]},Me)})})]})]})]}),t.submissionCalculations&&s.jsxs("div",{className:"submitted-data-modal-section",children:[s.jsx("h4",{children:"📊 Submission Details & Calculations"}),s.jsxs("div",{className:"submitted-data-submission-calculations",children:[s.jsxs("div",{className:"submitted-data-calc-row",children:[s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"📅 Submission Date:"}),s.jsx("span",{className:"submitted-data-calc-value",children:t.submissionCalculations.submissionDate||"N/A"})]}),s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"👤 Assigned Person:"}),s.jsx("span",{className:"submitted-data-calc-value",children:t.submissionCalculations.assignedPerson||"N/A"})]})]}),s.jsxs("div",{className:"submitted-data-calc-row",children:[s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"💰 Vendor Cost:"}),s.jsxs("span",{className:"submitted-data-calc-value submitted-data-cost",children:["$",(t.submissionCalculations.vendorCost||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"🚚 Shipping Cost:"}),s.jsxs("span",{className:"submitted-data-calc-value",children:["$",(t.submissionCalculations.shippingCost||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"submitted-data-calc-row",children:[s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"💳 CC Cost (%):"}),s.jsxs("span",{className:"submitted-data-calc-value",children:[(t.submissionCalculations.ccCostPercent||0).toFixed(2),"%"]})]}),s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"💳 CC Cost ($):"}),s.jsxs("span",{className:"submitted-data-calc-value",children:["$",(t.submissionCalculations.ccCostAmount||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"submitted-data-calc-row",children:[s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"💵 Total Cost:"}),s.jsxs("span",{className:"submitted-data-calc-value submitted-data-total",children:["$",(t.submissionCalculations.totalCost||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"📊 1% Vendor Cost:"}),s.jsxs("span",{className:"submitted-data-calc-value",children:["$",(t.submissionCalculations.onePercentVendorCost||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"submitted-data-calc-row",children:[s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"📈 Profit (%):"}),s.jsxs("span",{className:"submitted-data-calc-value",children:[(t.submissionCalculations.profitPercent||0).toFixed(2),"%"]})]}),s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"💲 Profit ($):"}),s.jsxs("span",{className:"submitted-data-calc-value",children:["$",(t.submissionCalculations.profitAmount||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"submitted-data-calc-row",children:[s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"💎 Total Profit:"}),s.jsxs("span",{className:"submitted-data-calc-value submitted-data-total",children:["$",(t.submissionCalculations.totalProfitAmount||0).toFixed(2)]})]}),s.jsxs("div",{className:"submitted-data-calc-item",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"🏛️ Tax Amount:"}),s.jsxs("span",{className:"submitted-data-calc-value",children:["$",(t.submissionCalculations.taxAmount||0).toFixed(2)]})]})]}),s.jsx("div",{className:"submitted-data-calc-row",children:s.jsxs("div",{className:"submitted-data-calc-item submitted-data-full-width",children:[s.jsx("span",{className:"submitted-data-calc-label",children:"🎯 Submitted with Margin:"}),s.jsxs("span",{className:"submitted-data-calc-value submitted-data-final-amount",children:["$",(t.submissionCalculations.submittedWithMargin||0).toFixed(2)]})]})})]})]}),t.submissionAttachments&&t.submissionAttachments.length>0&&s.jsxs("div",{className:"submitted-data-modal-section",children:[s.jsx("div",{className:"submitted-data-attachments-header",children:s.jsxs("h4",{children:["📎 Submission Attachments (",t.submissionAttachments.length,")"]})}),s.jsx("div",{className:"submitted-data-attachments-list",children:t.submissionAttachments.map((z,Me)=>{var he;return s.jsxs("div",{className:"submitted-data-attachment-item",children:[s.jsxs("div",{className:"submitted-data-attachment-info",children:[s.jsxs("div",{className:"submitted-data-attachment-name",children:["📄 ",z.name,z.type&&s.jsxs("span",{className:"submitted-data-file-type",children:["(",(he=z.type.split("/")[1])==null?void 0:he.toUpperCase(),")"]})]}),s.jsx("div",{className:"submitted-data-attachment-size",children:z.size})]}),s.jsxs("div",{className:"submitted-data-attachment-actions",children:[s.jsx("button",{className:"submitted-data-btn-preview",onClick:()=>F(z,"Submission"),title:`Preview ${z.name}`,children:"👁️"}),s.jsx("button",{className:"submitted-data-btn-download",onClick:()=>g(z,"Submission"),title:`Download ${z.name}`,children:"📥"})]})]},z.id||Me)})})]}),s.jsxs("div",{className:"submitted-data-modal-section",children:[s.jsx("h4",{children:"📤 Final Submission Information"}),s.jsxs("div",{className:"submitted-data-info-grid",children:[s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Submitted By:"}),s.jsx("span",{className:"submitted-data-value",children:t.finalSubmissionBy||"N/A"})]}),s.jsxs("div",{className:"submitted-data-info-item",children:[s.jsx("span",{className:"submitted-data-label",children:"Submission Date:"}),s.jsx("span",{className:"submitted-data-value",children:t.finalSubmissionAt||"N/A"})]}),t.finalSubmissionRemarks&&s.jsxs("div",{className:"submitted-data-info-item submitted-data-full-width",children:[s.jsx("span",{className:"submitted-data-label",children:"Special Submission Remarks:"}),s.jsx("div",{className:"submitted-data-remarks-text",children:t.finalSubmissionRemarks})]})]})]}),t.workflowStages&&s.jsxs("div",{className:"submitted-data-modal-section",children:[s.jsx("h4",{children:"🔄 Workflow History"}),s.jsx("div",{className:"submitted-data-workflow-stages",children:t.workflowStages.map((z,Me)=>s.jsxs("div",{className:"submitted-data-workflow-stage",children:[s.jsxs("div",{className:"submitted-data-stage-icon",children:[z.stage==="hunting"&&"🎯",z.stage==="sourcing"&&"🔍",z.stage==="approval"&&"✅",z.stage==="submission"&&"📤"]}),s.jsxs("div",{className:"submitted-data-stage-info",children:[s.jsx("div",{className:"submitted-data-stage-name",children:z.stage.charAt(0).toUpperCase()+z.stage.slice(1)}),s.jsxs("div",{className:"submitted-data-stage-details",children:["Completed by: ",z.completedBy," at ",z.completedAt]})]})]},Me))})]})]}),s.jsx("div",{className:"submitted-data-entry-details-modal-footer",children:s.jsx("button",{className:"submitted-data-btn-close-modal",onClick:n,children:"Close"})})]})})}),pb=()=>{Ds();const[e,t]=w.useState([]),[n,r]=w.useState(!0),[a,i]=w.useState(null),[l,o]=w.useState(null),[c,u]=w.useState(""),[h,m]=w.useState(null),[d,y]=w.useState(!1),C="2025-08-01 20:14:45",g="Mike469-a11y",F=g==="Mike469-a11y",p=g==="subadmin";w.useEffect(()=>{f(),ze.initDB().catch(q=>{console.error("Failed to initialize IndexedDB:",q)})},[]);const f=()=>{try{console.log("📂 Loading submitted entries from localStorage...");const q=localStorage.getItem("submittedDataEntries");if(q){const re=JSON.parse(q);console.log(`📥 Found ${re.length} entries in localStorage`);const ue=[],$=new Set,Z=[];re.sort((ge,Ne)=>{const Y=new Date(ge.submittedToArchiveAt||ge.archivedAt||ge.finalSubmissionAt||"1970-01-01");return new Date(Ne.submittedToArchiveAt||Ne.archivedAt||Ne.finalSubmissionAt||"1970-01-01")-Y}).forEach((ge,Ne)=>{const Y=ge.id;if(!Y){console.warn(`⚠️ Entry at index ${Ne} has no QMS ID:`,ge);return}$.has(Y)?(Z.push(ge),console.warn(`❌ DUPLICATE QMS ID REMOVED: ${Y} (${ge.bidTitle||"No title"})`)):($.add(Y),ue.push(ge),console.log(`✅ Keeping QMS ID: ${Y} (${ge.bidTitle||"No title"})`))}),Z.length>0&&(console.log(`🔧 REMOVING ${Z.length} DUPLICATE ENTRIES:`),Z.forEach(ge=>{console.log(`   - QMS ID: ${ge.id} | Title: ${ge.bidTitle||"No title"}`)}),localStorage.setItem("submittedDataEntries",JSON.stringify(ue)),console.log(`💾 Updated localStorage with ${ue.length} unique entries`),Z.length>0&&setTimeout(()=>{alert(`🔧 DUPLICATE CLEANUP

Removed ${Z.length} duplicate entries with same QMS IDs.

✅ Archive now contains ${ue.length} unique entries.`)},1e3)),console.log(`📊 Final result: ${ue.length} unique entries loaded`),t(ue)}else console.log("📭 No submitted entries found in localStorage"),t([])}catch(q){console.error("❌ Error loading submitted entries:",q),t([])}finally{r(!1)}},j=w.useMemo(()=>{console.log("📅 Calculating available years from",e.length,"entries");const q=new Set;e.forEach(ue=>{const $=ue.submittedToArchiveAt||ue.archivedAt||ue.finalSubmissionAt;if($){const Z=new Date($).getFullYear();q.add(Z),console.log(`  - Entry ${ue.id}: ${$} → Year ${Z}`)}else console.warn(`  - Entry ${ue.id}: No submission date found`)});const re=Array.from(q).sort((ue,$)=>$-ue);return console.log("📅 Available years:",re),re},[e]),E=w.useMemo(()=>{if(!a)return[];console.log("📅 Calculating available months for year",a);const q=new Set;e.forEach(ue=>{const $=ue.submittedToArchiveAt||ue.archivedAt||ue.finalSubmissionAt;if($){const Z=new Date($);Z.getFullYear()===a&&(q.add(Z.getMonth()),console.log(`  - Entry ${ue.id}: Month ${Z.getMonth()}`))}});const re=Array.from(q).sort((ue,$)=>$-ue);return console.log("📅 Available months for",a,":",re),re},[e,a]),R=w.useMemo(()=>{if(!a||l===null)return[];console.log("🔍 Filtering entries for",a,"month",l,"search:",c);const q=e.filter(re=>{var Y,H,K,ee,fe,Re,me;const ue=re.submittedToArchiveAt||re.archivedAt||re.finalSubmissionAt;if(!ue)return!1;const $=new Date(ue),Z=$.getFullYear()===a,le=$.getMonth()===l,ge=!c||((Y=re.bidTitle)==null?void 0:Y.toLowerCase().includes(c.toLowerCase()))||((H=re.bidNumber)==null?void 0:H.toLowerCase().includes(c.toLowerCase()))||((K=re.portalName)==null?void 0:K.toLowerCase().includes(c.toLowerCase()))||((ee=re.sourcerName)==null?void 0:ee.toLowerCase().includes(c.toLowerCase()))||((fe=re.hunterName)==null?void 0:fe.toLowerCase().includes(c.toLowerCase()))||((Re=re.id)==null?void 0:Re.toLowerCase().includes(c.toLowerCase()))||((me=re.archiveId)==null?void 0:me.toLowerCase().includes(c.toLowerCase())),Ne=Z&&le&&ge;return Ne&&console.log(`✅ Entry matches: ${re.id} - ${re.bidTitle}`),Ne}).sort((re,ue)=>{const $=new Date(re.submittedToArchiveAt||re.archivedAt||re.finalSubmissionAt);return new Date(ue.submittedToArchiveAt||ue.archivedAt||ue.finalSubmissionAt)-$});return console.log("🔍 Filtered to",q.length,"entries"),q},[e,a,l,c]),N=q=>{console.log("📅 Year selected:",q),i(q),o(null),u("")},x=q=>{console.log("📅 Month selected:",q),o(q)},v=()=>{console.log("🔙 Back to years"),i(null),o(null),u("")},S=()=>{console.log("🔙 Back to months"),o(null),u("")},D=q=>{console.log("👁️ Viewing entry:",q.id),m(q),y(!0)},L=q=>{console.log("✏️ Edit entry requested:",q.id),alert(`Edit functionality for entry ${q.id} - Coming soon!`)},B=async q=>{if(console.log("🗑️ Delete entry requested:",q.id),window.confirm(`Are you sure you want to permanently delete archived entry ${q.archiveId||q.id}?

This action cannot be undone!`))try{const re=localStorage.getItem("submittedDataEntries");if(re){const $=JSON.parse(re).filter(Z=>Z.id!==q.id);localStorage.setItem("submittedDataEntries",JSON.stringify($)),f(),y(!1),console.log("✅ Entry deleted:",q.id),alert(`✅ Entry ${q.archiveId||q.id} has been permanently deleted from the archive.`)}}catch(re){console.error("❌ Error deleting entry:",re),alert("❌ Error deleting entry. Please try again.")}},ne=q=>["January","February","March","April","May","June","July","August","September","October","November","December"][q],je=(q,re)=>{const ue=e.filter($=>{const Z=$.submittedToArchiveAt||$.archivedAt||$.finalSubmissionAt;if(!Z)return!1;const le=new Date(Z);return le.getFullYear()===q&&le.getMonth()===re}).length;return console.log(`📊 Month ${re} (${ne(re)}) in ${q}: ${ue} entries`),ue};return n?s.jsx("div",{className:"submitted-data-container",children:s.jsxs("div",{className:"submitted-data-loading-container",children:[s.jsx("div",{className:"submitted-data-loading-spinner"}),s.jsx("p",{children:"Loading submitted data..."})]})}):(console.log("🎨 Rendering SubmittedData component"),console.log("📊 Current state:",{entriesCount:e.length,selectedYear:a,selectedMonth:l,searchTerm:c,filteredCount:R.length}),s.jsxs("div",{className:"submitted-data-container",children:[s.jsx(fb,{show:d,entry:h,onClose:()=>y(!1),currentUser:g,isAdmin:F,isSubAdmin:p,onEdit:L,onDelete:B}),s.jsxs("div",{className:"submitted-data-header",children:[s.jsxs("div",{className:"submitted-data-header-left",children:[s.jsx("h1",{children:"🗂️ Submitted Data Archive"}),s.jsx("p",{children:"Permanent archive of all submitted entries organized by date"})]}),s.jsx("div",{className:"submitted-data-header-right",children:s.jsxs("div",{className:"submitted-data-user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:g})]}),s.jsx("span",{className:"submitted-data-current-time",children:C}),s.jsxs("span",{className:"submitted-data-user-role",children:["Role: ",s.jsx("strong",{children:"👑 Admin"})]})]})})]}),s.jsxs("div",{className:"submitted-data-archive-navigation",children:[s.jsx("button",{className:`submitted-data-nav-item ${a?"":"submitted-data-active"}`,onClick:v,children:"🗓️ Years"}),a&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"submitted-data-nav-separator",children:"→"}),s.jsxs("button",{className:`submitted-data-nav-item ${a&&l===null?"submitted-data-active":""}`,onClick:S,children:["📅 ",a," - Months"]})]}),a&&l!==null&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"submitted-data-nav-separator",children:"→"}),s.jsxs("span",{className:"submitted-data-nav-item submitted-data-active",children:["📋 ",ne(l)," ",a," - Entries"]})]})]}),s.jsxs("div",{className:"submitted-data-content",children:[!a&&s.jsxs("div",{className:"submitted-data-year-selection-view",children:[s.jsxs("div",{className:"submitted-data-section-header",children:[s.jsx("h2",{children:"📊 Archive Overview"}),s.jsxs("div",{className:"submitted-data-archive-stats",children:[s.jsxs("div",{className:"submitted-data-stat-item",children:[s.jsx("span",{className:"submitted-data-stat-number",children:e.length}),s.jsx("span",{className:"submitted-data-stat-label",children:"Total Entries"})]}),s.jsxs("div",{className:"submitted-data-stat-item",children:[s.jsx("span",{className:"submitted-data-stat-number",children:j.length}),s.jsx("span",{className:"submitted-data-stat-label",children:"Years"})]})]})]}),j.length===0?s.jsxs("div",{className:"submitted-data-no-data-state",children:[s.jsx("div",{className:"submitted-data-no-data-icon",children:"📭"}),s.jsx("h3",{children:"No Submitted Data Found"}),s.jsx("p",{children:"No entries have been submitted to the archive yet."}),s.jsx("p",{className:"submitted-data-help-text",children:"Entries will appear here once they are submitted from the Submission Dashboard."})]}):s.jsx("div",{className:"submitted-data-years-grid",children:j.map(q=>{const re=e.filter(ue=>{const $=ue.submittedToArchiveAt||ue.archivedAt||ue.finalSubmissionAt;return $&&new Date($).getFullYear()===q}).length;return console.log(`📅 Year ${q}: ${re} entries`),s.jsxs("div",{className:"submitted-data-year-card",onClick:()=>N(q),children:[s.jsxs("div",{className:"submitted-data-year-card-header",children:[s.jsx("h3",{children:q}),s.jsxs("div",{className:"submitted-data-year-entry-count",children:[re," entries"]})]}),s.jsx("div",{className:"submitted-data-year-card-footer",children:s.jsx("span",{children:"Click to view months →"})})]},q)})})]}),a&&l===null&&s.jsxs("div",{className:"submitted-data-month-selection-view",children:[s.jsx("div",{className:"submitted-data-section-header",children:s.jsxs("h2",{children:["📅 ",a," - Select Month"]})}),s.jsx("div",{className:"submitted-data-months-grid",children:E.map(q=>{const re=je(a,q);return s.jsxs("div",{className:"submitted-data-month-card",onClick:()=>x(q),children:[s.jsxs("div",{className:"submitted-data-month-card-header",children:[s.jsx("h3",{children:ne(q)}),s.jsxs("div",{className:"submitted-data-month-entry-count",children:[re," entries"]})]}),s.jsx("div",{className:"submitted-data-month-card-footer",children:s.jsx("span",{children:"Click to view entries →"})})]},q)})})]}),a&&l!==null&&s.jsxs("div",{className:"submitted-data-entries-view",children:[s.jsxs("div",{className:"submitted-data-section-header",children:[s.jsxs("h2",{children:["📋 ",ne(l)," ",a," - Submitted Entries"]}),s.jsxs("div",{className:"submitted-data-entries-controls",children:[s.jsx("div",{className:"submitted-data-search-group",children:s.jsx("input",{type:"text",placeholder:"Search by QMS ID, archive ID, bid title, sourcer...",value:c,onChange:q=>u(q.target.value),className:"submitted-data-search-input"})}),s.jsxs("div",{className:"submitted-data-entries-count",children:[R.length," entries found"]})]})]}),R.length===0?s.jsxs("div",{className:"submitted-data-no-entries-state",children:[s.jsx("div",{className:"submitted-data-no-entries-icon",children:"📭"}),s.jsx("h3",{children:"No Entries Found"}),s.jsx("p",{children:c?`No entries match your search "${c}"`:`No entries found for ${ne(l)} ${a}`})]}):s.jsxs("div",{className:"submitted-data-entries-table",children:[s.jsxs("div",{className:"submitted-data-table-header",children:[s.jsx("div",{className:"submitted-data-header-cell",children:"Entry Info"}),s.jsx("div",{className:"submitted-data-header-cell",children:"Submission Details"}),s.jsx("div",{className:"submitted-data-header-cell",children:"Vendor Info"}),s.jsx("div",{className:"submitted-data-header-cell",children:"Actions"})]}),R.map(q=>{var Z,le,ge,Ne,Y,H,K,ee,fe,Re,me;const re=((le=(Z=q.sourcingData)==null?void 0:Z.vendors)==null?void 0:le.find(Je=>Je.isPrimary))||((Ne=(ge=q.sourcingData)==null?void 0:ge.vendors)==null?void 0:Ne[0]),ue=((Y=re==null?void 0:re.pricing)==null?void 0:Y.finalGrandTotal)||0,$=((H=q.submissionCalculations)==null?void 0:H.submittedWithMargin)||0;return s.jsxs("div",{className:"submitted-data-table-row",children:[s.jsxs("div",{className:"submitted-data-cell submitted-data-entry-info",children:[s.jsxs("div",{className:"submitted-data-entry-ids",children:[s.jsxs("div",{className:"submitted-data-qms-id",children:["QMS: ",q.id]}),s.jsxs("div",{className:"submitted-data-archive-id",children:["Archive: ",q.archiveId||q.id]})]}),s.jsx("div",{className:"submitted-data-bid-title",children:q.bidTitle||"N/A"}),s.jsxs("div",{className:"submitted-data-bid-details",children:[s.jsxs("span",{children:["#",q.bidNumber]}),s.jsx("span",{children:q.portalName})]}),s.jsxs("div",{className:"submitted-data-sourcer-info",children:["👤 ",q.sourcerName||q.hunterName||"N/A"]})]}),s.jsxs("div",{className:"submitted-data-cell submitted-data-submission-details",children:[s.jsxs("div",{className:"submitted-data-submission-date",children:["📅 ",q.submittedToArchiveAt||q.archivedAt||"N/A"]}),s.jsxs("div",{className:"submitted-data-submission-by",children:["👤 ",q.submittedToArchiveBy||q.archivedBy||"N/A"]}),s.jsx("div",{className:"submitted-data-submission-status",children:s.jsx("span",{className:"submitted-data-status-badge submitted-data-submitted",children:"✅ Submitted"})}),$>0&&s.jsxs("div",{className:"submitted-data-final-amount",children:["Final: $",$.toFixed(2)]})]}),s.jsx("div",{className:"submitted-data-cell submitted-data-vendor-info",children:re?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"submitted-data-vendor-name",children:((K=re.sourcingInfo)==null?void 0:K.vendorName)||"Unknown"}),s.jsxs("div",{className:"submitted-data-vendor-value",children:["$",ue.toFixed(2)]}),s.jsxs("div",{className:"submitted-data-vendor-details",children:[s.jsxs("span",{children:[((fe=(ee=q.sourcingData)==null?void 0:ee.vendors)==null?void 0:fe.length)||0," vendor(s)"]}),s.jsxs("span",{children:[((me=(Re=re.sourcingInfo)==null?void 0:Re.attachments)==null?void 0:me.length)||0," files"]})]})]}):s.jsx("div",{className:"submitted-data-no-vendor-data",children:"No Vendor Data"})}),s.jsxs("div",{className:"submitted-data-cell submitted-data-actions",children:[s.jsx("button",{className:"submitted-data-btn-view-entry",onClick:()=>D(q),title:"View Complete Entry Details",children:"👁️ View"}),s.jsx("button",{className:"submitted-data-btn-edit-entry",onClick:()=>L(q),title:"Edit Entry",children:"✏️ Edit"}),s.jsx("button",{className:"submitted-data-btn-delete-entry",onClick:()=>B(q),title:"Delete Entry",children:"🗑️ Delete"})]})]},q.id)})]})]})]})]}))},vb=()=>{var x,v;const[e,t]=w.useState([]),[n,r]=w.useState(""),[a,i]=w.useState("all"),l="2025-07-31 23:40:15",o="Mike469-a11y",c=Ds(),u=()=>{const S=localStorage.getItem("sourcingEntries");if(S)try{const L=JSON.parse(S).filter(B=>!B.hiddenFromSourcing);t(L),console.log("Loaded sourcing entries:",L)}catch(D){console.error("Error parsing sourcing entries:",D),t([])}else console.log("No sourcing entries found in localStorage"),t([])};w.useEffect(()=>{u();const S=D=>{D.key==="sourcingEntries"&&u()};return window.addEventListener("storage",S),()=>{window.removeEventListener("storage",S)}},[]);const h=S=>S.status==="approval_approved"?"approved":S.status==="approval_rejected"?"rejected":S.sourcingCompleted&&S.status==="approval_pending"?"requested":S.sourcingStarted&&!S.sourcingCompleted?"in_progress":"not_started",m=w.useMemo(()=>{let S=[...e];if(n.trim()){const D=n.toLowerCase();S=S.filter(L=>L.portalName&&L.portalName.toLowerCase().includes(D)||L.bidNumber&&L.bidNumber.toLowerCase().includes(D)||L.id&&L.id.toLowerCase().includes(D)||L.hunterName&&L.hunterName.toLowerCase().includes(D)||L.assignedBy&&L.assignedBy.toLowerCase().includes(D)||L.bidTitle&&L.bidTitle.toLowerCase().includes(D))}if(a!=="all"){const D=new Date;D.setHours(0,0,0,0),S=S.filter(L=>{if(a==="workflow-not-started")return h(L)==="not_started";if(a==="workflow-in-progress")return h(L)==="in_progress";if(a==="workflow-requested")return h(L)==="requested";if(a==="workflow-approved")return h(L)==="approved";if(a==="workflow-rejected")return h(L)==="rejected";if(!L.dueDate)return a==="active";const B=new Date(L.dueDate);B.setHours(0,0,0,0);const ne=B-D,je=Math.ceil(ne/(1e3*60*60*24));switch(a){case"overdue":return je<0;case"due-soon":return je>=0&&je<=7;case"active":return je>7;default:return!0}})}return S},[e,n,a]),d=S=>{const D=h(S);console.log(`Navigating for entry ${S.id} with status: ${D}`),c(`/sourcing/${S.id}`)},y=S=>{if(window.confirm(`Are you sure you want to remove entry ${S} from Sourcing Dashboard?

Note: This will NOT affect the Approval section.`))try{const D=localStorage.getItem("sourcingEntries");if(D){const B=JSON.parse(D).map(ne=>ne.id===S?{...ne,hiddenFromSourcing:!0,hiddenAt:l,hiddenBy:o}:ne);localStorage.setItem("sourcingEntries",JSON.stringify(B)),t(B.filter(ne=>!ne.hiddenFromSourcing)),alert(`✅ Entry ${S} removed from Sourcing Dashboard.

📋 Entry remains available in Approval section.`)}}catch(D){console.error("Error hiding entry:",D),alert("❌ Error removing entry. Please try again.")}},C=S=>{switch(h(S)){case"approved":return s.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"center",alignItems:"center"},children:[s.jsx("button",{className:"btn-approved",onClick:()=>d(S),title:"Edit approved sourcing details",children:"✅ Approved - Edit"}),s.jsx("button",{className:"btn-danger",onClick:()=>y(S.id),title:"Remove from Sourcing Dashboard",style:{background:"linear-gradient(135deg, #dc3545, #c82333)",color:"white",border:"none",padding:"8px 12px",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",boxShadow:"0 2px 8px rgba(220, 53, 69, 0.2)",minWidth:"60px",height:"36px"},children:"🗑️"})]});case"rejected":return s.jsx("button",{className:"btn-rejected",onClick:()=>d(S),title:"Revise and resubmit",children:"❌ Rejected - Revise"});case"requested":return s.jsx("button",{className:"btn-requested",disabled:!0,title:"Awaiting approval",children:"📋 Requested"});case"in_progress":return s.jsx("button",{className:"btn-started",onClick:()=>d(S),title:"Continue sourcing process",children:"📝 Continue"});default:return s.jsx("button",{className:"btn-start",onClick:()=>d(S),title:"Start sourcing process for this entry",children:"🚀 Start"})}},g=S=>{switch(h(S)){case"approved":return s.jsx("span",{className:"workflow-status-badge status-approved",children:"✅ Approved"});case"rejected":return s.jsx("span",{className:"workflow-status-badge status-rejected",children:"❌ Rejected"});case"requested":return s.jsx("span",{className:"workflow-status-badge status-requested",children:"📋 Requested"});case"in_progress":return s.jsx("span",{className:"workflow-status-badge status-in-progress",children:"🔄 In Progress"});default:return s.jsx("span",{className:"workflow-status-badge status-not-started",children:"⭕ Not Started"})}},F=S=>{if(!S)return"No due date";try{const D=new Date,L=new Date(S);if(isNaN(L.getTime()))return"Invalid date";const B=L-D,ne=Math.ceil(B/(1e3*60*60*24));return ne>=0?`${ne} days`:`Overdue by ${Math.abs(ne)} days`}catch(D){return console.error("Error calculating days left:",D),"Invalid date"}},p=S=>{if(!S)return"";try{const D=new Date,L=new Date(S);if(isNaN(L.getTime()))return"";const B=L-D,ne=Math.ceil(B/(1e3*60*60*24));return ne<0?"overdue":ne<=3?"due-soon":""}catch(D){return console.error("Error getting days left status:",D),""}},f=S=>{if(!S)return null;try{const D=new Date,L=new Date(S);if(isNaN(L.getTime()))return null;const B=L-D,ne=Math.ceil(B/(1e3*60*60*24));return ne<0?s.jsx("span",{className:"priority-badge priority-critical",children:"Overdue"}):ne<=3?s.jsx("span",{className:"priority-badge priority-high",children:"Urgent"}):ne<=7?s.jsx("span",{className:"priority-badge priority-medium",children:"Soon"}):s.jsx("span",{className:"priority-badge priority-low",children:"Normal"})}catch(D){return console.error("Error getting priority badge:",D),s.jsx("span",{className:"priority-badge priority-low",children:"Normal"})}},j=S=>{if(!S.dueDate)return s.jsx("span",{className:"status-badge status-not-started",children:"Active"});try{const D=new Date,L=new Date(S.dueDate);if(isNaN(L.getTime()))return s.jsx("span",{className:"status-badge status-not-started",children:"Active"});const B=Math.ceil((L-D)/(1e3*60*60*24));return B<0?s.jsx("span",{className:"status-badge status-overdue",children:"Overdue"}):B<=3?s.jsx("span",{className:"status-badge status-review",children:"Critical"}):B<=7?s.jsx("span",{className:"status-badge status-in-progress",children:"In Progress"}):s.jsx("span",{className:"status-badge status-not-started",children:"Active"})}catch(D){return console.error("Error getting status badge:",D),s.jsx("span",{className:"status-badge status-not-started",children:"Active"})}},E=S=>{r(S.target.value)},R=S=>{i(S.target.value)},N=w.useMemo(()=>{const S={total:e.length,notStarted:0,inProgress:0,requested:0,approved:0,rejected:0};return e.forEach(D=>{switch(h(D)){case"not_started":S.notStarted++;break;case"in_progress":S.inProgress++;break;case"requested":S.requested++;break;case"approved":S.approved++;break;case"rejected":S.rejected++;break}}),S},[e]);return s.jsxs("div",{className:"sourcing-container",children:[s.jsxs("div",{className:"sourcing-header",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Sourcing Dashboard"}),s.jsx("p",{children:"Manage sourcing activities and vendor relationships"})]}),s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:o})]}),s.jsxs("span",{children:["Date: ",s.jsxs("strong",{children:[l," UTC"]})]})]})]}),s.jsxs("div",{className:"workflow-stats",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"📊"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:N.total}),s.jsx("p",{children:"Total Entries"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"⭕"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:N.notStarted}),s.jsx("p",{children:"Not Started"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"🔄"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:N.inProgress}),s.jsx("p",{children:"In Progress"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"📋"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:N.requested}),s.jsx("p",{children:"Requested"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"✅"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:N.approved}),s.jsx("p",{children:"Approved"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"❌"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:N.rejected}),s.jsx("p",{children:"Rejected"})]})]})]}),s.jsxs("div",{className:"sourcing-controls",children:[s.jsxs("div",{className:"search-filter-section",children:[s.jsxs("div",{className:"search-container",children:[s.jsx("input",{type:"text",placeholder:"Search by Portal, Bid Number, QMS ID, Hunter, or Assigned By...",value:n,onChange:E,className:"search-input"}),s.jsx("span",{className:"search-icon",children:"🔍"})]}),s.jsx("div",{className:"filter-container",children:s.jsxs("select",{value:a,onChange:R,className:"filter-select",children:[s.jsx("option",{value:"all",children:"All Entries"}),s.jsxs("optgroup",{label:"Workflow Status",children:[s.jsx("option",{value:"workflow-not-started",children:"⭕ Not Started"}),s.jsx("option",{value:"workflow-in-progress",children:"🔄 In Progress"}),s.jsx("option",{value:"workflow-requested",children:"📋 Requested"}),s.jsx("option",{value:"workflow-approved",children:"✅ Approved"}),s.jsx("option",{value:"workflow-rejected",children:"❌ Rejected"})]}),s.jsxs("optgroup",{label:"Due Date Status",children:[s.jsx("option",{value:"overdue",children:"Overdue"}),s.jsx("option",{value:"due-soon",children:"Due Soon (≤7 days)"}),s.jsx("option",{value:"active",children:"Active (>7 days)"})]})]})})]}),s.jsx("div",{className:"sourcing-actions"})]}),s.jsxs("div",{style:{padding:"10px",background:"#f0f0f0",margin:"10px 0",borderRadius:"5px",fontSize:"12px"},children:[s.jsx("strong",{children:"Debug Info:"})," Found ",e.length," sourcing entries in localStorage",s.jsx("br",{}),s.jsx("strong",{children:"Filtered:"})," Showing ",m.length," entries (Filter: ",a,', Search: "',n,'")',s.jsx("br",{}),s.jsx("strong",{children:"Workflow Stats:"})," Not Started: ",N.notStarted,", In Progress: ",N.inProgress,", Requested: ",N.requested,", Approved: ",N.approved,", Rejected: ",N.rejected,e.length>0&&s.jsxs("div",{children:[s.jsx("strong",{children:"Latest Entry:"})," ",(x=e[e.length-1])==null?void 0:x.id," - ",(v=e[e.length-1])==null?void 0:v.portalName]})]}),s.jsxs("div",{className:"sourcing-list-container",children:[s.jsxs("table",{className:"sourcing-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"QMS ID"}),s.jsx("th",{children:"Portal Name"}),s.jsx("th",{children:"Bid Number"}),s.jsx("th",{children:"Due Date"}),s.jsx("th",{children:"Due Status"}),s.jsx("th",{children:"Workflow Status"}),s.jsx("th",{children:"Priority"}),s.jsx("th",{children:"Days Left"}),s.jsx("th",{children:"Assign To"}),s.jsx("th",{children:"Assigned By"}),s.jsx("th",{children:"Action"})]})}),s.jsx("tbody",{children:m.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:11,children:s.jsxs("div",{className:"no-sourcing-message",children:[s.jsx("div",{className:"no-sourcing-icon",children:"📋"}),s.jsx("h3",{children:"No Sourcing Entries Found"}),s.jsx("p",{children:e.length===0?"No entries have been assigned for sourcing yet. Complete assignments in the Assignment section to see them here.":`No entries match your current search criteria. (Filter: ${a}, Search: "${n}")`}),e.length===0&&s.jsx("button",{className:"btn-create-first",onClick:()=>c("/assignment"),children:"Go to Assignment Dashboard"})]})})}):m.map(S=>s.jsxs("tr",{className:`workflow-status-${h(S)}`,children:[s.jsx("td",{children:s.jsx("div",{className:"sourcing-id-cell",children:S.id})}),s.jsxs("td",{children:[s.jsx("div",{className:"sourcing-title",children:S.portalName||"N/A"}),S.bidTitle&&s.jsx("div",{className:"sourcing-subtitle",children:S.bidTitle})]}),s.jsx("td",{children:s.jsx("strong",{children:S.bidNumber||"N/A"})}),s.jsx("td",{children:s.jsx("span",{className:`due-date ${p(S.dueDate)}`,children:S.dueDate||"No due date"})}),s.jsx("td",{children:j(S)}),s.jsx("td",{children:g(S)}),s.jsx("td",{children:f(S.dueDate)}),s.jsx("td",{children:s.jsx("strong",{className:p(S.dueDate),children:F(S.dueDate)})}),s.jsx("td",{children:s.jsx("div",{className:"assigned-name",children:S.hunterName||"Not Assigned"})}),s.jsx("td",{children:s.jsx("div",{className:"assigned-by-name",children:S.assignedBy||"Not Set"})}),s.jsx("td",{children:s.jsx("div",{className:"source-actions",children:C(S)})})]},S.id))})]}),m.length>0&&s.jsx("div",{className:"table-footer",children:s.jsxs("div",{className:"results-info",children:["Showing ",m.length," of ",e.length," sourcing entries"]})})]})]})},gb=w.memo(({vendorId:e,qmsId:t,onAttachmentsChange:n})=>{const[r,a]=w.useState([]),[i,l]=w.useState(!1),[o,c]=w.useState(!1),[u,h]=w.useState({});w.useEffect(()=>{m()},[e,t]);const m=async()=>{try{const v=await ze.getAttachmentsByVendor(e,t);a(v),n(v.map(S=>S.id))}catch(v){console.error("Error loading attachments:",v)}},d=v=>{if(!["application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/gif","text/plain"].includes(v.type))throw new Error(`Invalid file type: ${v.type}`);if(v.size>10485760)throw new Error(`File too large: ${(v.size/1024/1024).toFixed(2)}MB (max 10MB)`);return!0},y=async v=>{let S=v;return v.type.startsWith("image/")&&(S=await ze.compressImage(v)),S},C=w.useCallback(async v=>{c(!0);const S=Array.from(v),D=[];for(let L=0;L<S.length;L++){const B=S[L];try{d(B),h(q=>({...q,[B.name]:{progress:0,status:"processing"}}));const ne=await y(B);h(q=>({...q,[B.name]:{progress:50,status:"saving"}}));const je={id:ze.generateAttachmentId(),vendorId:e,qmsId:t,name:B.name,type:B.type,size:ne.size,originalSize:B.size,file:ne,uploadedAt:new Date,uploadedBy:"MFakheem"};await ze.saveAttachment(je),D.push(je),h(q=>({...q,[B.name]:{progress:100,status:"complete"}}))}catch(ne){console.error(`Error uploading ${B.name}:`,ne),h(je=>({...je,[B.name]:{progress:0,status:"error",error:ne.message}}))}}a(L=>[...L,...D]),n([...r,...D].map(L=>L.id)),setTimeout(()=>{h({}),c(!1)},2e3)},[e,t,r,n]),g=v=>{const S=v.target.files;S.length>0&&C(S)},F=v=>{v.preventDefault(),l(!1);const S=v.dataTransfer.files;S.length>0&&C(S)},p=v=>{v.preventDefault(),l(!0)},f=()=>{l(!1)},j=async v=>{try{await ze.deleteAttachment(v);const S=r.filter(D=>D.id!==v);a(S),n(S.map(D=>D.id))}catch(S){console.error("Error removing attachment:",S)}},E=async v=>{try{const S=await ze.getAttachment(v);if(S){const D=URL.createObjectURL(S.file);window.open(D,"_blank")}}catch(S){console.error("Error viewing attachment:",S)}},R=async v=>{try{const S=await ze.getAttachment(v);if(S){const D=URL.createObjectURL(S.file),L=document.createElement("a");L.href=D,L.download=S.name,L.click(),URL.revokeObjectURL(D)}}catch(S){console.error("Error downloading attachment:",S)}},N=v=>{if(v===0)return"0 Bytes";const S=1024,D=["Bytes","KB","MB","GB"],L=Math.floor(Math.log(v)/Math.log(S));return parseFloat((v/Math.pow(S,L)).toFixed(2))+" "+D[L]},x=v=>v.includes("pdf")?"📄":v.includes("excel")||v.includes("spreadsheet")?"📊":v.includes("word")||v.includes("document")?"📝":v.includes("image")?"🖼️":v.includes("text")?"📃":"📎";return s.jsxs("div",{className:"attachment-manager",children:[s.jsx("label",{className:"attachment-label",children:"Attachments:"}),s.jsx("div",{className:`upload-area ${i?"drag-over":""}`,onDrop:F,onDragOver:p,onDragLeave:f,children:s.jsxs("div",{className:"upload-content",children:[s.jsx("div",{className:"upload-icon",children:"📎"}),s.jsx("p",{children:"Drag & drop files here or click to browse"}),s.jsx("p",{className:"upload-hint",children:"Supported: PDF, Excel, Word, Images (max 10MB each)"}),s.jsx("input",{type:"file",multiple:!0,onChange:g,className:"file-input",accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif,.txt"}),s.jsx("button",{type:"button",className:"browse-btn",onClick:()=>document.querySelector(".file-input").click(),children:"Browse Files"})]})}),o&&Object.keys(u).length>0&&s.jsxs("div",{className:"upload-progress",children:[s.jsx("h4",{children:"Upload Progress:"}),Object.entries(u).map(([v,S])=>s.jsxs("div",{className:"progress-item",children:[s.jsx("span",{className:"file-name",children:v}),s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:`progress-fill ${S.status}`,style:{width:`${S.progress}%`}})}),s.jsx("span",{className:`status ${S.status}`,children:S.status==="error"?S.error:S.status})]},v))]}),r.length>0&&s.jsxs("div",{className:"attachments-list",children:[s.jsxs("h4",{children:["Uploaded Files (",r.length,"):"]}),s.jsx("div",{className:"attachments-grid",children:r.map(v=>s.jsxs("div",{className:"attachment-item",children:[s.jsxs("div",{className:"attachment-info",children:[s.jsx("span",{className:"file-icon",children:x(v.type)}),s.jsxs("div",{className:"file-details",children:[s.jsx("span",{className:"file-name",title:v.name,children:v.name}),s.jsxs("span",{className:"file-size",children:[N(v.size),v.originalSize!==v.size&&` (compressed from ${N(v.originalSize)})`]})]})]}),s.jsxs("div",{className:"attachment-actions",children:[s.jsx("button",{type:"button",className:"action-btn view-btn",onClick:()=>E(v.id),title:"View file",children:"👁️"}),s.jsx("button",{type:"button",className:"action-btn download-btn",onClick:()=>R(v.id),title:"Download file",children:"⬇️"}),s.jsx("button",{type:"button",className:"action-btn remove-btn",onClick:()=>j(v.id),title:"Remove file",children:"🗑️"})]})]},v.id))})]}),r.length>0&&s.jsxs("div",{className:"attachment-stats",children:[s.jsxs("span",{children:["Total: ",r.length," files"]}),s.jsxs("span",{children:["Size: ",N(r.reduce((v,S)=>v+S.size,0))]})]})]})}),xb=w.memo(({vendor:e,onUpdate:t,onLineItemUpdate:n,onAddLineItem:r,onRemoveLineItem:a,qmsId:i})=>{const l=w.useCallback(o=>{t("sourcingInfo","attachments",o)},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"sourcing-form-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"🎯"}),s.jsxs("h2",{children:["Sourcing Information - ",e.vendorName]}),e.isPrimary&&s.jsx("span",{className:"primary-indicator",children:"★ PRIMARY VENDOR"})]}),s.jsxs("div",{className:"sourcing-form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Product / Service Quoted Cost $:"}),s.jsx("input",{type:"number",step:"0.01",value:e.sourcingInfo.productServiceQuotedCost,onChange:o=>t("sourcingInfo","productServiceQuotedCost",o.target.value),placeholder:"Enter quoted cost"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Vendor Name:"}),s.jsx("input",{type:"text",value:e.sourcingInfo.vendorName,onChange:o=>t("sourcingInfo","vendorName",o.target.value),placeholder:"Enter vendor name"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Vendor Website / Product Link:"}),s.jsx("input",{type:"url",value:e.sourcingInfo.vendorWebsite,onChange:o=>t("sourcingInfo","vendorWebsite",o.target.value),placeholder:"https://vendor-website.com"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Proper Quotation Given:"}),s.jsxs("select",{value:e.sourcingInfo.properQuotationGiven,onChange:o=>t("sourcingInfo","properQuotationGiven",o.target.value),children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Yes",children:"Yes"}),s.jsx("option",{value:"No",children:"No"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Proper Quotation Given (Vendor):"}),s.jsxs("select",{value:e.sourcingInfo.properQuotationGivenNew,onChange:o=>t("sourcingInfo","properQuotationGivenNew",o.target.value),className:"proper-quotation-select",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Yes",children:"Yes"}),s.jsx("option",{value:"No",children:"No"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Risk Assessment:"}),s.jsxs("select",{value:e.sourcingInfo.riskAssessment,onChange:o=>t("sourcingInfo","riskAssessment",o.target.value),className:`risk-assessment-select ${e.sourcingInfo.riskAssessment?`risk-${e.sourcingInfo.riskAssessment.toLowerCase().replace(" ","-")}`:""}`,children:[s.jsx("option",{value:"",children:"Select Risk Level..."}),s.jsx("option",{value:"High Risk",className:"risk-high",children:"High Risk"}),s.jsx("option",{value:"Medium Risk",className:"risk-medium",children:"Medium Risk"}),s.jsx("option",{value:"Low Risk",className:"risk-low",children:"Low Risk"}),s.jsx("option",{value:"No Risk",className:"risk-none",children:"No Risk"})]})]}),s.jsxs("div",{className:"form-group form-group-full",children:[s.jsx("label",{children:"Vendor Address:"}),s.jsx("textarea",{value:e.sourcingInfo.vendorAddress,onChange:o=>t("sourcingInfo","vendorAddress",o.target.value),placeholder:"Enter vendor address",rows:"3"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Compliance (US-Based, Terms Met, etc.):"}),s.jsx("input",{type:"text",value:e.sourcingInfo.compliance,onChange:o=>t("sourcingInfo","compliance",o.target.value),placeholder:"Enter compliance details"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"CC Accepted:"}),s.jsxs("select",{value:e.sourcingInfo.ccAccepted,onChange:o=>t("sourcingInfo","ccAccepted",o.target.value),children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Yes",children:"Yes"}),s.jsx("option",{value:"No",children:"No"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"NET 30 / 60 Terms Available:"}),s.jsx("input",{type:"text",value:e.sourcingInfo.netTermsAvailable,onChange:o=>t("sourcingInfo","netTermsAvailable",o.target.value),placeholder:"NET 30, NET 60, etc."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"CC Charges (if applicable) %:"}),s.jsx("input",{type:"number",step:"0.01",value:e.sourcingInfo.ccCharges,onChange:o=>t("sourcingInfo","ccCharges",o.target.value),placeholder:"Enter percentage"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Specs Sheet / Details Taken:"}),s.jsxs("select",{value:e.sourcingInfo.specsSheetTaken,onChange:o=>t("sourcingInfo","specsSheetTaken",o.target.value),children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Yes",children:"Yes"}),s.jsx("option",{value:"No",children:"No"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Lead Time Offered:"}),s.jsx("input",{type:"text",value:e.sourcingInfo.leadTimeOffered,onChange:o=>t("sourcingInfo","leadTimeOffered",o.target.value),placeholder:"e.g., 2-3 weeks"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Stock Available / Other:"}),s.jsx("input",{type:"text",value:e.sourcingInfo.stockAvailable,onChange:o=>t("sourcingInfo","stockAvailable",o.target.value),placeholder:"In stock, Back order, etc."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Quote Receiving Date:"}),s.jsx("input",{type:"date",value:e.sourcingInfo.quoteReceivingDate,onChange:o=>t("sourcingInfo","quoteReceivingDate",o.target.value)})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Quote Valid Till:"}),s.jsx("input",{type:"date",value:e.sourcingInfo.quoteValidTill,onChange:o=>t("sourcingInfo","quoteValidTill",o.target.value)})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Remaining Days (Formula Applied):"}),s.jsx("input",{type:"text",value:e.sourcingInfo.remainingDays,readOnly:!0,placeholder:"Auto-calculated",className:"readonly-field"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Item Same / Alternative:"}),s.jsxs("select",{value:e.sourcingInfo.itemSameAlternative,onChange:o=>t("sourcingInfo","itemSameAlternative",o.target.value),children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Same",children:"Same"}),s.jsx("option",{value:"Alternative",children:"Alternative"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Warranty Period:"}),s.jsx("input",{type:"text",value:e.sourcingInfo.warrantyPeriod,onChange:o=>t("sourcingInfo","warrantyPeriod",o.target.value),placeholder:"e.g., 1 year, 2 years"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"After Sales Support:"}),s.jsx("input",{type:"text",value:e.sourcingInfo.afterSalesSupport,onChange:o=>t("sourcingInfo","afterSalesSupport",o.target.value),placeholder:"Support details"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Support Period:"}),s.jsx("input",{type:"text",value:e.sourcingInfo.supportPeriod,onChange:o=>t("sourcingInfo","supportPeriod",o.target.value),placeholder:"Support period"})]}),s.jsxs("div",{className:"form-group form-group-full",children:[s.jsx("label",{children:"Warranty / Support Terms:"}),s.jsx("textarea",{value:e.sourcingInfo.warrantySupportTerms,onChange:o=>t("sourcingInfo","warrantySupportTerms",o.target.value),placeholder:"Warranty and support terms",rows:"3"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Estimated Shipping Cost $:"}),s.jsx("input",{type:"number",step:"0.01",value:e.sourcingInfo.estimatedShippingCost,onChange:o=>t("sourcingInfo","estimatedShippingCost",o.target.value),placeholder:"Enter shipping cost"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Applicable Taxes (If Any):"}),s.jsx("input",{type:"text",value:e.sourcingInfo.applicableTaxes,onChange:o=>t("sourcingInfo","applicableTaxes",o.target.value),placeholder:"Tax details"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Restocking Fees:"}),s.jsxs("div",{className:"inline-group",children:[s.jsxs("select",{value:e.sourcingInfo.restockingFees,onChange:o=>t("sourcingInfo","restockingFees",o.target.value),className:"inline-select",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Yes",children:"Yes"}),s.jsx("option",{value:"No",children:"No"})]}),e.sourcingInfo.restockingFees==="Yes"&&s.jsx("input",{type:"number",step:"0.01",value:e.sourcingInfo.restockingFeesPercentage,onChange:o=>t("sourcingInfo","restockingFeesPercentage",o.target.value),placeholder:"%",className:"inline-input"})]})]}),s.jsx("div",{className:"form-group form-group-full",children:s.jsx(gb,{vendorId:e.id,qmsId:i,onAttachmentsChange:l})}),s.jsxs("div",{className:"form-group form-group-full",children:[s.jsx("label",{children:"Remarks / Notes:"}),s.jsx("textarea",{value:e.sourcingInfo.remarks,onChange:o=>t("sourcingInfo","remarks",o.target.value),placeholder:"Additional remarks or notes",rows:"4"})]})]})]}),s.jsxs("div",{className:"pricing-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"💰"}),s.jsxs("h2",{children:["Pricing & Line Items - ",e.vendorName]}),e.isPrimary&&s.jsx("span",{className:"primary-indicator",children:"★ PRIMARY VENDOR"})]}),s.jsxs("div",{className:"line-items-container",children:[s.jsxs("div",{className:"line-items-header",children:[s.jsx("h3",{children:"Line Items"}),s.jsx("button",{type:"button",className:"btn-add-item",onClick:r,children:"➕ Add Line Item"})]}),s.jsx("div",{className:"line-items-table-container",children:s.jsxs("table",{className:"line-items-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"LINE ITEMS"}),s.jsx("th",{children:"QTY"}),s.jsx("th",{children:"UNIT PRICE"}),s.jsx("th",{children:"COST $"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:e.pricing.lineItems.map(o=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("input",{type:"text",value:o.description,onChange:c=>n(o.id,"description",c.target.value),placeholder:"Enter item description",className:"table-input description-input"})}),s.jsx("td",{children:s.jsx("input",{type:"number",value:o.qty,onChange:c=>n(o.id,"qty",c.target.value),placeholder:"0",className:"table-input qty-input",min:"0"})}),s.jsx("td",{children:s.jsx("input",{type:"number",step:"0.01",value:o.unitPrice,onChange:c=>n(o.id,"unitPrice",c.target.value),placeholder:"0.00",className:"table-input price-input",min:"0"})}),s.jsx("td",{children:s.jsxs("span",{className:"calculated-cost",children:["$",(o.cost||0).toFixed(2)]})}),s.jsx("td",{children:e.pricing.lineItems.length>1&&s.jsx("button",{type:"button",className:"btn-remove-item",onClick:()=>a(o.id),title:"Remove this line item",children:"🗑️"})})]},o.id))})]})})]}),s.jsxs("div",{className:"cost-breakdown",children:[s.jsx("h3",{children:"Cost Breakdown"}),s.jsxs("div",{className:"cost-breakdown-grid",children:[s.jsxs("div",{className:"cost-item total-row",children:[s.jsx("label",{children:"TOTAL:"}),s.jsxs("span",{className:"cost-value",children:["$",e.pricing.subtotal.toFixed(2)]})]}),s.jsxs("div",{className:"cost-item",children:[s.jsx("label",{children:"CC CHARGES (If Applicable):"}),s.jsx("input",{type:"number",step:"0.01",value:e.pricing.ccChargesAmount,onChange:o=>t("pricing","ccChargesAmount",o.target.value),placeholder:"0.00",className:"cost-input"})]}),s.jsxs("div",{className:"cost-item",children:[s.jsx("label",{children:"TAX (If Applicable):"}),s.jsx("input",{type:"number",step:"0.01",value:e.pricing.taxAmount,onChange:o=>t("pricing","taxAmount",o.target.value),placeholder:"0.00",className:"cost-input"})]}),s.jsxs("div",{className:"cost-item",children:[s.jsx("label",{children:"FREIGHT / LOGISTICS:"}),s.jsx("input",{type:"number",step:"0.01",value:e.pricing.freightLogistics,onChange:o=>t("pricing","freightLogistics",o.target.value),placeholder:"0.00",className:"cost-input"})]}),s.jsxs("div",{className:"cost-item",children:[s.jsx("label",{children:"EXTENDED WARRANTY (If Required):"}),s.jsx("input",{type:"number",step:"0.01",value:e.pricing.extendedWarranty,onChange:o=>t("pricing","extendedWarranty",o.target.value),placeholder:"0.00",className:"cost-input"})]}),s.jsxs("div",{className:"cost-item",children:[s.jsx("label",{children:"INSTALLATION:"}),s.jsx("input",{type:"number",step:"0.01",value:e.pricing.installation,onChange:o=>t("pricing","installation",o.target.value),placeholder:"0.00",className:"cost-input"})]}),s.jsxs("div",{className:"cost-item",children:[s.jsx("label",{children:"Restocking Fees %:"}),s.jsx("input",{type:"number",step:"0.01",value:e.pricing.restockingFeesAmount,onChange:o=>t("pricing","restockingFeesAmount",o.target.value),placeholder:"0.00",className:"cost-input"})]}),s.jsxs("div",{className:"cost-item",children:[s.jsx("label",{children:"OTHER:"}),s.jsx("input",{type:"number",step:"0.01",value:e.pricing.other1,onChange:o=>t("pricing","other1",o.target.value),placeholder:"0.00",className:"cost-input"})]}),s.jsxs("div",{className:"cost-item",children:[s.jsx("label",{children:"OTHER:"}),s.jsx("input",{type:"number",step:"0.01",value:e.pricing.other2,onChange:o=>t("pricing","other2",o.target.value),placeholder:"0.00",className:"cost-input"})]}),s.jsxs("div",{className:"cost-item grand-total-row",children:[s.jsx("label",{children:"GRAND TOTAL:"}),s.jsxs("span",{className:"cost-value grand-total",children:["$",e.pricing.grandTotal.toFixed(2)]})]}),s.jsxs("div",{className:"cost-item",children:[s.jsx("label",{children:"DISCOUNTS (IF ANY):"}),s.jsx("input",{type:"number",step:"0.01",value:e.pricing.discount1,onChange:o=>t("pricing","discount1",o.target.value),placeholder:"0.00",className:"cost-input"})]}),s.jsxs("div",{className:"cost-item",children:[s.jsx("label",{children:"DISCOUNTS (IF ANY):"}),s.jsx("input",{type:"number",step:"0.01",value:e.pricing.discount2,onChange:o=>t("pricing","discount2",o.target.value),placeholder:"0.00",className:"cost-input"})]}),s.jsxs("div",{className:"cost-item final-total-row",children:[s.jsx("label",{children:"FINAL GRAND TOTAL:"}),s.jsxs("span",{className:"cost-value final-total",children:["$",e.pricing.finalGrandTotal.toFixed(2)]})]})]})]})]})]})}),jb=()=>{var ge,Ne;const{id:e}=Kl(),t=Ds(),n=fr(),r="2025-07-31 00:05:41",a="Mike469-a11y",i=((ge=n.state)==null?void 0:ge.isRejectedRevision)||!1,l=((Ne=n.state)==null?void 0:Ne.rejectionData)||null,[o,c]=w.useState(null),[u,h]=w.useState(!0),[m,d]=w.useState(1),[y,C]=w.useState(!1),[g,F]=w.useState(!0),[p,f]=w.useState(!1),[j,E]=w.useState({vendors:[{id:1,vendorName:"Vendor 1",isPrimary:!0,sourcingInfo:{productServiceQuotedCost:"",vendorName:"",vendorWebsite:"",properQuotationGiven:"",vendorAddress:"",compliance:"",ccAccepted:"",netTermsAvailable:"",ccCharges:"",specsSheetTaken:"",leadTimeOffered:"",stockAvailable:"",quoteReceivingDate:"",quoteValidTill:"",remainingDays:"",itemSameAlternative:"",warrantyPeriod:"",afterSalesSupport:"",supportPeriod:"",warrantySupportTerms:"",estimatedShippingCost:"",applicableTaxes:"",restockingFees:"",restockingFeesPercentage:"",attachments:[],remarks:"",properQuotationGivenNew:"",riskAssessment:""},pricing:{lineItems:[{id:1,description:"",qty:"",unitPrice:"",cost:0}],subtotal:0,ccChargesAmount:0,taxAmount:0,freightLogistics:0,extendedWarranty:0,installation:0,restockingFeesAmount:0,other1:0,other2:0,grandTotal:0,discount1:0,discount2:0,finalGrandTotal:0}}]});w.useEffect(()=>{ze.initDB().then(()=>{R()})},[e]),w.useEffect(()=>{if(!g)return;const Y=setInterval(()=>{Z(!0)},3e4);return()=>clearInterval(Y)},[j,g]);const R=async()=>{try{const Y=localStorage.getItem("sourcingEntries");if(Y){const K=JSON.parse(Y).find(ee=>ee.id===e);if(K){c(K);const ee=await ze.getSourcingData(e);if(ee){E(ee);const fe=ee.vendors.find(Re=>Re.isPrimary);d(fe?fe.id:ee.vendors[0].id)}else if(K.sourcingData&&K.sourcingData.vendors){const fe={...K.sourcingData,vendors:K.sourcingData.vendors.map(me=>({...me,sourcingInfo:{...me.sourcingInfo,attachments:me.sourcingInfo.attachments||[]}}))};E(fe);const Re=fe.vendors.find(me=>me.isPrimary);d(Re?Re.id:fe.vendors[0].id)}}}}catch(Y){console.error("Error loading QMS entry:",Y)}finally{h(!1)}},N=w.useCallback(async()=>{try{const Y=localStorage.getItem("sourcingEntries");if(Y){const K=JSON.parse(Y).map(ee=>ee.id===e?{...ee,rejectionAcknowledged:!0,rejectionAcknowledgedBy:a,rejectionAcknowledgedAt:r,rejectionViewed:!0}:ee);localStorage.setItem("sourcingEntries",JSON.stringify(K)),c(ee=>({...ee,rejectionAcknowledged:!0,rejectionAcknowledgedBy:a,rejectionAcknowledgedAt:r,rejectionViewed:!0})),alert("✅ Rejection acknowledged. You can now proceed with the revision.")}}catch(Y){console.error("Error acknowledging rejection:",Y),alert("❌ Error acknowledging rejection. Please try again.")}},[e,a,r]),x=w.useMemo(()=>j.vendors.find(Y=>Y.id===m),[j.vendors,m]),v=w.useCallback(Y=>{Y!==m&&(C(!0),requestAnimationFrame(()=>{setTimeout(()=>{d(Y),C(!1)},150)}))},[m]),S=w.useCallback((Y,H,K)=>{E(ee=>({...ee,vendors:ee.vendors.map(fe=>{if(fe.id===m){const Re={...fe,[Y]:{...fe[Y],[H]:K}};if(H==="quoteValidTill"&&K){const me=new Date,dt=new Date(K)-me,Ie=Math.ceil(dt/(1e3*60*60*24));Re.sourcingInfo.remainingDays=Ie>0?Ie.toString():"0"}return Re}return fe})})),["ccChargesAmount","taxAmount","freightLogistics","extendedWarranty","installation","restockingFeesAmount","other1","other2","discount1","discount2"].includes(H)&&setTimeout(()=>$(),100)},[m]),D=w.useCallback(()=>{const Y=Math.max(...j.vendors.map(K=>K.id))+1,H={id:Y,vendorName:`Vendor ${Y}`,isPrimary:!1,sourcingInfo:{productServiceQuotedCost:"",vendorName:"",vendorWebsite:"",properQuotationGiven:"",vendorAddress:"",compliance:"",ccAccepted:"",netTermsAvailable:"",ccCharges:"",specsSheetTaken:"",leadTimeOffered:"",stockAvailable:"",quoteReceivingDate:"",quoteValidTill:"",remainingDays:"",itemSameAlternative:"",warrantyPeriod:"",afterSalesSupport:"",supportPeriod:"",warrantySupportTerms:"",estimatedShippingCost:"",applicableTaxes:"",restockingFees:"",restockingFeesPercentage:"",attachments:[],remarks:"",properQuotationGivenNew:"",riskAssessment:""},pricing:{lineItems:[{id:1,description:"",qty:"",unitPrice:"",cost:0}],subtotal:0,ccChargesAmount:0,taxAmount:0,freightLogistics:0,extendedWarranty:0,installation:0,restockingFeesAmount:0,other1:0,other2:0,grandTotal:0,discount1:0,discount2:0,finalGrandTotal:0}};E(K=>({...K,vendors:[...K.vendors,H]})),v(Y)},[j.vendors,v]),L=w.useCallback(Y=>{if(j.vendors.length>1){if(confirm("Are you sure you want to remove this vendor? This action cannot be undone.")){E(K=>({...K,vendors:K.vendors.filter(ee=>ee.id!==Y)}));const H=j.vendors.filter(K=>K.id!==Y);v(H[0].id)}}else alert("Cannot remove the last vendor. At least one vendor is required.")},[j.vendors,v]),B=w.useCallback(Y=>{const H=j.vendors.find(K=>K.id===Y);H&&E(K=>({...K,vendors:K.vendors.map(ee=>ee.id===m?{...ee,sourcingInfo:{...H.sourcingInfo,attachments:[]},pricing:{...H.pricing,lineItems:H.pricing.lineItems.map(fe=>({...fe}))}}:ee)}))},[j.vendors,m]),ne=w.useCallback(Y=>{E(H=>({...H,vendors:H.vendors.map(K=>({...K,isPrimary:K.id===Y}))}))},[]),je=w.useCallback((Y,H)=>{E(K=>({...K,vendors:K.vendors.map(ee=>ee.id===Y?{...ee,vendorName:H,sourcingInfo:{...ee.sourcingInfo,vendorName:H}}:ee)}))},[]),q=w.useCallback(()=>{const Y=j.vendors.find(K=>K.id===m),H=Math.max(...Y.pricing.lineItems.map(K=>K.id))+1;E(K=>({...K,vendors:K.vendors.map(ee=>ee.id===m?{...ee,pricing:{...ee.pricing,lineItems:[...ee.pricing.lineItems,{id:H,description:"",qty:"",unitPrice:"",cost:0}]}}:ee)}))},[j.vendors,m]),re=w.useCallback(Y=>{j.vendors.find(K=>K.id===m).pricing.lineItems.length>1&&(E(K=>({...K,vendors:K.vendors.map(ee=>ee.id===m?{...ee,pricing:{...ee.pricing,lineItems:ee.pricing.lineItems.filter(fe=>fe.id!==Y)}}:ee)})),setTimeout(()=>$(),50))},[j.vendors,m]),ue=w.useCallback((Y,H,K)=>{E(ee=>({...ee,vendors:ee.vendors.map(fe=>{if(fe.id===m){const Re=fe.pricing.lineItems.map(me=>{if(me.id===Y){const Je={...me,[H]:K};if(H==="qty"||H==="unitPrice"){const dt=parseFloat(H==="qty"?K:me.qty)||0,Ie=parseFloat(H==="unitPrice"?K:me.unitPrice)||0;Je.cost=dt*Ie}return Je}return me});return{...fe,pricing:{...fe.pricing,lineItems:Re}}}return fe})})),setTimeout(()=>$(),50)},[m]),$=w.useCallback(()=>{E(Y=>({...Y,vendors:Y.vendors.map(H=>{if(H.id===m){const K=H.pricing.lineItems.reduce((Lt,kt)=>Lt+(kt.cost||0),0),ee=parseFloat(H.pricing.ccChargesAmount)||0,fe=parseFloat(H.pricing.taxAmount)||0,Re=parseFloat(H.pricing.freightLogistics)||0,me=parseFloat(H.pricing.extendedWarranty)||0,Je=parseFloat(H.pricing.installation)||0,dt=parseFloat(H.pricing.restockingFeesAmount)||0,Ie=parseFloat(H.pricing.other1)||0,ft=parseFloat(H.pricing.other2)||0,It=K+ee+fe+Re+me+Je+dt+Ie+ft,gt=parseFloat(H.pricing.discount1)||0,Xe=parseFloat(H.pricing.discount2)||0,De=It-gt-Xe;return{...H,pricing:{...H.pricing,subtotal:K,grandTotal:It,finalGrandTotal:De}}}return H})}))},[m]),Z=w.useCallback(async(Y=!1)=>{if(!p)try{f(!0),await ze.saveSourcingData(e,j);const H=localStorage.getItem("sourcingEntries");if(H){const ee=JSON.parse(H).map(fe=>fe.id===e?{...fe,sourcingData:j,sourcingStarted:!0,lastUpdated:r}:fe);localStorage.setItem("sourcingEntries",JSON.stringify(ee)),Y||alert("✅ Sourcing data saved successfully to secure storage!")}}catch(H){console.error("Error saving sourcing data:",H),Y||alert("❌ Error saving data. Please try again.")}finally{f(!1)}},[e,j,r,p]),le=w.useCallback(async()=>{if(!p)try{f(!0),await ze.saveSourcingData(e,j);const Y=localStorage.getItem("sourcingEntries");if(Y){const K=JSON.parse(Y).map(ee=>ee.id===e?{...ee,sourcingData:j,sourcingStarted:!0,sourcingCompleted:!0,sourcingCompletedAt:r,status:"approval_pending",lastUpdated:r,completedBy:a}:ee);localStorage.setItem("sourcingEntries",JSON.stringify(K)),t("/sourcing")}}catch(Y){console.error("Error completing sourcing:",Y),alert("❌ Error completing sourcing. Please try again.")}finally{f(!1)}},[Z,t,e,j,r,a,p]);return u?s.jsx("div",{className:"sourcing-details-container",children:s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading sourcing details..."})]})}):o?s.jsxs("div",{className:"sourcing-details-container",children:[s.jsxs("div",{className:"sourcing-details-header",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Sourcing Details"}),s.jsxs("p",{children:["Job Details: ",s.jsx("strong",{children:r})]})]}),s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:a})]}),s.jsx("span",{className:"auto-save-indicator",children:g?"🔄 Auto-save ON":"⏸️ Auto-save OFF"}),p&&s.jsx("span",{className:"saving-indicator",children:"💾 Saving..."})]})]}),s.jsxs("div",{className:"sourcing-details-content",children:[i&&l||(o==null?void 0:o.status)==="approval_rejected"&&(o!=null&&o.rejectionReason)?s.jsxs("div",{className:"rejection-message-section",children:[s.jsxs("div",{className:"rejection-header",children:[s.jsx("div",{className:"rejection-icon",children:"❌"}),s.jsxs("div",{className:"rejection-title",children:[s.jsx("h2",{children:"Entry Rejected"}),s.jsx("p",{children:"This entry requires revision before resubmission"})]}),!(o!=null&&o.rejectionAcknowledged)&&s.jsx("button",{className:"btn-acknowledge-rejection",onClick:N,children:"✅ Acknowledge"})]}),s.jsxs("div",{className:"rejection-details-card",children:[s.jsxs("div",{className:"rejection-info-grid",children:[s.jsxs("div",{className:"rejection-info-item",children:[s.jsx("span",{className:"rejection-label",children:"Rejected By:"}),s.jsx("span",{className:"rejection-value",children:(l==null?void 0:l.rejectedBy)||(o==null?void 0:o.rejectedBy)||(o==null?void 0:o.approvedBy)||"N/A"})]}),s.jsxs("div",{className:"rejection-info-item",children:[s.jsx("span",{className:"rejection-label",children:"Rejection Date:"}),s.jsx("span",{className:"rejection-value",children:(l==null?void 0:l.rejectedAt)||(o==null?void 0:o.rejectedAt)||(o==null?void 0:o.approvedAt)||"N/A"})]}),s.jsxs("div",{className:"rejection-info-item",children:[s.jsx("span",{className:"rejection-label",children:"Status:"}),s.jsx("span",{className:"rejection-status-badge",children:o!=null&&o.rejectionAcknowledged?"✅ Acknowledged":"⏳ Needs Acknowledgment"})]})]}),s.jsxs("div",{className:"rejection-reason-card",children:[s.jsx("h4",{children:"📝 Rejection Reason:"}),s.jsx("div",{className:"rejection-reason-content",children:(l==null?void 0:l.reason)||(o==null?void 0:o.rejectionReason)||"No reason provided"})]}),s.jsxs("div",{className:"rejection-instructions",children:[s.jsx("h4",{children:"📋 Next Steps:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"✅ Review the rejection reason carefully"}),s.jsx("li",{children:"🔍 Address all issues mentioned in the rejection"}),s.jsx("li",{children:"📝 Make necessary changes to vendor information, pricing, or documentation"}),s.jsx("li",{children:"📤 Resubmit the revised sourcing for approval"})]})]}),(o==null?void 0:o.rejectionAcknowledged)&&s.jsx("div",{className:"acknowledgment-info",children:s.jsxs("p",{children:[s.jsx("strong",{children:"✅ Acknowledged by:"})," ",o.rejectionAcknowledgedBy,s.jsx("strong",{children:" at"})," ",o.rejectionAcknowledgedAt]})})]})]}):null,s.jsxs("div",{className:"qms-info-section-compressed",children:[s.jsxs("div",{className:"qms-header-compressed",children:[s.jsx("div",{className:"qms-icon",children:"📋"}),s.jsx("h2",{className:"qms-title-bold",children:"Original QMS Information"})]}),s.jsxs("div",{className:"qms-compact-grid",children:[s.jsxs("div",{className:"qms-row",children:[s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"QMS ID"}),s.jsx("span",{className:"qms-value",children:o.id||"Q0001"})]}),s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"DATE CREATED"}),s.jsx("span",{className:"qms-value",children:o.dateCreated||"N/A"})]}),s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"PORTAL NAME"}),s.jsx("span",{className:"qms-value",children:o.portalName||"dawdaw"})]})]}),s.jsxs("div",{className:"qms-row",children:[s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"PORTAL LINK"}),s.jsx("span",{className:"qms-value portal-link",children:o.portalLink||"adsda"})]}),s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"BID NUMBER"}),s.jsx("span",{className:"qms-value",children:o.bidNumber||"adsda"})]}),s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"BID TITLE"}),s.jsx("span",{className:"qms-value",children:o.bidTitle||"asdas"})]})]}),s.jsxs("div",{className:"qms-row",children:[s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"CATEGORY"}),s.jsx("span",{className:"qms-value",children:o.category||"dasd"})]}),s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"QUANTITY"}),s.jsx("span",{className:"qms-value",children:o.quantity||"4"})]}),s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"TIME STAMP"}),s.jsx("span",{className:"qms-value",children:o.timeStamp||"07/24/2025, 06:00 PM"})]})]}),s.jsxs("div",{className:"qms-row",children:[s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"DUE DATE"}),s.jsx("span",{className:"qms-value",children:o.dueDate||"07/23/2025"})]}),s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"HUNTER NAME"}),s.jsx("span",{className:"qms-value",children:o.hunterName||"Akmal Khan"})]}),s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"CONTACT NAME"}),s.jsx("span",{className:"qms-value",children:o.contactName||"DASDA"})]})]}),s.jsxs("div",{className:"qms-row",children:[s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"EMAIL"}),s.jsx("span",{className:"qms-value",children:o.email||"DASDA@CAFA.COM"})]}),s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"ASSIGNED DATE"}),s.jsx("span",{className:"qms-value",children:o.assignedDate||"07/26/2025"})]}),s.jsxs("div",{className:"qms-field",children:[s.jsx("span",{className:"qms-label",children:"ASSIGNED BY"}),s.jsx("span",{className:"qms-value",children:o.assignedBy||"Joe"})]})]}),s.jsx("div",{className:"qms-row qms-remarks-row",children:s.jsxs("div",{className:"qms-field qms-remarks-field",children:[s.jsx("span",{className:"qms-label",children:"HUNTING REMARKS"}),s.jsx("span",{className:"qms-value",children:o.huntingRemarks||"ASDADFAWD"})]})})]})]}),s.jsxs("div",{className:"vendor-tabs-section",children:[s.jsxs("div",{className:"vendor-tabs-header",children:[s.jsxs("div",{className:"vendor-tabs-left",children:[s.jsx("h2",{children:"🏢 Vendor Management"}),s.jsxs("span",{className:"vendor-count",children:[j.vendors.length," Vendor(s)"]})]}),s.jsx("div",{className:"vendor-tabs-actions",children:s.jsx("button",{className:"btn-add-vendor",onClick:D,children:"➕ Add Vendor"})})]}),s.jsx("div",{className:"vendor-tabs-container",children:j.vendors.map(Y=>s.jsx("div",{className:`vendor-tab ${m===Y.id?"active":""} ${Y.isPrimary?"primary":""}`,onClick:()=>v(Y.id),children:s.jsxs("div",{className:"vendor-tab-content",children:[s.jsxs("div",{className:"vendor-tab-name",children:[s.jsx("input",{type:"text",value:Y.vendorName,onChange:H=>je(Y.id,H.target.value),onClick:H=>H.stopPropagation(),className:"vendor-name-input"}),Y.isPrimary&&s.jsx("span",{className:"primary-badge",children:"★ PRIMARY"})]}),s.jsx("div",{className:"vendor-tab-actions",onClick:H=>H.stopPropagation(),children:s.jsxs("div",{className:"vendor-dropdown",children:[s.jsx("button",{className:"vendor-actions-btn",children:"⚙️"}),s.jsxs("div",{className:"vendor-dropdown-menu",children:[s.jsx("button",{onClick:()=>ne(Y.id),children:"⭐ Set as Primary"}),s.jsx("button",{onClick:()=>{const H=j.vendors.filter(K=>K.id!==Y.id);if(H.length>0){const K=prompt(`Copy data from vendor:
${H.map((ee,fe)=>`${fe+1}. ${ee.vendorName}`).join(`
`)}

Enter vendor number:`);if(K&&!isNaN(K)){const ee=parseInt(K)-1;ee>=0&&ee<H.length&&B(H[ee].id)}}},children:"📋 Copy Data From..."}),s.jsx("button",{onClick:()=>L(Y.id),className:"delete-action",children:"🗑️ Remove Vendor"})]})]})})]})},Y.id))})]}),y?s.jsxs("div",{className:"vendor-switching-loader",children:[s.jsx("div",{className:"vendor-switching-spinner"}),s.jsx("p",{children:"Loading vendor data..."})]}):x&&s.jsx(xb,{vendor:x,onUpdate:S,onLineItemUpdate:ue,onAddLineItem:q,onRemoveLineItem:re,qmsId:e},m),s.jsxs("div",{className:"action-buttons",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>t("/sourcing"),children:"← Back to Sourcing"}),s.jsx("button",{className:"btn-primary",onClick:()=>Z(),disabled:p,children:p?"💾 Saving...":"💾 Save Progress"}),s.jsx("button",{className:"btn-success",onClick:le,disabled:p,children:p?"🔄 Processing...":"✅ Save & Proceed to Sourcing Dashboard"})]})]})]}):s.jsx("div",{className:"sourcing-details-container",children:s.jsxs("div",{className:"error-container",children:[s.jsx("h2",{children:"Entry Not Found"}),s.jsx("p",{children:"The requested sourcing entry could not be found."}),s.jsx("button",{className:"btn-primary",onClick:()=>t("/sourcing"),children:"← Back to Sourcing"})]})})},Nb=()=>{var Lt,kt,Yt,Jt,k,G,ye,Le,Qe,rt,ut,ot,z,Me,he,we,Ae,pe,$e,Ft,xt,Ze,Ct,zt,Us,Mn,nn,On,rn,As,Ps,_n,Un,A,I,_,W,te,ve,be,ie,oe,ae,de,Se,Ee,T,M,Q;const e=Ds(),{reviewId:t}=Kl(),[n,r]=w.useState([]),[a,i]=w.useState(!0),[l,o]=w.useState("all"),[c,u]=w.useState(""),[h,m]=w.useState(!1),[d,y]=w.useState(null),[C,g]=w.useState(0),[F,p]=w.useState(!1),[f,j]=w.useState(null),[E,R]=w.useState(!1),[N,x]=w.useState({submissionDate:"",assignedPerson:"",vendorCost:0,shippingCost:0,ccCostPercent:0,ccCostAmount:0,totalCost:0,onePercentVendorCost:0,profitPercent:0,profitAmount:0,totalProfitAmount:0,taxAmount:0,submittedWithMargin:0,submittedBy:"",specialRemarks:""}),[v,S]=w.useState([]),[D,L]=w.useState(!1),[B,ne]=w.useState(!1),je="2025-08-01 17:50:24",q="Mike469-a11y",re=()=>{const b=new Date,P=b.getFullYear(),U=String(b.getMonth()+1).padStart(2,"0"),O=String(b.getDate()).padStart(2,"0"),X=Math.random().toString(36).substr(2,4).toUpperCase();return`ARCH-${P}-${U}-${O}-${X}`},ue=async b=>{try{const P={...b,archiveId:re(),submittedToArchiveAt:je,submittedToArchiveBy:q,isArchived:!0,finalSubmissionBy:N.submittedBy||q,finalSubmissionAt:je,finalSubmissionRemarks:N.specialRemarks||"",submissionCalculations:{submissionDate:N.submissionDate,assignedPerson:N.assignedPerson,vendorCost:N.vendorCost,shippingCost:N.shippingCost,ccCostPercent:N.ccCostPercent,ccCostAmount:N.ccCostAmount,totalCost:N.totalCost,onePercentVendorCost:N.onePercentVendorCost,profitPercent:N.profitPercent,profitAmount:N.profitAmount,totalProfitAmount:N.totalProfitAmount,taxAmount:N.taxAmount,submittedWithMargin:N.submittedWithMargin},submissionAttachments:v,workflowStages:[{stage:"hunting",completedAt:b.dateCreated||je,completedBy:b.hunterName||"N/A"},{stage:"sourcing",completedAt:b.sourcingCompletedAt||je,completedBy:b.sourcerName||"N/A"},{stage:"approval",completedAt:b.approvedAt||je,completedBy:b.approvedBy||"N/A"},{stage:"submission",completedAt:je,completedBy:q}]},U=localStorage.getItem("submittedDataEntries"),O=U?JSON.parse(U):[];return O.push(P),localStorage.setItem("submittedDataEntries",JSON.stringify(O)),console.log("✅ Entry successfully transferred to Submitted Data archive:",P.archiveId),P.archiveId}catch(P){throw console.error("❌ Error transferring to archive:",P),P}};w.useEffect(()=>{ze.initDB().catch(b=>{console.error("Failed to initialize IndexedDB:",b)})},[]),w.useEffect(()=>{window.location.pathname==="/submission"&&h&&(m(!1),y(null),g(0),p(!1),R(!1))},[window.location.pathname,h]),w.useEffect(()=>{const b=()=>{window.location.pathname.includes("/submission/review/")||window.location.pathname==="/submission"&&h&&dt()};return window.addEventListener("popstate",b),()=>window.removeEventListener("popstate",b)},[h]),w.useEffect(()=>{const b=()=>{var P,U;if(h&&((U=(P=d==null?void 0:d.sourcingData)==null?void 0:P.vendors)==null?void 0:U.length)>1){R(!0),p(!1),f&&clearTimeout(f);const O=setTimeout(()=>{R(!1),p(!0)},1500);j(O)}};return window.addEventListener("scroll",b),()=>{window.removeEventListener("scroll",b),f&&clearTimeout(f)}},[h,d,f]),w.useEffect(()=>{const b=P=>{var U;if(h&&((U=d==null?void 0:d.sourcingData)!=null&&U.vendors)){const O=d.sourcingData.vendors.length;P.key==="ArrowLeft"&&C>0?g(X=>X-1):P.key==="ArrowRight"&&C<O-1&&g(X=>X+1)}};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[h,d,C]),w.useEffect(()=>{var b,P,U,O;if(d&&((b=d.sourcingData)!=null&&b.vendors)){const X=d.sourcingData.vendors.find(se=>se.isPrimary)||d.sourcingData.vendors[0];if(X){const se=((P=X.pricing)==null?void 0:P.subtotal)||0,xe=((U=X.sourcingInfo)==null?void 0:U.estimatedShippingCost)||0,Oe=((O=X.sourcingInfo)==null?void 0:O.ccCharges)||0;x(Be=>{var at;return{...Be,submissionDate:new Date().toISOString().split("T")[0],assignedPerson:d.sourcerName||d.hunterName||"",vendorCost:se,shippingCost:xe,ccCostPercent:Oe,taxAmount:((at=X.pricing)==null?void 0:at.taxAmount)||0,submittedBy:q,profitPercent:10}})}}},[d,q]),w.useEffect(()=>{const b=parseFloat(N.vendorCost)||0,P=parseFloat(N.shippingCost)||0,U=parseFloat(N.ccCostPercent)||0,O=parseFloat(N.profitPercent)||0,X=parseFloat(N.taxAmount)||0,se=b*U/100,xe=b+P+se,Oe=b*.01,Be=b*O/100,at=Be+Oe,ke=xe+at+X;x(Ue=>({...Ue,ccCostAmount:se,totalCost:xe,onePercentVendorCost:Oe,profitAmount:Be,totalProfitAmount:at,submittedWithMargin:ke}))},[N.vendorCost,N.shippingCost,N.ccCostPercent,N.profitPercent,N.taxAmount]),w.useEffect(()=>{$(),t&&Je(t)},[t]);const $=()=>{try{const b=localStorage.getItem("submissionEntries");if(b){const P=JSON.parse(b);r(P)}}catch(b){console.error("Error loading submission entries:",b)}finally{i(!1)}},Z=b=>{const O=new Date(b.dueDate)-new Date,X=Math.ceil(O/(1e3*60*60*24));return b.isStarted||!1?X<0?"expired":X<=2?"urgent":b.submissionStatus:"not_started"},le=w.useMemo(()=>n.filter(b=>{var O,X,se,xe,Oe;let P=!0;if(l!=="all"){const Be=Z(b);l==="not_started"?P=Be==="not_started":l==="expired"?P=Be==="expired":l==="urgent"?P=Be==="urgent":P=b.submissionStatus===l}const U=((O=b.bidTitle)==null?void 0:O.toLowerCase().includes(c.toLowerCase()))||((X=b.bidNumber)==null?void 0:X.toLowerCase().includes(c.toLowerCase()))||((se=b.portalName)==null?void 0:se.toLowerCase().includes(c.toLowerCase()))||((xe=b.sourcerName)==null?void 0:xe.toLowerCase().includes(c.toLowerCase()))||((Oe=b.hunterName)==null?void 0:Oe.toLowerCase().includes(c.toLowerCase()));return P&&U}),[n,l,c]),ge=b=>{const P={pending_submission:{label:"Pending",class:"status-pending",icon:"📋"},processing:{label:"Processing",class:"status-processing",icon:"⚙️"},submitted:{label:"Submitted",class:"status-approved",icon:"✅"}},U=P[b]||P.pending_submission;return s.jsxs("span",{className:`status-badge ${U.class}`,children:[U.icon," ",U.label]})},Ne=b=>{var U;return(U=b.sourcingData)!=null&&U.vendors?b.sourcingData.vendors.find(O=>O.isPrimary)||b.sourcingData.vendors[0]:null},Y=b=>b!=null&&b.pricing&&(b.pricing.finalGrandTotal||b.pricing.grandTotal)||0,H=(b,P)=>{x(U=>({...U,[b]:P}))},K=async b=>{const P=Array.from(b),U=[];for(const O of P){if(O.size>10*1024*1024){alert(`❌ File "${O.name}" is too large. Maximum size is 10MB.`);continue}try{const se={id:`submission_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:O.name,type:O.type,size:`${(O.size/1024).toFixed(1)} KB`,file:O,uploadedAt:new Date().toISOString(),section:"submission"};await ze.saveAttachment(se),U.push(se),console.log("✅ File uploaded successfully:",O.name)}catch(X){console.error("❌ Error saving attachment:",X),alert(`❌ Error uploading "${O.name}": ${X.message}`)}}U.length>0&&(S(O=>[...O,...U]),alert(`✅ Successfully uploaded ${U.length} file(s)`))},ee=async b=>{try{await ze.deleteAttachment(b),S(P=>P.filter(U=>U.id!==b)),alert("🗑️ File removed successfully")}catch(P){console.error("Error removing attachment:",P),alert(`❌ Error removing file: ${P.message}`)}},fe=async()=>{if(!D)try{L(!0);const b=localStorage.getItem("submissionEntries");if(b){const P=JSON.parse(b),U=P.findIndex(O=>O.id===d.id);U!==-1&&(P[U]={...P[U],submissionStatus:"processing",submissionDetails:N,submissionAttachments:v,lastSaved:je,savedBy:q},localStorage.setItem("submissionEntries",JSON.stringify(P)),r(P),y(P[U]),alert("💾 Progress saved successfully!"))}}catch(b){console.error("Error saving progress:",b),alert("❌ Error saving progress. Please try again.")}finally{L(!1)}},Re=async()=>{if(!B){if(!N.submittedBy.trim()){alert('❌ Please enter the "Submitted By" field before submitting.');return}if(!N.submissionDate){alert("❌ Please select a submission date before submitting.");return}try{ne(!0);const b=localStorage.getItem("submissionEntries");if(b){const P=JSON.parse(b),U=P.findIndex(O=>O.id===d.id);if(U!==-1){const O={...P[U],submissionStatus:"submitted",submissionDetails:N,submissionAttachments:v,submittedAt:je,submittedBy:q};P[U]=O,localStorage.setItem("submissionEntries",JSON.stringify(P));try{const X=await ue(O);r(P),alert(`✅ Submission completed successfully!

📁 Entry archived with ID: ${X}

🗂️ You can now view this entry in the "Submitted Data" section.`),dt(),setTimeout(()=>{$()},100)}catch(X){console.error("❌ Error transferring to archive:",X),alert(`⚠️ Submission completed but failed to archive.

Entry status updated but not transferred to Submitted Data section.`),r(P),dt(),setTimeout(()=>{$()},100)}}}}catch(b){console.error("Error submitting:",b),alert("❌ Error submitting. Please try again.")}finally{ne(!1)}}},me=async b=>{if(window.confirm(`⚠️ Are you sure you want to delete this submission entry?

This action cannot be undone!`))try{const P=localStorage.getItem("submissionEntries");if(P){const O=JSON.parse(P).filter(X=>X.id!==b);localStorage.setItem("submissionEntries",JSON.stringify(O)),r(O),alert("🗑️ Entry deleted successfully!")}}catch(P){console.error("Error deleting entry:",P),alert("❌ Error deleting entry. Please try again.")}},Je=async b=>{try{i(!0);const P=localStorage.getItem("submissionEntries");if(P){const U=JSON.parse(P),O=U.findIndex(se=>se.id===b),X=U[O];X&&(X.isStarted||(X.isStarted=!0,U[O]=X,localStorage.setItem("submissionEntries",JSON.stringify(U)),r(U)),y(X),m(!0),g(0),p(!1),R(!1),X.submissionDetails&&x(X.submissionDetails),X.submissionAttachments?S(X.submissionAttachments):S([]),window.history.pushState({},"",`/submission/review/${b}`))}}catch(P){console.error("Error loading review data:",P),alert("❌ Error loading review data. Please try again.")}finally{i(!1)}},dt=()=>{m(!1),y(null),g(0),p(!1),R(!1),S([]),e("/submission"),setTimeout(()=>{$()},50)},Ie=()=>{g(b=>Math.max(0,b-1))},ft=()=>{var b;if((b=d==null?void 0:d.sourcingData)!=null&&b.vendors){const P=d.sourcingData.vendors.length-1;g(U=>Math.min(P,U+1))}},It=b=>{g(b)},gt=async(b,P)=>{try{console.log("📥 Downloading attachment:",b);let U="",O=b.name||`${P}_attachment`;if(typeof b=="string"){const se=await ze.getAttachment(b);if(se&&se.file)U=URL.createObjectURL(se.file),O=se.name||O;else throw new Error("File not found in IndexedDB")}else if(b.file&&b.file instanceof File)U=URL.createObjectURL(b.file),O=b.file.name||O;else if(b.file)U=URL.createObjectURL(b.file),O=b.name||O;else if(b.data){let se,xe=b.type||"application/octet-stream";if(typeof b.data=="string")try{const Be=b.data.includes(",")?b.data.split(",")[1]:b.data;se=Uint8Array.from(atob(Be),at=>at.charCodeAt(0))}catch{se=b.data,xe="text/plain"}else se=b.data;const Oe=new Blob([se],{type:xe});U=URL.createObjectURL(Oe)}else if(b.url)U=b.url;else throw new Error("No valid file data found");const X=document.createElement("a");X.href=U,X.download=O,X.style.display="none",document.body.appendChild(X),X.click(),document.body.removeChild(X),U.startsWith("blob:")&&setTimeout(()=>URL.revokeObjectURL(U),1e3),alert(`📥 Downloaded: ${O}`)}catch(U){console.error("❌ Error downloading file:",U),alert(`❌ Error downloading file: ${b.name||"Unknown"}

Error: ${U.message}`)}},Xe=async(b,P)=>{try{let U="",O=b.name||`${P}_attachment`;if(typeof b=="string"){const se=await ze.getAttachment(b);if(se&&se.file)U=URL.createObjectURL(se.file),O=se.name||O;else throw new Error("File not found in IndexedDB")}else if(b.file&&b.file instanceof File)U=URL.createObjectURL(b.file),O=b.file.name||O;else if(b.file)U=URL.createObjectURL(b.file),O=b.name||O;else if(b.data){let se,xe=b.type||"application/pdf";if(typeof b.data=="string")try{const Be=b.data.includes(",")?b.data.split(",")[1]:b.data;se=Uint8Array.from(atob(Be),at=>at.charCodeAt(0))}catch{se=b.data,xe="text/plain"}else se=b.data;const Oe=new Blob([se],{type:xe});U=URL.createObjectURL(Oe)}else if(b.url)U=b.url;else throw new Error("No valid file data found");const X=window.open(U,"_blank","width=1000,height=800,scrollbars=yes,resizable=yes");X?X.document.title=`Preview: ${O}`:alert(`❌ Preview blocked by browser popup blocker.

Please allow popups for this site and try again.`),U.startsWith("blob:")&&setTimeout(()=>URL.revokeObjectURL(U),6e4)}catch(U){console.error("❌ Error previewing file:",U),alert(`❌ Error previewing file: ${b.name||"Unknown"}

Error: ${U.message}`)}},De=async(b,P)=>{var O,X;if(!((O=b.sourcingInfo)!=null&&O.attachments)||b.sourcingInfo.attachments.length===0){alert("📭 No attachments found for this vendor.");return}const U=((X=b.sourcingInfo)==null?void 0:X.vendorName)||`Vendor_${P+1}`;try{for(let se=0;se<b.sourcingInfo.attachments.length;se++){const xe=b.sourcingInfo.attachments[se];setTimeout(async()=>{await gt(xe,U)},se*1e3)}alert(`📥 Downloading ${b.sourcingInfo.attachments.length} files from ${U}...`)}catch(se){console.error("❌ Error downloading all files:",se),alert(`❌ Error downloading files from ${U}: ${se.message}`)}};if(a)return s.jsx("div",{className:"submission-container",children:s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading submission entries..."})]})});if(h&&d){const b=((Lt=d.sourcingData)==null?void 0:Lt.vendors)||[],P=b[C],U=b.length;return s.jsxs("div",{className:"submission-container",children:[F&&U>1&&!E&&s.jsxs("div",{className:"floating-vendor-nav",children:[s.jsx("button",{className:"floating-nav-btn floating-prev",onClick:Ie,disabled:C===0,title:"Previous Vendor",children:"← Prev"}),s.jsxs("div",{className:"floating-nav-info",children:[C+1," of ",U]}),s.jsx("button",{className:"floating-nav-btn floating-next",onClick:ft,disabled:C===U-1,title:"Next Vendor",children:"Next →"})]}),s.jsxs("div",{className:"review-page-header",children:[s.jsxs("div",{className:"header-left",children:[s.jsxs("h1",{children:["📋 Sourcing Review - ",d.id]}),s.jsx("p",{children:"Complete sourcing details and vendor comparison"})]}),s.jsx("div",{className:"header-right",children:s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:q})]}),s.jsx("span",{className:"current-time",children:je})]})})]}),s.jsxs("div",{className:"review-page-content",children:[(d.status==="approval_approved"||d.status==="approval_rejected")&&s.jsxs("div",{className:"review-status-display",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"📋"}),s.jsx("h3",{children:"Approval Status"})]}),s.jsxs("div",{className:`status-display ${d.status}`,children:[s.jsx("span",{className:`status-badge ${d.status==="approval_approved"?"status-approved":"status-rejected"}`,children:d.status==="approval_approved"?"✅ Approved":"❌ Rejected"}),s.jsxs("div",{className:"status-details",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",d.approvedAt||d.rejectedAt||"N/A"]}),d.status==="approval_approved"&&d.approvalRemarks&&s.jsxs("div",{className:"approval-remarks-display",children:[s.jsx("p",{children:s.jsx("strong",{children:"Approval Remarks:"})}),s.jsx("div",{className:"approval-remarks-text",children:d.approvalRemarks})]}),d.rejectionReason&&s.jsxs("div",{className:"rejection-reason-display",children:[s.jsx("p",{children:s.jsx("strong",{children:"Rejection Reason:"})}),s.jsx("div",{className:"rejection-reason-text",children:d.rejectionReason})]})]})]})]}),s.jsxs("div",{className:"review-section qms-section-compact",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"📋"}),s.jsx("h3",{children:"Original QMS Information"})]}),s.jsxs("div",{className:"qms-compact-grid",children:[s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Entry ID:"}),s.jsx("span",{className:"qms-value",children:d.id})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Sourcer:"}),s.jsx("span",{className:"qms-value",children:d.sourcerName||d.hunterName||"Not Assigned"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Bid Title:"}),s.jsx("span",{className:"qms-value",children:d.bidTitle||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Portal:"}),s.jsx("span",{className:"qms-value",children:d.portalName||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Bid Number:"}),s.jsx("span",{className:"qms-value",children:d.bidNumber||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Category:"}),s.jsx("span",{className:"qms-value",children:d.category||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Quantity:"}),s.jsx("span",{className:"qms-value",children:d.quantity||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Due Date:"}),s.jsx("span",{className:"qms-value",children:d.dueDate||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Created:"}),s.jsx("span",{className:"qms-value",children:d.dateCreated||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Assigned By:"}),s.jsx("span",{className:"qms-value",children:d.assignedBy||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Contact:"}),s.jsx("span",{className:"qms-value",children:d.contactName||"N/A"})]}),s.jsxs("div",{className:"qms-compact-item",children:[s.jsx("span",{className:"qms-label",children:"Email:"}),s.jsx("span",{className:"qms-value",children:d.email||"N/A"})]}),(d.sourcingRemarks||d.huntingRemarks)&&s.jsxs("div",{className:"qms-compact-item qms-full-width",children:[s.jsx("span",{className:"qms-label",children:"Remarks:"}),s.jsx("span",{className:"qms-value",children:d.sourcingRemarks||d.huntingRemarks})]})]})]}),b.length>0&&s.jsxs("div",{className:"review-section vendor-carousel-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"🏢"}),s.jsxs("h3",{children:["Vendor Details (",U," Vendor",U>1?"s":"",")"]})]}),s.jsxs("div",{className:"vendor-carousel-container",children:[s.jsxs("div",{className:"carousel-header",children:[s.jsx("button",{className:"carousel-nav-btn carousel-prev",onClick:Ie,disabled:C===0,title:"Previous Vendor (← Arrow Key)",children:"← Previous"}),s.jsxs("div",{className:"carousel-title",children:[s.jsxs("h4",{children:["Vendor ",C+1," of ",U,(P==null?void 0:P.isPrimary)&&s.jsx("span",{className:"primary-badge",children:"⭐ PRIMARY"})]}),s.jsx("div",{className:"vendor-name-display",children:((kt=P==null?void 0:P.sourcingInfo)==null?void 0:kt.vendorName)||(P==null?void 0:P.vendorName)||"Unknown Vendor"})]}),s.jsx("button",{className:"carousel-nav-btn carousel-next",onClick:ft,disabled:C===U-1,title:"Next Vendor (→ Arrow Key)",children:"Next →"})]}),s.jsx("div",{className:"carousel-indicators",children:b.map((O,X)=>s.jsx("button",{className:`carousel-indicator ${X===C?"active":""}`,onClick:()=>It(X),title:`Go to Vendor ${X+1}`,children:X===C?"●":"○"},X))}),P&&s.jsxs("div",{className:"carousel-vendor-content",children:[s.jsxs("div",{className:"sourcing-info-card",children:[s.jsx("h5",{children:"📋 Sourcing Information"}),s.jsxs("div",{className:"sourcing-fields-list",children:[s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Vendor Name:"}),s.jsx("span",{className:"field-value-compact",children:((Yt=P.sourcingInfo)==null?void 0:Yt.vendorName)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Quoted Cost:"}),s.jsxs("span",{className:"field-value-compact cost-value",children:["$",((Jt=P.sourcingInfo)==null?void 0:Jt.productServiceQuotedCost)||"0.00"]})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Website:"}),s.jsx("span",{className:"field-value-compact website-link",children:((k=P.sourcingInfo)==null?void 0:k.vendorWebsite)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact full-width-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Vendor Address:"}),s.jsx("span",{className:"field-value-compact",children:((G=P.sourcingInfo)==null?void 0:G.vendorAddress)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Proper Quotation:"}),s.jsx("span",{className:"field-value-compact",children:((ye=P.sourcingInfo)==null?void 0:ye.properQuotationGiven)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Proper Quotation (Vendor):"}),s.jsx("span",{className:"field-value-compact",children:((Le=P.sourcingInfo)==null?void 0:Le.properQuotationGivenNew)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Risk Assessment:"}),s.jsx("span",{className:`field-value-compact risk-indicator risk-${(ut=(rt=(Qe=P.sourcingInfo)==null?void 0:Qe.riskAssessment)==null?void 0:rt.toLowerCase())==null?void 0:ut.replace(" ","-")}`,children:((ot=P.sourcingInfo)==null?void 0:ot.riskAssessment)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Compliance:"}),s.jsx("span",{className:"field-value-compact",children:((z=P.sourcingInfo)==null?void 0:z.compliance)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"CC Accepted:"}),s.jsx("span",{className:"field-value-compact",children:((Me=P.sourcingInfo)==null?void 0:Me.ccAccepted)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"NET Terms:"}),s.jsx("span",{className:"field-value-compact",children:((he=P.sourcingInfo)==null?void 0:he.netTermsAvailable)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"CC Charges:"}),s.jsxs("span",{className:"field-value-compact",children:[((we=P.sourcingInfo)==null?void 0:we.ccCharges)||"N/A","%"]})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Specs Sheet Taken:"}),s.jsx("span",{className:"field-value-compact",children:((Ae=P.sourcingInfo)==null?void 0:Ae.specsSheetTaken)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Lead Time:"}),s.jsx("span",{className:"field-value-compact",children:((pe=P.sourcingInfo)==null?void 0:pe.leadTimeOffered)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Stock Available:"}),s.jsx("span",{className:"field-value-compact",children:(($e=P.sourcingInfo)==null?void 0:$e.stockAvailable)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Quote Receiving Date:"}),s.jsx("span",{className:"field-value-compact",children:((Ft=P.sourcingInfo)==null?void 0:Ft.quoteReceivingDate)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Quote Valid Till:"}),s.jsx("span",{className:"field-value-compact",children:((xt=P.sourcingInfo)==null?void 0:xt.quoteValidTill)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Remaining Days:"}),s.jsx("span",{className:"field-value-compact",children:((Ze=P.sourcingInfo)==null?void 0:Ze.remainingDays)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Item Same/Alternative:"}),s.jsx("span",{className:"field-value-compact",children:((Ct=P.sourcingInfo)==null?void 0:Ct.itemSameAlternative)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Warranty:"}),s.jsx("span",{className:"field-value-compact",children:((zt=P.sourcingInfo)==null?void 0:zt.warrantyPeriod)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"After Sales Support:"}),s.jsx("span",{className:"field-value-compact",children:((Us=P.sourcingInfo)==null?void 0:Us.afterSalesSupport)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Support Period:"}),s.jsx("span",{className:"field-value-compact",children:((Mn=P.sourcingInfo)==null?void 0:Mn.supportPeriod)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact full-width-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Warranty/Support Terms:"}),s.jsx("span",{className:"field-value-compact",children:((nn=P.sourcingInfo)==null?void 0:nn.warrantySupportTerms)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Shipping Cost:"}),s.jsxs("span",{className:"field-value-compact cost-value",children:["$",((On=P.sourcingInfo)==null?void 0:On.estimatedShippingCost)||"0.00"]})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Applicable Taxes:"}),s.jsx("span",{className:"field-value-compact",children:((rn=P.sourcingInfo)==null?void 0:rn.applicableTaxes)||"N/A"})]}),s.jsxs("div",{className:"sourcing-field-compact",children:[s.jsx("span",{className:"field-label-compact",children:"Restocking Fees:"}),s.jsxs("span",{className:"field-value-compact",children:[((As=P.sourcingInfo)==null?void 0:As.restockingFees)||"N/A",((Ps=P.sourcingInfo)==null?void 0:Ps.restockingFees)==="Yes"&&((_n=P.sourcingInfo)==null?void 0:_n.restockingFeesPercentage)&&` (${P.sourcingInfo.restockingFeesPercentage}%)`]})]})]})]}),s.jsxs("div",{className:"pricing-card",children:[s.jsx("h5",{children:"💰 Pricing & Line Items"}),((Un=P.pricing)==null?void 0:Un.lineItems)&&P.pricing.lineItems.length>0&&s.jsxs("div",{className:"line-items-compact",children:[s.jsx("h6",{children:"Line Items"}),s.jsx("div",{className:"line-items-list",children:P.pricing.lineItems.map((O,X)=>s.jsxs("div",{className:"line-item-row",children:[s.jsx("div",{className:"line-item-desc",children:O.description||"N/A"}),s.jsxs("div",{className:"line-item-details",children:["Qty: ",O.qty||"0"," | Unit: $",O.unitPrice||"0.00"," | Total: $",(O.cost||0).toFixed(2)]})]},O.id||X))})]}),s.jsxs("div",{className:"cost-breakdown-compact",children:[s.jsx("h6",{children:"Cost Breakdown"}),s.jsxs("div",{className:"breakdown-list",children:[s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",(((A=P.pricing)==null?void 0:A.subtotal)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"CC Charges:"}),s.jsxs("span",{children:["$",(((I=P.pricing)==null?void 0:I.ccChargesAmount)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Tax:"}),s.jsxs("span",{children:["$",(((_=P.pricing)==null?void 0:_.taxAmount)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Freight:"}),s.jsxs("span",{children:["$",(((W=P.pricing)==null?void 0:W.freightLogistics)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Extended Warranty:"}),s.jsxs("span",{children:["$",(((te=P.pricing)==null?void 0:te.extendedWarranty)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Installation:"}),s.jsxs("span",{children:["$",(((ve=P.pricing)==null?void 0:ve.installation)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Restocking Fees:"}),s.jsxs("span",{children:["$",(((be=P.pricing)==null?void 0:be.restockingFeesAmount)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Other 1:"}),s.jsxs("span",{children:["$",(((ie=P.pricing)==null?void 0:ie.other1)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Other 2:"}),s.jsxs("span",{children:["$",(((oe=P.pricing)==null?void 0:oe.other2)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact grand-total-compact",children:[s.jsx("span",{children:"Grand Total:"}),s.jsxs("span",{children:["$",(((ae=P.pricing)==null?void 0:ae.grandTotal)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Discount 1:"}),s.jsxs("span",{children:["-$",(((de=P.pricing)==null?void 0:de.discount1)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact",children:[s.jsx("span",{children:"Discount 2:"}),s.jsxs("span",{children:["-$",(((Se=P.pricing)==null?void 0:Se.discount2)||0).toFixed(2)]})]}),s.jsxs("div",{className:"breakdown-item-compact final-total-compact",children:[s.jsx("span",{children:"Final Total:"}),s.jsxs("span",{children:["$",(((Ee=P.pricing)==null?void 0:Ee.finalGrandTotal)||0).toFixed(2)]})]})]})]})]}),((T=P.sourcingInfo)==null?void 0:T.remarks)&&s.jsxs("div",{className:"sourcing-info-card",style:{marginTop:"20px"},children:[s.jsx("h5",{children:"📝 Vendor Remarks/Notes"}),s.jsx("div",{className:"sourcing-fields-list",children:s.jsxs("div",{className:"sourcing-field-compact full-width-compact",children:[s.jsx("span",{className:"field-label-compact",children:"🆕 Remarks / Notes:"}),s.jsx("span",{className:"field-value-compact",children:P.sourcingInfo.remarks})]})})]})]})]})]}),b.length>0&&((M=P==null?void 0:P.sourcingInfo)==null?void 0:M.attachments)&&P.sourcingInfo.attachments.length>0&&s.jsxs("div",{className:"review-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"📎"}),s.jsxs("h3",{children:["Vendor Attachments - ",((Q=P.sourcingInfo)==null?void 0:Q.vendorName)||`Vendor ${C+1}`]})]}),s.jsxs("div",{className:"attachments-card",children:[s.jsxs("div",{className:"attachments-header",children:[s.jsxs("h6",{children:["📎 Attachments (",P.sourcingInfo.attachments.length,")"]}),s.jsx("button",{className:"btn-download-all",onClick:()=>De(P,C),title:"Download all files",children:"📥 Download All"})]}),s.jsx("div",{className:"attachments-list-compact",children:P.sourcingInfo.attachments.map((O,X)=>{var se,xe,Oe,Be,at,ke,Ue,ls;return s.jsxs("div",{className:"attachment-item-compact",children:[s.jsxs("div",{className:"attachment-info-compact",children:[s.jsxs("div",{className:"attachment-name-compact",children:[O.name||((se=O.file)==null?void 0:se.name)||`File ${X+1}`,(O.type||((xe=O.file)==null?void 0:xe.type))&&s.jsxs("span",{className:"file-type-indicator",children:["(",(Be=(O.type||((Oe=O.file)==null?void 0:Oe.type)).split("/")[1])==null?void 0:Be.toUpperCase(),")"]})]}),s.jsxs("div",{className:"attachment-details-compact",children:[s.jsx("span",{className:"attachment-size-compact",children:O.size||((at=O.file)==null?void 0:at.size)||"Unknown size"}),s.jsx("span",{className:"attachment-type-compact",children:O.type||((ke=O.file)==null?void 0:ke.type)||"Unknown type"})]})]}),s.jsxs("div",{className:"attachment-actions-compact",children:[s.jsx("button",{className:"btn-preview-file",onClick:()=>{var qt;return Xe(O,((qt=P.sourcingInfo)==null?void 0:qt.vendorName)||`Vendor ${C+1}`)},title:`Preview ${O.name||((Ue=O.file)==null?void 0:Ue.name)||"file"}`,children:"👁️"}),s.jsx("button",{className:"btn-download-file",onClick:()=>{var qt;return gt(O,((qt=P.sourcingInfo)==null?void 0:qt.vendorName)||`Vendor ${C+1}`)},title:`Download ${O.name||((ls=O.file)==null?void 0:ls.name)||"file"}`,children:"📥"})]})]},X)})})]})]}),s.jsxs("div",{className:"review-section submission-details-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("div",{className:"section-icon",children:"📊"}),s.jsx("h3",{children:"Submission Details & Calculations"})]}),s.jsxs("div",{className:"submission-details-form",children:[s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"📅 Submission Date"}),s.jsx("input",{type:"date",value:N.submissionDate,onChange:O=>H("submissionDate",O.target.value),className:"submission-input"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"👤 Assigned Person"}),s.jsx("input",{type:"text",value:N.assignedPerson,onChange:O=>H("assignedPerson",O.target.value),className:"submission-input",placeholder:"Enter assigned person name"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"💰 Vendor Cost (Line Items Total)"}),s.jsx("input",{type:"number",value:N.vendorCost,onChange:O=>H("vendorCost",O.target.value),className:"submission-input auto-calculated",step:"0.01"}),s.jsx("span",{className:"field-note",children:"Auto-fetched from sourcing data"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"🚚 Shipping Cost"}),s.jsx("input",{type:"number",value:N.shippingCost,onChange:O=>H("shippingCost",O.target.value),className:"submission-input",step:"0.01",placeholder:"0.00"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"💳 Credit Card Cost (%)"}),s.jsx("input",{type:"number",value:N.ccCostPercent,onChange:O=>H("ccCostPercent",O.target.value),className:"submission-input",step:"0.01",placeholder:"0.00"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"💳 Credit Card Cost (Amount)"}),s.jsx("input",{type:"number",value:N.ccCostAmount.toFixed(2),readOnly:!0,className:"submission-input auto-calculated",step:"0.01"}),s.jsx("span",{className:"field-note",children:"Auto-calculated: Vendor Cost × CC %"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"💵 TOTAL COST"}),s.jsx("input",{type:"number",value:N.totalCost.toFixed(2),readOnly:!0,className:"submission-input auto-calculated total-field",step:"0.01"}),s.jsx("span",{className:"field-note",children:"Auto-calculated: Vendor Cost + Shipping + CC Amount"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"📊 1% of Vendor Cost"}),s.jsx("input",{type:"number",value:N.onePercentVendorCost.toFixed(2),readOnly:!0,className:"submission-input auto-calculated",step:"0.01"}),s.jsx("span",{className:"field-note",children:"Auto-calculated: Vendor Cost × 1%"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"📈 PROFIT %"}),s.jsx("input",{type:"number",value:N.profitPercent,onChange:O=>H("profitPercent",O.target.value),className:"submission-input",step:"0.01",placeholder:"10.00"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"💲 PROFIT $"}),s.jsx("input",{type:"number",value:N.profitAmount.toFixed(2),readOnly:!0,className:"submission-input auto-calculated",step:"0.01"}),s.jsx("span",{className:"field-note",children:"Auto-calculated: Vendor Cost × Profit %"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"💎 Total Profit Amount"}),s.jsx("input",{type:"number",value:N.totalProfitAmount.toFixed(2),readOnly:!0,className:"submission-input auto-calculated total-field",step:"0.01"}),s.jsx("span",{className:"field-note",children:"Auto-calculated: PROFIT $ + 1% of Vendor Cost"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"🏛️ TAX Amount"}),s.jsx("input",{type:"number",value:N.taxAmount,onChange:O=>H("taxAmount",O.target.value),className:"submission-input",step:"0.01",placeholder:"0.00"})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"🎯 Submitted with Margin"}),s.jsx("input",{type:"number",value:N.submittedWithMargin.toFixed(2),readOnly:!0,className:"submission-input auto-calculated final-total",step:"0.01"}),s.jsx("span",{className:"field-note",children:"Auto-calculated: Total Cost + Total Profit + TAX"})]}),s.jsxs("div",{className:"submission-field full-width",children:[s.jsx("label",{className:"submission-label",children:"📎 Attachments"}),s.jsxs("div",{className:"submission-attachments-card",children:[s.jsxs("div",{className:"submission-upload-area",onDrop:O=>{O.preventDefault(),K(O.dataTransfer.files)},onDragOver:O=>O.preventDefault(),onClick:()=>document.getElementById("submission-file-input").click(),children:[s.jsx("div",{className:"submission-upload-icon",children:"📎"}),s.jsx("div",{className:"submission-upload-text",children:"Drag & drop files here or click to browse"}),s.jsx("div",{className:"submission-upload-note",children:"Supported: PDF, Excel, Word, Images (max 10MB each)"}),s.jsx("button",{type:"button",className:"submission-browse-btn",children:"Browse Files"})]}),s.jsx("input",{id:"submission-file-input",type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif",onChange:O=>K(O.target.files),style:{display:"none"}}),v.length>0&&s.jsxs("div",{className:"submission-uploaded-files",children:[s.jsxs("h6",{children:["Uploaded Files (",v.length,"):"]}),s.jsx("div",{className:"submission-file-list",children:v.map((O,X)=>{var se,xe;return s.jsxs("div",{className:"submission-file-item",children:[s.jsxs("div",{className:"submission-file-info",children:[s.jsxs("div",{className:"submission-file-name",children:["📄 ",O.name,s.jsxs("span",{className:"submission-file-type",children:["(",(xe=(se=O.type)==null?void 0:se.split("/")[1])==null?void 0:xe.toUpperCase(),")"]})]}),s.jsx("div",{className:"submission-file-size",children:O.size})]}),s.jsxs("div",{className:"submission-file-actions",children:[s.jsx("button",{type:"button",className:"submission-btn-preview",onClick:()=>Xe(O,"Submission"),title:`Preview ${O.name}`,children:"👁️"}),s.jsx("button",{type:"button",className:"submission-btn-download",onClick:()=>gt(O,"Submission"),title:`Download ${O.name}`,children:"📥"}),s.jsx("button",{type:"button",className:"submission-btn-remove",onClick:()=>ee(O.id),title:`Remove ${O.name}`,children:"🗑️"})]})]},O.id||X)})})]})]})]}),s.jsxs("div",{className:"submission-field",children:[s.jsx("label",{className:"submission-label",children:"✍️ Submitted By"}),s.jsx("input",{type:"text",value:N.submittedBy,onChange:O=>H("submittedBy",O.target.value),className:"submission-input",placeholder:"Enter submitter name"})]}),s.jsxs("div",{className:"submission-field full-width",children:[s.jsx("label",{className:"submission-label",children:"📝 SPECIAL SUBMISSION REMARKS"}),s.jsx("textarea",{value:N.specialRemarks,onChange:O=>H("specialRemarks",O.target.value),className:"submission-textarea",placeholder:"Enter any special remarks or notes for this submission...",rows:"4"})]})]}),s.jsxs("div",{className:"submission-action-buttons",children:[s.jsx("button",{className:"btn-save-progress",onClick:fe,disabled:D,children:D?"💾 Saving...":"💾 Save Progress"}),s.jsx("button",{className:"btn-submit-final",onClick:Re,disabled:B,children:B?"📤 Submitting...":"📤 Submit"})]})]})]}),s.jsx("div",{className:"review-page-navigation",children:s.jsx("button",{className:"btn-back-to-approval",onClick:dt,children:"← Back to Submission Dashboard"})})]})}return s.jsxs("div",{className:"submission-container",children:[s.jsxs("div",{className:"submission-header",children:[s.jsxs("div",{className:"header-left",children:[s.jsx("h1",{children:"📤 Submission Dashboard"}),s.jsx("p",{children:"Manage final submissions and documentation processes"})]}),s.jsx("div",{className:"header-right",children:s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:q})]}),s.jsx("span",{className:"current-time",children:je})]})})]}),s.jsxs("div",{className:"approval-filters",children:[s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"Filter by Status:"}),s.jsxs("select",{value:l,onChange:b=>o(b.target.value),className:"filter-select",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"pending_submission",children:"Pending Submission"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"submitted",children:"Submitted"}),s.jsx("option",{value:"not_started",children:"Not Started"}),s.jsx("option",{value:"expired",children:"Expired"}),s.jsx("option",{value:"urgent",children:"Urgent"})]})]}),s.jsxs("div",{className:"search-group",children:[s.jsx("label",{children:"Search:"}),s.jsx("input",{type:"text",placeholder:"Search by bid title, number, portal, or sourcer...",value:c,onChange:b=>u(b.target.value),className:"search-input"})]}),s.jsx("button",{className:"btn-refresh",onClick:$,children:"🔄 Refresh"})]}),s.jsxs("div",{className:"approval-stats",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"📊"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:le.length}),s.jsx("p",{children:"Total Entries"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"📋"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:n.filter(b=>b.submissionStatus==="pending_submission").length}),s.jsx("p",{children:"Pending"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"⚙️"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:n.filter(b=>b.submissionStatus==="processing").length}),s.jsx("p",{children:"Processing"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"✅"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:n.filter(b=>b.submissionStatus==="submitted").length}),s.jsx("p",{children:"Submitted"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"🆕"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:n.filter(b=>Z(b)==="not_started").length}),s.jsx("p",{children:"Not Started"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"⏰"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:n.filter(b=>Z(b)==="expired").length}),s.jsx("p",{children:"Expired"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"🚨"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:n.filter(b=>Z(b)==="urgent").length}),s.jsx("p",{children:"Urgent"})]})]})]}),s.jsx("div",{className:"submission-table-container",children:le.length===0?s.jsxs("div",{className:"no-entries",children:[s.jsx("div",{className:"no-entries-icon",children:"📭"}),s.jsx("h3",{children:"No Submission Entries Found"}),s.jsx("p",{children:n.length===0?"No entries have been submitted for processing yet. Approved entries from the Approval section will appear here.":"No entries match your current filter criteria."}),n.length===0&&s.jsx("p",{className:"help-text",children:"Entries will appear here once they are submitted from the Approval Dashboard."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"submission-table-header",children:[s.jsx("div",{className:"submission-header-cell",children:"QMS ID"}),s.jsx("div",{className:"submission-header-cell",children:"Sourcer"}),s.jsx("div",{className:"submission-header-cell",children:"Due Date"}),s.jsx("div",{className:"submission-header-cell",children:"Due Status"}),s.jsx("div",{className:"submission-header-cell",children:"Priority"}),s.jsx("div",{className:"submission-header-cell",children:"Days Left"}),s.jsx("div",{className:"submission-header-cell",children:"Vendor Info"}),s.jsx("div",{className:"submission-header-cell",children:"Status"}),s.jsx("div",{className:"submission-header-cell",children:"Total Value"}),s.jsx("div",{className:"submission-header-cell",children:"Actions"})]}),le.map(b=>{var ls,qt,et,$s,sa,oi,Hd,Kd,Gd;const P=Ne(b),U=P?Y(P):0,se=new Date(b.dueDate)-new Date,xe=Math.ceil(se/(1e3*60*60*24)),Oe=()=>xe<0?{label:"Overdue",class:"due-overdue"}:xe===0?{label:"Due Today",class:"due-today"}:xe<=3?{label:"Due Soon",class:"due-soon"}:{label:"On Time",class:"due-ontime"},Be=()=>xe<0?{label:"Expired",class:"priority-expired",icon:"🔴"}:xe<=2?{label:"Urgent",class:"priority-urgent",icon:"🟠"}:xe<=4?{label:"Medium",class:"priority-medium",icon:"🟡"}:{label:"Normal",class:"priority-normal",icon:"🟢"},at=()=>{if(xe<0){const Yd=Math.abs(xe);return`${Yd} ${Yd===1?"day":"days"} overdue`}return xe===0?"Due today":`${xe} ${xe===1?"day":"days"} left`},ke=Oe(),Ue=Be();return s.jsxs("div",{className:"submission-table-row",children:[s.jsx("div",{className:"submission-cell qms-id-cell",children:s.jsx("div",{className:"qms-id",children:b.id})}),s.jsx("div",{className:"submission-cell sourcer-cell",children:s.jsxs("div",{className:"sourcer-name",children:["👤 ",b.sourcerName||b.hunterName||"Not Assigned"]})}),s.jsx("div",{className:"submission-cell due-date-cell",children:s.jsxs("div",{className:"due-date",children:["📅 ",b.dueDate||"N/A"]})}),s.jsx("div",{className:"submission-cell due-status-cell",children:s.jsx("span",{className:`due-status-badge ${ke.class}`,children:ke.label})}),s.jsx("div",{className:"submission-cell priority-cell",children:s.jsxs("span",{className:`priority-badge ${Ue.class}`,children:[Ue.icon," ",Ue.label]})}),s.jsx("div",{className:"submission-cell days-left-cell",children:s.jsx("div",{className:`days-left ${xe<0?"negative":xe<=2?"warning":"normal"}`,children:at()})}),s.jsx("div",{className:"submission-cell vendor-info",children:P?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"vendor-name",children:((ls=P.sourcingInfo)==null?void 0:ls.vendorName)||"Unknown"}),s.jsxs("div",{className:"vendor-details",children:[s.jsxs("div",{className:"vendor-website",children:["🌐 ",((qt=P.sourcingInfo)==null?void 0:qt.vendorWebsite)||"N/A"]}),s.jsxs("div",{className:"vendor-items",children:["📦 ",(($s=(et=b.sourcingData)==null?void 0:et.vendors)==null?void 0:$s.length)||0," vendor(s)"]}),s.jsxs("div",{className:"vendor-attachments",children:["📎 ",((oi=(sa=P.sourcingInfo)==null?void 0:sa.attachments)==null?void 0:oi.length)||0," files"]})]})]}):s.jsx("div",{className:"no-vendor",children:"No Vendor Data"})}),s.jsx("div",{className:"submission-cell status-info",children:ge(b.submissionStatus)}),s.jsxs("div",{className:"submission-cell value-info",children:[s.jsxs("div",{className:"total-value",children:["$",U.toFixed(2)]}),s.jsxs("div",{className:"value-breakdown",children:[s.jsxs("div",{children:["Subtotal: $",(((Hd=P==null?void 0:P.pricing)==null?void 0:Hd.subtotal)||0).toFixed(2)]}),s.jsxs("div",{children:["Tax: $",(((Kd=P==null?void 0:P.pricing)==null?void 0:Kd.taxAmount)||0).toFixed(2)]}),s.jsxs("div",{children:["Final: $",(((Gd=P==null?void 0:P.pricing)==null?void 0:Gd.finalGrandTotal)||U).toFixed(2)]})]})]}),s.jsx("div",{className:"submission-cell actions",children:b.submissionStatus==="submitted"?s.jsxs("div",{className:"submitted-actions",children:[s.jsx("button",{className:"btn-review btn-submitted",onClick:()=>Je(b.id),title:"View Submission",children:"📋 Submitted"}),s.jsx("button",{className:"btn-delete",onClick:()=>me(b.id),title:"Delete Entry",children:"🗑️"})]}):b.submissionStatus==="processing"?s.jsx("button",{className:"btn-review btn-processing",onClick:()=>Je(b.id),title:"Continue Processing",children:"⚙️ Processing"}):b.isStarted?s.jsx("button",{className:"btn-review btn-started",onClick:()=>Je(b.id),title:"Continue Review",children:"📝 Started"}):s.jsx("button",{className:"btn-review",onClick:()=>Je(b.id),title:"Start Review",children:"🚀 Start"})})]},b.id)})]})}),s.jsxs("div",{className:"approval-navigation",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>e("/approval"),children:"← Back to Approval"}),s.jsx("button",{className:"btn-primary",onClick:()=>e("/execution"),children:"Proceed to Execution →"})]})]})},yb=({onBack:e,currentUser:t,currentDateTime:n})=>{const[r,a]=w.useState({communityTrustBank:{available:"",used:""},communityTrustBankCC:{available:"",used:""},chasePersonalCC:{available:"",used:""},chaseBusinessCC:{available:"",used:""},amexLineOfCredit:""});w.useEffect(()=>{i()},[]);const i=()=>{try{const u=localStorage.getItem("executionCreditData");u&&a(JSON.parse(u))}catch(u){console.error("Error loading credit data:",u)}},l=u=>{a(u),localStorage.setItem("executionCreditData",JSON.stringify(u))},o=(u,h,m)=>{const d=m===""?"":parseFloat(m)||0,y={...r,[u]:typeof r[u]=="object"?{...r[u],[h]:d}:d};l(y)},c=w.useMemo(()=>{const u=parseFloat(r.communityTrustBank.available)||0,h=parseFloat(r.communityTrustBank.used)||0,m=parseFloat(r.communityTrustBankCC.available)||0,d=parseFloat(r.communityTrustBankCC.used)||0,y=parseFloat(r.chasePersonalCC.available)||0,C=parseFloat(r.chasePersonalCC.used)||0,g=parseFloat(r.chaseBusinessCC.available)||0,F=parseFloat(r.chaseBusinessCC.used)||0,p=parseFloat(r.amexLineOfCredit)||0,f=m+y+g,j=Math.abs(d)+Math.abs(C)+Math.abs(F),E=f-j,R=u+m+y+g-(Math.abs(h)+Math.abs(d)+Math.abs(C)+Math.abs(F)),N=E+p;return{totalCredit:f,totalUsed:-j,remainingCredit:E,netWorth:R,totalAvailable:N}},[r]);return s.jsxs("div",{className:"credit-balance-container",children:[s.jsxs("div",{className:"credit-balance-header",children:[s.jsxs("div",{className:"credit-balance-header-left",children:[s.jsx("button",{className:"credit-balance-back-btn",onClick:e,children:"← Back to Execution"}),s.jsxs("div",{className:"credit-balance-title-section",children:[s.jsx("h1",{children:"💳 Credit & Balance Overview"}),s.jsx("p",{children:"Monitor financial accounts and credit utilization"})]})]}),s.jsx("div",{className:"credit-balance-header-right",children:s.jsxs("div",{className:"credit-balance-user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:t})]}),s.jsx("span",{className:"credit-balance-current-time",children:n})]})})]}),s.jsxs("div",{className:"credit-balance-content",children:[s.jsx("div",{className:"credit-balance-date-section",children:s.jsxs("div",{className:"credit-balance-date-indicator",children:["📅 ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})}),s.jsxs("div",{className:"credit-balance-main-grid",children:[s.jsxs("div",{className:"credit-balance-inputs-section",children:[s.jsx("h2",{children:"💰 Account Management"}),s.jsxs("div",{className:"credit-balance-inputs-grid",children:[s.jsxs("div",{className:"credit-balance-input-group",children:[s.jsx("label",{className:"credit-balance-label",children:"Community Trust Bank"}),s.jsxs("div",{className:"credit-balance-dual-inputs",children:[s.jsx("input",{type:"number",placeholder:"Available",value:r.communityTrustBank.available,onChange:u=>o("communityTrustBank","available",u.target.value),className:"credit-balance-input available"}),s.jsx("input",{type:"number",placeholder:"Used",value:r.communityTrustBank.used,onChange:u=>o("communityTrustBank","used",u.target.value),className:"credit-balance-input used"})]})]}),s.jsxs("div",{className:"credit-balance-input-group",children:[s.jsx("label",{className:"credit-balance-label",children:"Community Trust Bank Credit Card"}),s.jsxs("div",{className:"credit-balance-dual-inputs",children:[s.jsx("input",{type:"number",placeholder:"Available",value:r.communityTrustBankCC.available,onChange:u=>o("communityTrustBankCC","available",u.target.value),className:"credit-balance-input available"}),s.jsx("input",{type:"number",placeholder:"Used",value:r.communityTrustBankCC.used,onChange:u=>o("communityTrustBankCC","used",u.target.value),className:"credit-balance-input used"})]})]}),s.jsxs("div",{className:"credit-balance-input-group",children:[s.jsx("label",{className:"credit-balance-label",children:"Chase Personal Credit Card"}),s.jsxs("div",{className:"credit-balance-dual-inputs",children:[s.jsx("input",{type:"number",placeholder:"Available",value:r.chasePersonalCC.available,onChange:u=>o("chasePersonalCC","available",u.target.value),className:"credit-balance-input available"}),s.jsx("input",{type:"number",placeholder:"Used",value:r.chasePersonalCC.used,onChange:u=>o("chasePersonalCC","used",u.target.value),className:"credit-balance-input used"})]})]}),s.jsxs("div",{className:"credit-balance-input-group",children:[s.jsx("label",{className:"credit-balance-label",children:"Chase Business Credit Card"}),s.jsxs("div",{className:"credit-balance-dual-inputs",children:[s.jsx("input",{type:"number",placeholder:"Available",value:r.chaseBusinessCC.available,onChange:u=>o("chaseBusinessCC","available",u.target.value),className:"credit-balance-input available"}),s.jsx("input",{type:"number",placeholder:"Used",value:r.chaseBusinessCC.used,onChange:u=>o("chaseBusinessCC","used",u.target.value),className:"credit-balance-input used"})]})]}),s.jsxs("div",{className:"credit-balance-input-group",children:[s.jsx("label",{className:"credit-balance-label",children:"AMEX Line of Credit"}),s.jsx("div",{className:"credit-balance-single-input",children:s.jsx("input",{type:"number",placeholder:"Amount",value:r.amexLineOfCredit,onChange:u=>o("amexLineOfCredit","",u.target.value),className:"credit-balance-input single"})})]})]})]}),s.jsxs("div",{className:"credit-balance-totals-section",children:[s.jsx("h2",{children:"📊 Financial Summary"}),s.jsxs("div",{className:"credit-balance-totals-grid",children:[s.jsxs("div",{className:"credit-balance-total-item net-worth",children:[s.jsx("div",{className:"credit-balance-total-icon",children:"💎"}),s.jsxs("div",{className:"credit-balance-total-content",children:[s.jsx("span",{className:"credit-balance-total-label",children:"Net Worth (Cash - Debts)"}),s.jsxs("span",{className:`credit-balance-total-value ${c.netWorth>=0?"positive":"negative"}`,children:["$",c.netWorth.toFixed(2)]})]})]}),s.jsxs("div",{className:"credit-balance-total-item",children:[s.jsx("div",{className:"credit-balance-total-icon",children:"💳"}),s.jsxs("div",{className:"credit-balance-total-content",children:[s.jsx("span",{className:"credit-balance-total-label",children:"Total Credit"}),s.jsxs("span",{className:"credit-balance-total-value",children:["$",c.totalCredit.toFixed(2)]})]})]}),s.jsxs("div",{className:"credit-balance-total-item",children:[s.jsx("div",{className:"credit-balance-total-icon",children:"📉"}),s.jsxs("div",{className:"credit-balance-total-content",children:[s.jsx("span",{className:"credit-balance-total-label",children:"Used Credit"}),s.jsxs("span",{className:"credit-balance-total-value negative",children:["$",c.totalUsed.toFixed(2)]})]})]}),s.jsxs("div",{className:"credit-balance-total-item",children:[s.jsx("div",{className:"credit-balance-total-icon",children:"📈"}),s.jsxs("div",{className:"credit-balance-total-content",children:[s.jsx("span",{className:"credit-balance-total-label",children:"Remaining Credit"}),s.jsxs("span",{className:"credit-balance-total-value positive",children:["$",c.remainingCredit.toFixed(2)]})]})]}),s.jsxs("div",{className:"credit-balance-total-item final-total",children:[s.jsx("div",{className:"credit-balance-total-icon",children:"🎯"}),s.jsxs("div",{className:"credit-balance-total-content",children:[s.jsx("span",{className:"credit-balance-total-label",children:"Total Available"}),s.jsxs("span",{className:"credit-balance-total-value highlight",children:["$",c.totalAvailable.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"credit-balance-utilization-chart",children:[s.jsx("h3",{children:"📊 Credit Utilization"}),s.jsx("div",{className:"credit-balance-chart-bar",children:s.jsx("div",{className:"credit-balance-chart-fill",style:{width:`${Math.min(Math.abs(c.totalUsed)/c.totalCredit*100,100)}%`}})}),s.jsxs("div",{className:"credit-balance-chart-labels",children:[s.jsxs("span",{children:["Used: $",Math.abs(c.totalUsed).toFixed(2)]}),s.jsxs("span",{children:["Available: $",c.remainingCredit.toFixed(2)]})]})]})]})]})]})]})},bb=({onBack:e,currentUser:t,currentDateTime:n})=>{var Lt,kt,Yt,Jt;const[r,a]=w.useState([]),[i,l]=w.useState(""),[o,c]=w.useState("all"),[u,h]=w.useState(!1),[m,d]=w.useState(!1),[y,C]=w.useState(null),[g,F]=w.useState(null),[p,f]=w.useState([]),[j,E]=w.useState(!1),R=w.useRef(null),[N,x]=w.useState({orderDate:new Date().toISOString().split("T")[0],attentionCategory:"",qmsId:"",customer:"",customerPO:"",qmsPO:"",qmsInvoice:"",itemDescription:"",vendorName:"",customerName:"",email:"",sourcedBy:"",poAmount:"",paymentPlanFakheem:"",paymentApprovalAkmal:"",qmsCost:"",profit:"",paymentMethod:"",status:"initial-coord",qmsInvoiceDate:"",expectedReturnDate:"",customerPaymentMode:"",creditDebit:"",creditNotes:"",grossProfitTotaling:"",netProfitFromPOs:"",notes:"",fareedAkmalComments:"",transactionCompletionDays:""}),[v,S]=w.useState({}),D=[{id:"initial-coord",name:"Initial Coord with Supplier For Shipment",color:"#4299e1"},{id:"customer-po-received",name:"Customer PO Received",color:"#48bb78"},{id:"vendor-assessment",name:"Vendor Assessment",color:"#ed8936"},{id:"re-sourcing",name:"Re-Sourcing",color:"#9f7aea"},{id:"qms-po-sent",name:"QMS PO sent",color:"#38b2ac"},{id:"payment-to-supplier",name:"Payment to Supplier",color:"#f56565"},{id:"shipped-from-supplier",name:"Shipped From Supplier",color:"#4299e1"},{id:"in-transit",name:"In Transit",color:"#ed8936"},{id:"shipment-received-customer",name:"Shipment Received Customer",color:"#48bb78"},{id:"qms-invoice-to-customer",name:"QMS Invoice To Customer",color:"#9f7aea"},{id:"order-completed",name:"Order Completed",color:"#38a169"},{id:"other",name:"Other",color:"#718096"},{id:"cancelled",name:"Cancelled",color:"#e53e3e"}],L={attentionCategory:["OK","Follow Up","Completed","Closed","Cancelled","In Process","PO Recieved","Cheque Awaited"],paymentPlanFakheem:["Due","Paid","Due Today","PO Recieved.","Anticipated PO","Due Tomorrow","Due this week","Cancelled","On Hold"],paymentApprovalAkmal:["Discuss","Hold","Approved","Not Approved","Other"],paymentMethod:["CC-Community Trust Bank","Chase Business CC-9869","Chase Personal CC-0597","AMEX Line of Credit","CC-5364","ACH","WIRE","NET","N/A"],customerPaymentMode:["Cheque","Wire","ACH","Cancelled"]},B=k=>{const G=["attentionCategory","paymentApprovalAkmal","creditDebit","creditNotes","grossProfitTotaling","netProfitFromPOs"],ye=["transactionCompletionDays"];return G.includes(k)?"order-tracker-form-input sky-blue":ye.includes(k)?"order-tracker-form-input light-grey":"order-tracker-form-input"};w.useEffect(()=>{(async()=>{try{await ze.initDB(),console.log("✅ IndexedDB initialized successfully")}catch(G){console.error("❌ Failed to initialize IndexedDB:",G)}})(),ne()},[]),w.useEffect(()=>{(y||g)&&(y!=null&&y.qmsId||g!=null&&g.qmsId)&&q((y==null?void 0:y.qmsId)||(g==null?void 0:g.qmsId))},[y,g]);const ne=()=>{try{const k=localStorage.getItem("executionOrders");k&&a(JSON.parse(k))}catch(k){console.error("Error loading orders:",k)}},je=k=>{a(k),localStorage.setItem("executionOrders",JSON.stringify(k))},q=async k=>{if(!k||k.trim()===""){console.log("No QMS ID provided, clearing attachments"),f([]);return}try{console.log("🔍 Loading attachments for QMS ID:",k);const G=await ze.getAttachmentsByVendor("",k.trim());console.log("📎 Found attachments:",(G==null?void 0:G.length)||0),f(G||[])}catch(G){console.error("❌ Error loading attachments:",G),f([])}},re=k=>{Array.from(k).forEach(G=>{if(G.size>10*1024*1024){alert(`❌ File "${G.name}" is too large. Maximum size is 10MB.`);return}if(!["application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png","image/gif"].includes(G.type)){alert(`❌ File type "${G.type}" is not supported. Please use PDF, Excel, Word, or Image files.`);return}ue(G)})},ue=async k=>{try{const G=N.qmsId||(y==null?void 0:y.qmsId);if(!G||G.trim()===""){alert("⚠️ Please enter a QMS ID before uploading files.");return}console.log("📤 Uploading file:",k.name,"for QMS ID:",G);let ye=k;k.type.startsWith("image/")&&(console.log("🖼️ Compressing image:",k.name),ye=await ze.compressImage(k,1920,.8),console.log("✅ Image compressed from",K(k.size),"to",K(ye.size)));const Le=await ye.arrayBuffer(),Qe={id:ze.generateAttachmentId(),qmsId:G.trim(),vendorId:(N.vendorName||(y==null?void 0:y.vendorName)||"").trim(),fileName:k.name,fileType:k.type,fileSize:ye.size,fileData:Le,uploadedAt:new Date().toISOString(),uploadedBy:t||"Mike469-a11y"};console.log("💾 Saving attachment to IndexedDB:",Qe.id),await ze.saveAttachment(Qe),console.log("🔄 Reloading attachments for QMS ID:",G),await q(G),R.current&&(R.current.value=""),console.log(`✅ File "${k.name}" uploaded successfully`)}catch(G){console.error("❌ Error uploading file:",G),alert(`❌ Failed to upload file "${k.name}". Error: ${G.message}`)}},$=k=>{k.preventDefault(),E(!0)},Z=k=>{k.preventDefault(),E(!1)},le=k=>{k.preventDefault(),E(!1);const G=k.dataTransfer.files;re(G)},ge=k=>{const G=k.target.files;G&&re(G)},Ne=async k=>{if(window.confirm("🗑️ Are you sure you want to delete this attachment?"))try{await ze.deleteAttachment(k),await q(N.qmsId||(y==null?void 0:y.qmsId)),console.log("✅ Attachment deleted successfully")}catch(G){console.error("❌ Error deleting attachment:",G),alert("❌ Failed to delete attachment. Please try again.")}},Y=async(k,G)=>{try{console.log("📥 Downloading attachment:",k);const ye=await ze.getAttachment(k);if(ye&&ye.fileData){const Le=new Blob([ye.fileData],{type:ye.fileType}),Qe=URL.createObjectURL(Le),rt=document.createElement("a");rt.href=Qe,rt.download=G,rt.style.display="none",document.body.appendChild(rt),rt.click(),document.body.removeChild(rt),URL.revokeObjectURL(Qe),console.log("✅ File downloaded successfully:",G)}else alert("❌ File not found or corrupted.")}catch(ye){console.error("❌ Error downloading attachment:",ye),alert("❌ Failed to download attachment. Please try again.")}},H=async k=>{try{console.log("👁️ Viewing attachment:",k);const G=await ze.getAttachment(k);if(G&&G.fileData){const ye=new Blob([G.fileData],{type:G.fileType}),Le=URL.createObjectURL(ye),Qe=window.open("","_blank","width=1000,height=800,scrollbars=yes,resizable=yes");Qe?(Qe.document.write(`
                        <!DOCTYPE html>
                        <html>
                        <head>
                            <title>${G.fileName}</title>
                            <style>body { margin: 0; padding: 0; }</style>
                        </head>
                        <body>
                            <embed src="${Le}" type="${G.fileType}" width="100%" height="100%">
                        </body>
                        </html>
                    `),setTimeout(()=>URL.revokeObjectURL(Le),3e4)):(alert("❌ Popup blocked. Please allow popups and try again."),URL.revokeObjectURL(Le))}else alert("❌ File not found or corrupted.")}catch(G){console.error("❌ Error viewing attachment:",G),alert("❌ Failed to view attachment. Please try again.")}},K=k=>{if(k===0)return"0 Bytes";const G=1024,ye=["Bytes","KB","MB","GB"],Le=Math.floor(Math.log(k)/Math.log(G));return parseFloat((k/Math.pow(G,Le)).toFixed(2))+" "+ye[Le]},ee=k=>k.includes("pdf")?"📄":k.includes("excel")||k.includes("spreadsheet")?"📊":k.includes("word")||k.includes("document")?"📝":k.includes("image")?"🖼️":"📎",fe=k=>k==="all"?r.length:r.filter(G=>G.status===k).length,Re=r.filter(k=>{var Le,Qe,rt,ut,ot;const G=!i||((Le=k.qmsId)==null?void 0:Le.toLowerCase().includes(i.toLowerCase()))||((Qe=k.customer)==null?void 0:Qe.toLowerCase().includes(i.toLowerCase()))||((rt=k.vendorName)==null?void 0:rt.toLowerCase().includes(i.toLowerCase()))||((ut=k.itemDescription)==null?void 0:ut.toLowerCase().includes(i.toLowerCase()))||((ot=k.customerName)==null?void 0:ot.toLowerCase().includes(i.toLowerCase())),ye=o==="all"||k.status===o;return G&&ye}),me=(k,G)=>{x(ye=>({...ye,[k]:G})),v[k]&&S(ye=>({...ye,[k]:""})),k==="qmsId"&&G.trim()&&q(G.trim())},Je=()=>{const k={};return["qmsId","customer","itemDescription","vendorName"].forEach(ye=>{var Le;(Le=N[ye])!=null&&Le.trim()||(k[ye]="This field is required")}),N.email&&!/\S+@\S+\.\S+/.test(N.email)&&(k.email="Please enter a valid email address"),S(k),Object.keys(k).length===0},dt=()=>{if(!Je())return;const k={...N,id:y?y.id:Date.now().toString(),createdAt:y?y.createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};let G;y?G=r.map(ye=>ye.id===y.id?k:ye):G=[...r,k],je(G),gt()},Ie=k=>{C(k),x(k),h(!0)},ft=k=>{F(k),d(!0)},It=k=>{if(window.confirm("🗑️ Are you sure you want to delete this order?")){const G=r.filter(ye=>ye.id!==k);je(G)}},gt=()=>{h(!1),C(null),f([]),x({orderDate:new Date().toISOString().split("T")[0],attentionCategory:"",qmsId:"",customer:"",customerPO:"",qmsPO:"",qmsInvoice:"",itemDescription:"",vendorName:"",customerName:"",email:"",sourcedBy:"",poAmount:"",paymentPlanFakheem:"",paymentApprovalAkmal:"",qmsCost:"",profit:"",paymentMethod:"",status:"initial-coord",qmsInvoiceDate:"",expectedReturnDate:"",customerPaymentMode:"",creditDebit:"",creditNotes:"",grossProfitTotaling:"",netProfitFromPOs:"",notes:"",fareedAkmalComments:"",transactionCompletionDays:""}),S({})},Xe=()=>{d(!1),F(null),f([])},De=(k,G="")=>!k&&k!==0?"Not specified":G.toLowerCase().includes("amount")||G.toLowerCase().includes("cost")||G.toLowerCase().includes("profit")?`$${k}`:G.toLowerCase().includes("date")?new Date(k).toLocaleDateString():k;return s.jsxs("div",{className:"order-tracker-container",children:[s.jsxs("div",{className:"order-tracker-header",children:[s.jsxs("div",{className:"order-tracker-header-left",children:[s.jsx("button",{className:"order-tracker-back-btn",onClick:e,children:"← Back to Execution"}),s.jsxs("div",{className:"order-tracker-title-section",children:[s.jsx("h1",{children:"📋 Order Tracker"}),s.jsx("p",{children:"Track orders through 13 status stages"})]})]}),s.jsx("div",{className:"order-tracker-header-right",children:s.jsxs("div",{className:"order-tracker-user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:t||"Mike469-a11y"})]}),s.jsx("span",{className:"order-tracker-current-time",children:n||"2025-08-03 00:37:57"})]})})]}),s.jsx("div",{className:"order-tracker-controls",children:s.jsxs("div",{className:"order-tracker-stats-search",children:[s.jsxs("div",{className:"order-tracker-total-entries",children:[s.jsx("span",{className:"order-tracker-total-number",children:fe("all")}),s.jsx("span",{className:"order-tracker-total-label",children:"Total Entries"})]}),s.jsxs("div",{className:"order-tracker-search-container",children:[s.jsx("input",{type:"text",placeholder:"Search by QMS ID, Customer, Vendor, Item...",value:i,onChange:k=>l(k.target.value),className:"order-tracker-search-input"}),s.jsx("div",{className:"order-tracker-search-icon",children:"🔍"})]})]})}),s.jsxs("div",{className:"order-tracker-status-categories",children:[s.jsx("h2",{children:"📊 Order Status Categories"}),s.jsxs("div",{className:"order-tracker-categories-grid",children:[s.jsxs("div",{className:`order-tracker-status-card ${o==="all"?"active":""}`,onClick:()=>c("all"),style:{borderColor:"#667eea"},children:[s.jsx("div",{className:"order-tracker-status-icon",style:{backgroundColor:"#667eea"},children:"📊"}),s.jsxs("div",{className:"order-tracker-status-content",children:[s.jsx("div",{className:"order-tracker-status-name",children:"All Orders"}),s.jsx("div",{className:"order-tracker-status-count",children:fe("all")})]})]}),D.map(k=>s.jsxs("div",{className:`order-tracker-status-card ${o===k.id?"active":""}`,onClick:()=>c(k.id),style:{borderColor:k.color},children:[s.jsxs("div",{className:"order-tracker-status-icon",style:{backgroundColor:k.color},children:[k.id==="initial-coord"&&"🚀",k.id==="customer-po-received"&&"📋",k.id==="vendor-assessment"&&"🔍",k.id==="re-sourcing"&&"🔄",k.id==="qms-po-sent"&&"📤",k.id==="payment-to-supplier"&&"💳",k.id==="shipped-from-supplier"&&"📦",k.id==="in-transit"&&"🚛",k.id==="shipment-received-customer"&&"📥",k.id==="qms-invoice-to-customer"&&"🧾",k.id==="order-completed"&&"✅",k.id==="other"&&"📋",k.id==="cancelled"&&"❌"]}),s.jsxs("div",{className:"order-tracker-status-content",children:[s.jsx("div",{className:"order-tracker-status-name",children:k.name}),s.jsx("div",{className:"order-tracker-status-count",children:fe(k.id)})]})]},k.id))]})]}),s.jsxs("div",{className:"order-tracker-orders-section",children:[s.jsxs("div",{className:"order-tracker-orders-header",children:[s.jsx("h2",{children:o==="all"?`📋 All Orders (${Re.length})`:`📋 ${(Lt=D.find(k=>k.id===o))==null?void 0:Lt.name} (${Re.length})`}),s.jsx("button",{className:"order-tracker-add-order-btn",onClick:()=>h(!0),children:"➕ Add New Order"})]}),Re.length===0?s.jsxs("div",{className:"order-tracker-no-orders",children:[s.jsx("div",{className:"order-tracker-no-orders-icon",children:"📦"}),s.jsx("h3",{children:"No Orders Found"}),s.jsx("p",{children:i?`No orders match your search "${i}"`:o==="all"?'No orders available. Click "Add New Order" to get started.':`No orders with status "${(kt=D.find(k=>k.id===o))==null?void 0:kt.name}"`})]}):s.jsxs("div",{className:"order-tracker-orders-table",children:[s.jsxs("div",{className:"order-tracker-table-header",children:[s.jsx("div",{className:"order-tracker-header-cell",children:"SR"}),s.jsx("div",{className:"order-tracker-header-cell",children:"QMS ID"}),s.jsx("div",{className:"order-tracker-header-cell",children:"Customer"}),s.jsx("div",{className:"order-tracker-header-cell",children:"Item Description"}),s.jsx("div",{className:"order-tracker-header-cell",children:"Vendor"}),s.jsx("div",{className:"order-tracker-header-cell",children:"Status"}),s.jsx("div",{className:"order-tracker-header-cell",children:"Order Date"}),s.jsx("div",{className:"order-tracker-header-cell",children:"PO Amount"}),s.jsx("div",{className:"order-tracker-header-cell",children:"QMS Cost"}),s.jsx("div",{className:"order-tracker-header-cell",children:"Profit"}),s.jsx("div",{className:"order-tracker-header-cell",children:"Actions"})]}),Re.map((k,G)=>{var ye,Le;return s.jsxs("div",{className:"order-tracker-table-row",children:[s.jsx("div",{className:"order-tracker-cell order-tracker-sr",children:G+1}),s.jsx("div",{className:"order-tracker-cell font-weight-bold",children:k.qmsId}),s.jsx("div",{className:"order-tracker-cell",children:k.customer}),s.jsx("div",{className:"order-tracker-cell",children:k.itemDescription}),s.jsx("div",{className:"order-tracker-cell",children:k.vendorName}),s.jsx("div",{className:"order-tracker-cell",children:s.jsx("span",{className:"order-tracker-status-badge",style:{backgroundColor:((ye=D.find(Qe=>Qe.id===k.status))==null?void 0:ye.color)||"#718096",color:"white"},children:((Le=D.find(Qe=>Qe.id===k.status))==null?void 0:Le.name)||"Unknown"})}),s.jsx("div",{className:"order-tracker-cell",children:k.orderDate}),s.jsxs("div",{className:"order-tracker-cell order-tracker-amount",children:["$",k.poAmount||"0"]}),s.jsxs("div",{className:"order-tracker-cell order-tracker-amount",children:["$",k.qmsCost||"0"]}),s.jsxs("div",{className:"order-tracker-cell order-tracker-amount",children:["$",k.profit||"0"]}),s.jsxs("div",{className:"order-tracker-cell order-tracker-actions",children:[s.jsx("button",{className:"order-tracker-edit-btn",title:"Edit Order",onClick:()=>Ie(k),children:"✏️"}),s.jsx("button",{className:"order-tracker-view-btn",title:"View Details",onClick:()=>ft(k),children:"👁️"}),s.jsx("button",{className:"order-tracker-delete-btn",title:"Delete Order",onClick:()=>It(k.id),children:"🗑️"})]})]},k.id)})]})]}),m&&g&&s.jsx("div",{className:"order-tracker-modal-overlay",onClick:Xe,children:s.jsxs("div",{className:"order-tracker-modal order-tracker-view-modal",onClick:k=>k.stopPropagation(),children:[s.jsxs("div",{className:"order-tracker-modal-header order-tracker-view-header",children:[s.jsxs("h2",{children:["👁️ View Order Details - ",g.qmsId]}),s.jsx("button",{className:"order-tracker-modal-close",onClick:Xe,children:"✕"})]}),s.jsx("div",{className:"order-tracker-modal-content",children:s.jsxs("div",{className:"order-tracker-view-grid",children:[s.jsxs("div",{className:"order-tracker-view-section",children:[s.jsx("h3",{children:"📋 Basic Order Information"}),s.jsxs("div",{className:"order-tracker-view-content",children:[s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Order Date:"}),s.jsx("span",{children:De(g.orderDate,"date")})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Attention Category:"}),s.jsx("span",{children:De(g.attentionCategory)})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"QMS ID:"}),s.jsx("span",{className:"order-tracker-view-highlight",children:De(g.qmsId)})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Customer:"}),s.jsx("span",{className:"order-tracker-view-highlight",children:De(g.customer)})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Customer PO #:"}),s.jsx("span",{children:De(g.customerPO)})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"QMS PO #:"}),s.jsx("span",{children:De(g.qmsPO)})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"QMS Invoice #:"}),s.jsx("span",{children:De(g.qmsInvoice)})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Item Description:"}),s.jsx("span",{className:"order-tracker-view-highlight",children:De(g.itemDescription)})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Vendor Name:"}),s.jsx("span",{className:"order-tracker-view-highlight",children:De(g.vendorName)})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Customer Name:"}),s.jsx("span",{children:De(g.customerName)})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Email:"}),s.jsx("span",{children:De(g.email)})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Sourced By:"}),s.jsx("span",{children:De(g.sourcedBy)})]})]})]})]}),s.jsxs("div",{className:"order-tracker-view-section",children:[s.jsx("h3",{children:"💰 Financial Information"}),s.jsxs("div",{className:"order-tracker-view-content",children:[s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"PO Amount:"}),s.jsx("span",{className:"order-tracker-view-amount",children:De(g.poAmount,"amount")})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Payment Plan (Fakheem):"}),s.jsx("span",{children:De(g.paymentPlanFakheem)})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Payment Approval (Initial Akmal):"}),s.jsx("span",{children:De(g.paymentApprovalAkmal)})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"QMS Cost:"}),s.jsx("span",{className:"order-tracker-view-amount",children:De(g.qmsCost,"cost")})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Profit:"}),s.jsx("span",{className:"order-tracker-view-profit",children:De(g.profit,"profit")})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Payment Method:"}),s.jsx("span",{children:De(g.paymentMethod)})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"QMS Invoice Date:"}),s.jsx("span",{children:De(g.qmsInvoiceDate,"date")})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Expected Return Date:"}),s.jsx("span",{children:De(g.expectedReturnDate,"date")})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Customer Payment Mode:"}),s.jsx("span",{children:De(g.customerPaymentMode)})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Credit / Debit:"}),s.jsx("span",{children:De(g.creditDebit)})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Credit Notes:"}),s.jsx("span",{children:De(g.creditNotes)})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Gross Profit (GP) Totaling:"}),s.jsx("span",{className:"order-tracker-view-profit",children:De(g.grossProfitTotaling,"profit")})]})]}),s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Net Profit From PO's:"}),s.jsx("span",{className:"order-tracker-view-profit",children:De(g.netProfitFromPOs,"profit")})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Transaction Completion Time:"}),s.jsxs("span",{children:[De(g.transactionCompletionDays)," ",g.transactionCompletionDays?"days":""]})]})]})]})]}),p.length>0&&s.jsxs("div",{className:"order-tracker-view-section",children:[s.jsxs("h3",{children:["📎 Attachments (",p.length,")"]}),s.jsxs("div",{className:"order-tracker-view-content",children:[s.jsx("div",{className:"order-tracker-attachments-list",children:p.map(k=>s.jsxs("div",{className:"order-tracker-attachment-item",children:[s.jsxs("div",{className:"order-tracker-attachment-info",children:[s.jsx("span",{className:"order-tracker-file-icon",children:ee(k.fileType)}),s.jsxs("div",{className:"order-tracker-file-details",children:[s.jsx("span",{className:"order-tracker-file-name",children:k.fileName}),s.jsx("span",{className:"order-tracker-file-size",children:K(k.fileSize)})]})]}),s.jsxs("div",{className:"order-tracker-attachment-actions",children:[s.jsx("button",{onClick:()=>H(k.id),className:"order-tracker-attachment-view-btn",title:"View File",children:"👁️"}),s.jsx("button",{onClick:()=>Y(k.id,k.fileName),className:"order-tracker-attachment-download-btn",title:"Download File",children:"📥"})]})]},k.id))}),s.jsxs("div",{className:"order-tracker-attachments-summary",children:[s.jsxs("span",{children:["Total: ",p.length," files"]}),s.jsxs("span",{children:["Size: ",K(p.reduce((k,G)=>k+G.fileSize,0))]})]})]})]}),s.jsxs("div",{className:"order-tracker-view-section",children:[s.jsx("h3",{children:"📊 Status & Tracking"}),s.jsxs("div",{className:"order-tracker-view-content",children:[s.jsx("div",{className:"order-tracker-view-row",children:s.jsxs("div",{className:"order-tracker-view-field order-tracker-view-field-wide",children:[s.jsx("label",{children:"Current Status:"}),s.jsx("span",{className:"order-tracker-view-status-badge",style:{backgroundColor:((Yt=D.find(k=>k.id===g.status))==null?void 0:Yt.color)||"#718096"},children:((Jt=D.find(k=>k.id===g.status))==null?void 0:Jt.name)||"Unknown"})]})}),g.notes&&s.jsx("div",{className:"order-tracker-view-row",children:s.jsxs("div",{className:"order-tracker-view-field order-tracker-view-field-full",children:[s.jsx("label",{children:"Notes:"}),s.jsx("div",{className:"order-tracker-view-notes",children:g.notes})]})}),g.fareedAkmalComments&&s.jsx("div",{className:"order-tracker-view-row",children:s.jsxs("div",{className:"order-tracker-view-field order-tracker-view-field-full",children:[s.jsx("label",{children:"Fareed Bhai / Akmal Comments:"}),s.jsx("div",{className:"order-tracker-view-notes",children:g.fareedAkmalComments})]})})]})]}),s.jsxs("div",{className:"order-tracker-view-section",children:[s.jsx("h3",{children:"📅 Order Metadata"}),s.jsx("div",{className:"order-tracker-view-content",children:s.jsxs("div",{className:"order-tracker-view-row",children:[s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Created At:"}),s.jsx("span",{children:g.createdAt?new Date(g.createdAt).toLocaleString():"Not available"})]}),s.jsxs("div",{className:"order-tracker-view-field",children:[s.jsx("label",{children:"Last Updated:"}),s.jsx("span",{children:g.updatedAt?new Date(g.updatedAt).toLocaleString():"Not available"})]})]})})]})]})}),s.jsxs("div",{className:"order-tracker-modal-footer order-tracker-view-footer",children:[s.jsx("button",{className:"order-tracker-view-close-btn",onClick:Xe,children:"Close"}),s.jsx("button",{className:"order-tracker-view-edit-btn",onClick:()=>{Xe(),Ie(g)},children:"✏️ Edit Order"})]})]})}),u&&s.jsx("div",{className:"order-tracker-modal-overlay",onClick:gt,children:s.jsxs("div",{className:"order-tracker-modal",onClick:k=>k.stopPropagation(),children:[s.jsxs("div",{className:"order-tracker-modal-header",children:[s.jsx("h2",{children:y?"✏️ Edit Order":"➕ Add New Order"}),s.jsx("button",{className:"order-tracker-modal-close",onClick:gt,children:"✕"})]}),s.jsx("div",{className:"order-tracker-modal-content",children:s.jsxs("div",{className:"order-tracker-form-grid",children:[s.jsxs("div",{className:"order-tracker-form-section",children:[s.jsx("h3",{children:"📋 Basic Order Information"}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Order Date *"}),s.jsx("input",{type:"date",value:N.orderDate,onChange:k=>me("orderDate",k.target.value),className:B("orderDate")})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Attention Category"}),s.jsxs("select",{value:N.attentionCategory,onChange:k=>me("attentionCategory",k.target.value),className:B("attentionCategory"),children:[s.jsx("option",{value:"",children:"Select Attention Category"}),L.attentionCategory.map((k,G)=>s.jsx("option",{value:k,children:k},G))]})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"QMS ID *"}),s.jsx("input",{type:"text",value:N.qmsId,onChange:k=>me("qmsId",k.target.value),className:`${B("qmsId")} ${v.qmsId?"error":""}`,placeholder:"Enter QMS ID"}),v.qmsId&&s.jsx("span",{className:"order-tracker-error",children:v.qmsId})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Customer *"}),s.jsx("input",{type:"text",value:N.customer,onChange:k=>me("customer",k.target.value),className:`${B("customer")} ${v.customer?"error":""}`,placeholder:"Enter customer"}),v.customer&&s.jsx("span",{className:"order-tracker-error",children:v.customer})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Customer PO #"}),s.jsx("input",{type:"text",value:N.customerPO,onChange:k=>me("customerPO",k.target.value),className:B("customerPO"),placeholder:"Enter customer PO #"})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"QMS PO #"}),s.jsx("input",{type:"text",value:N.qmsPO,onChange:k=>me("qmsPO",k.target.value),className:B("qmsPO"),placeholder:"Enter QMS PO #"})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"QMS Invoice #"}),s.jsx("input",{type:"text",value:N.qmsInvoice,onChange:k=>me("qmsInvoice",k.target.value),className:B("qmsInvoice"),placeholder:"Enter QMS invoice #"})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Item Description *"}),s.jsx("input",{type:"text",value:N.itemDescription,onChange:k=>me("itemDescription",k.target.value),className:`${B("itemDescription")} ${v.itemDescription?"error":""}`,placeholder:"Enter item description"}),v.itemDescription&&s.jsx("span",{className:"order-tracker-error",children:v.itemDescription})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Vendor Name *"}),s.jsx("input",{type:"text",value:N.vendorName,onChange:k=>me("vendorName",k.target.value),className:`${B("vendorName")} ${v.vendorName?"error":""}`,placeholder:"Enter vendor name"}),v.vendorName&&s.jsx("span",{className:"order-tracker-error",children:v.vendorName})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Customer Name"}),s.jsx("input",{type:"text",value:N.customerName,onChange:k=>me("customerName",k.target.value),className:B("customerName"),placeholder:"Enter customer name"})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Email"}),s.jsx("input",{type:"email",value:N.email,onChange:k=>me("email",k.target.value),className:`${B("email")} ${v.email?"error":""}`,placeholder:"Enter email address"}),v.email&&s.jsx("span",{className:"order-tracker-error",children:v.email})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Sourced By"}),s.jsx("input",{type:"text",value:N.sourcedBy,onChange:k=>me("sourcedBy",k.target.value),className:B("sourcedBy"),placeholder:"Enter sourced by"})]})]})]}),s.jsxs("div",{className:"order-tracker-form-section",children:[s.jsx("h3",{children:"💰 Financial Information"}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"PO Amount"}),s.jsx("input",{type:"number",step:"0.01",value:N.poAmount,onChange:k=>me("poAmount",k.target.value),className:B("poAmount"),placeholder:"Enter PO amount"})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Payment Plan (Fakheem)"}),s.jsxs("select",{value:N.paymentPlanFakheem,onChange:k=>me("paymentPlanFakheem",k.target.value),className:B("paymentPlanFakheem"),children:[s.jsx("option",{value:"",children:"Select Payment Plan"}),L.paymentPlanFakheem.map((k,G)=>s.jsx("option",{value:k,children:k},G))]})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Payment Approval (Initial Akmal)"}),s.jsxs("select",{value:N.paymentApprovalAkmal,onChange:k=>me("paymentApprovalAkmal",k.target.value),className:B("paymentApprovalAkmal"),children:[s.jsx("option",{value:"",children:"Select Payment Approval"}),L.paymentApprovalAkmal.map((k,G)=>s.jsx("option",{value:k,children:k},G))]})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"QMS Cost"}),s.jsx("input",{type:"number",step:"0.01",value:N.qmsCost,onChange:k=>me("qmsCost",k.target.value),className:B("qmsCost"),placeholder:"Enter QMS cost"})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Profit"}),s.jsx("input",{type:"number",step:"0.01",value:N.profit,onChange:k=>me("profit",k.target.value),className:B("profit"),placeholder:"Enter profit"})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Payment Method"}),s.jsxs("select",{value:N.paymentMethod,onChange:k=>me("paymentMethod",k.target.value),className:B("paymentMethod"),children:[s.jsx("option",{value:"",children:"Select Payment Method"}),L.paymentMethod.map((k,G)=>s.jsx("option",{value:k,children:k},G))]})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"QMS Invoice Date"}),s.jsx("input",{type:"date",value:N.qmsInvoiceDate,onChange:k=>me("qmsInvoiceDate",k.target.value),className:B("qmsInvoiceDate")})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Expected Return Date"}),s.jsx("input",{type:"date",value:N.expectedReturnDate,onChange:k=>me("expectedReturnDate",k.target.value),className:B("expectedReturnDate")})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Customer Payment Mode"}),s.jsxs("select",{value:N.customerPaymentMode,onChange:k=>me("customerPaymentMode",k.target.value),className:B("customerPaymentMode"),children:[s.jsx("option",{value:"",children:"Select Customer Payment Mode"}),L.customerPaymentMode.map((k,G)=>s.jsx("option",{value:k,children:k},G))]})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Credit / Debit"}),s.jsx("input",{type:"text",value:N.creditDebit,onChange:k=>me("creditDebit",k.target.value),className:B("creditDebit"),placeholder:"Enter credit or debit"})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Credit Notes"}),s.jsx("input",{type:"text",value:N.creditNotes,onChange:k=>me("creditNotes",k.target.value),className:B("creditNotes"),placeholder:"Enter credit notes"})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Gross Profit (GP) Totaling"}),s.jsx("input",{type:"number",step:"0.01",value:N.grossProfitTotaling,onChange:k=>me("grossProfitTotaling",k.target.value),className:B("grossProfitTotaling"),placeholder:"Enter gross profit totaling"})]})]}),s.jsxs("div",{className:"order-tracker-form-row",children:[s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Net Profit From PO's"}),s.jsx("input",{type:"number",step:"0.01",value:N.netProfitFromPOs,onChange:k=>me("netProfitFromPOs",k.target.value),className:B("netProfitFromPOs"),placeholder:"Enter net profit from PO's"})]}),s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Transaction Completion Time (Days)"}),s.jsx("input",{type:"number",value:N.transactionCompletionDays,onChange:k=>me("transactionCompletionDays",k.target.value),className:B("transactionCompletionDays"),placeholder:"Enter completion days"})]})]})]}),s.jsxs("div",{className:"order-tracker-form-section",children:[s.jsx("h3",{children:"📎 Attachments"}),(y||N.qmsId)&&s.jsxs("div",{style:{background:"#f0f9ff",border:"1px solid #0ea5e9",padding:"8px 12px",borderRadius:"4px",fontSize:"0.8rem",marginBottom:"12px"},children:[s.jsx("strong",{children:"📋 QMS ID:"}),' "',N.qmsId||(y==null?void 0:y.qmsId)||"EMPTY",'"',p.length>0&&` | 📎 ${p.length} attachments loaded`]}),s.jsx("div",{className:"order-tracker-form-row",children:s.jsxs("div",{className:"order-tracker-form-group full-width",children:[N.qmsId||y!=null&&y.qmsId?s.jsxs("div",{className:`order-tracker-upload-area ${j?"dragging":""}`,onDragOver:$,onDragLeave:Z,onDrop:le,onClick:()=>{var k;return(k=R.current)==null?void 0:k.click()},children:[s.jsx("div",{className:"order-tracker-upload-icon",children:"📎"}),s.jsx("div",{className:"order-tracker-upload-text",children:"Drag & drop files here or click to browse"}),s.jsx("div",{className:"order-tracker-upload-subtext",children:"Supported: PDF, Excel, Word, Images (max 10MB each)"}),s.jsx("button",{type:"button",className:"order-tracker-browse-btn",onClick:k=>{var G;k.stopPropagation(),(G=R.current)==null||G.click()},children:"Browse Files"})]}):s.jsxs("div",{className:"order-tracker-upload-disabled",children:[s.jsx("div",{className:"order-tracker-upload-icon",style:{opacity:.5},children:"📎"}),s.jsx("div",{className:"order-tracker-upload-text",style:{color:"#6b7280"},children:"Please enter a QMS ID first to upload files"})]}),s.jsx("input",{ref:R,type:"file",multiple:!0,accept:".pdf,.xlsx,.xls,.docx,.doc,.jpg,.jpeg,.png,.gif",onChange:ge,style:{display:"none"}})]})}),p.length>0&&s.jsx("div",{className:"order-tracker-form-row",children:s.jsxs("div",{className:"order-tracker-form-group full-width",children:[s.jsxs("label",{children:["Uploaded Files (",p.length,"):"]}),s.jsx("div",{className:"order-tracker-attachments-list",children:p.map(k=>s.jsxs("div",{className:"order-tracker-attachment-item",children:[s.jsxs("div",{className:"order-tracker-attachment-info",children:[s.jsx("span",{className:"order-tracker-file-icon",children:ee(k.fileType)}),s.jsxs("div",{className:"order-tracker-file-details",children:[s.jsx("span",{className:"order-tracker-file-name",children:k.fileName}),s.jsx("span",{className:"order-tracker-file-size",children:K(k.fileSize)})]})]}),s.jsxs("div",{className:"order-tracker-attachment-actions",children:[s.jsx("button",{onClick:()=>H(k.id),className:"order-tracker-attachment-view-btn",title:"View File",children:"👁️"}),s.jsx("button",{onClick:()=>Y(k.id,k.fileName),className:"order-tracker-attachment-download-btn",title:"Download File",children:"📥"}),s.jsx("button",{onClick:()=>Ne(k.id),className:"order-tracker-attachment-delete-btn",title:"Delete File",children:"🗑️"})]})]},k.id))}),s.jsxs("div",{className:"order-tracker-attachments-summary",children:[s.jsxs("span",{children:["Total: ",p.length," files"]}),s.jsxs("span",{children:["Size: ",K(p.reduce((k,G)=>k+G.fileSize,0))]})]})]})})]}),s.jsxs("div",{className:"order-tracker-form-section",children:[s.jsx("h3",{children:"📊 Status & Tracking"}),s.jsx("div",{className:"order-tracker-form-row",children:s.jsxs("div",{className:"order-tracker-form-group",children:[s.jsx("label",{children:"Status"}),s.jsx("select",{value:N.status,onChange:k=>me("status",k.target.value),className:B("status"),children:D.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))})]})}),s.jsx("div",{className:"order-tracker-form-row",children:s.jsxs("div",{className:"order-tracker-form-group full-width",children:[s.jsx("label",{children:"Notes"}),s.jsx("textarea",{value:N.notes,onChange:k=>me("notes",k.target.value),className:"order-tracker-form-textarea",placeholder:"Enter notes...",rows:"4"})]})}),s.jsx("div",{className:"order-tracker-form-row",children:s.jsxs("div",{className:"order-tracker-form-group full-width",children:[s.jsx("label",{children:"Fareed Bhai / Akmal Comments"}),s.jsx("textarea",{value:N.fareedAkmalComments,onChange:k=>me("fareedAkmalComments",k.target.value),className:"order-tracker-form-textarea",placeholder:"Enter comments...",rows:"4"})]})})]})]})}),s.jsxs("div",{className:"order-tracker-modal-footer",children:[s.jsx("button",{className:"order-tracker-cancel-btn",onClick:gt,children:"Cancel"}),s.jsx("button",{className:"order-tracker-save-btn",onClick:dt,children:y?"Update Order":"Add Order"})]})]})})]})},wb=()=>{const[e,t]=w.useState("main"),n="2025-08-01 20:56:35",r="Mike469-a11y",a=()=>{t("credit")},i=()=>{t("orders")},l=()=>{t("main")};return e==="main"?s.jsxs("div",{className:"execution-container",children:[s.jsxs("div",{className:"execution-header",children:[s.jsxs("div",{className:"execution-header-left",children:[s.jsx("h1",{children:"⚡ Execution Dashboard"}),s.jsx("p",{children:"Financial tracking and order management system"})]}),s.jsx("div",{className:"execution-header-right",children:s.jsxs("div",{className:"execution-user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:r})]}),s.jsx("span",{className:"execution-current-time",children:n})]})})]}),s.jsxs("div",{className:"execution-main-content",children:[s.jsxs("div",{className:"execution-sections-grid",children:[s.jsxs("div",{className:"execution-section-card credit-section",onClick:a,children:[s.jsx("div",{className:"execution-section-icon",children:"💳"}),s.jsxs("div",{className:"execution-section-content",children:[s.jsx("h2",{children:"Credit & Balance Overview"}),s.jsx("p",{children:"Manage credit accounts, track balances, and monitor financial health"}),s.jsxs("div",{className:"execution-section-features",children:[s.jsx("span",{className:"execution-feature",children:"📊 Live Balance Tracking"}),s.jsx("span",{className:"execution-feature",children:"💰 Credit Calculations"}),s.jsx("span",{className:"execution-feature",children:"📈 Financial Overview"})]})]}),s.jsx("div",{className:"execution-section-arrow",children:"→"})]}),s.jsxs("div",{className:"execution-section-card orders-section",onClick:i,children:[s.jsx("div",{className:"execution-section-icon",children:"📋"}),s.jsxs("div",{className:"execution-section-content",children:[s.jsx("h2",{children:"Order Tracker"}),s.jsx("p",{children:"Track orders through 13 status stages from initial coordination to completion"}),s.jsxs("div",{className:"execution-section-features",children:[s.jsx("span",{className:"execution-feature",children:"🔍 Smart Search"}),s.jsx("span",{className:"execution-feature",children:"📊 Status Categories"}),s.jsx("span",{className:"execution-feature",children:"📈 Progress Tracking"})]})]}),s.jsx("div",{className:"execution-section-arrow",children:"→"})]})]}),s.jsxs("div",{className:"execution-quick-stats",children:[s.jsxs("div",{className:"execution-stat-card",children:[s.jsx("div",{className:"execution-stat-number",children:"0"}),s.jsx("div",{className:"execution-stat-label",children:"Active Orders"})]}),s.jsxs("div",{className:"execution-stat-card",children:[s.jsx("div",{className:"execution-stat-number",children:"$0.00"}),s.jsx("div",{className:"execution-stat-label",children:"Total Available"})]}),s.jsxs("div",{className:"execution-stat-card",children:[s.jsx("div",{className:"execution-stat-number",children:"0"}),s.jsx("div",{className:"execution-stat-label",children:"Completed Today"})]}),s.jsxs("div",{className:"execution-stat-card",children:[s.jsx("div",{className:"execution-stat-number",children:"0"}),s.jsx("div",{className:"execution-stat-label",children:"Pending Actions"})]})]})]})]}):e==="credit"?s.jsx(yb,{onBack:l,currentUser:r,currentDateTime:n}):e==="orders"?s.jsx(bb,{onBack:l,currentUser:r,currentDateTime:n}):null},Sb=()=>s.jsxs("div",{className:"order-complete-container",children:[s.jsxs("div",{className:"order-complete-header",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Order Complete"}),s.jsx("p",{children:"Track completed orders and finalizations"})]}),s.jsxs("div",{className:"user-info",children:[s.jsxs("span",{children:["Current User: ",s.jsx("strong",{children:"MFakheem"})]}),s.jsxs("span",{children:["Date: ",s.jsxs("strong",{children:["2025-07-25 23:17:32"," UTC"]})]})]})]}),s.jsx("div",{className:"order-complete-content",children:s.jsxs("div",{className:"blank-state",children:[s.jsx("h3",{children:"Order Complete Module"}),s.jsx("p",{children:"This page is ready for order completion functionality implementation."})]})})]}),Ym=()=>{const e=Ds(),t=()=>{e(-1)};return s.jsx("div",{className:"not-found-container",children:s.jsxs("div",{className:"not-found-content",children:[s.jsx("h1",{className:"not-found-title",children:"404"}),s.jsx("h2",{className:"not-found-subtitle",children:"Page Not Found"}),s.jsx("p",{className:"not-found-description",children:"The page you're looking for doesn't exist or may have been moved."}),s.jsxs("div",{className:"not-found-actions",children:[s.jsx(nb,{to:"/",className:"not-found-button primary",children:"Go Home"}),s.jsx("button",{onClick:t,className:"not-found-button secondary",children:"Go Back"})]})]})})},kb=qy([{path:"/",element:s.jsx(ib,{}),errorElement:s.jsx(Ym,{}),children:[{index:!0,element:s.jsx(Hm,{})},{path:"qms",element:s.jsx(Hm,{})},{path:"qms/:id",element:s.jsx(ob,{})},{path:"assignment",element:s.jsx(lb,{})},{path:"approval",element:s.jsx(hb,{})},{path:"submitted-data",element:s.jsx(pb,{})},{path:"sourcing",element:s.jsx(vb,{})},{path:"sourcing/:id",element:s.jsx(jb,{})},{path:"submission",element:s.jsx(Nb,{})},{path:"execution",element:s.jsx(wb,{})},{path:"order-complete",element:s.jsx(Sb,{})},{path:"admin",element:s.jsx(cb,{})},{path:"admin/usermanagement",element:s.jsx(db,{})},{path:"admin/usermanagement/add",element:s.jsx(lv,{})},{path:"admin/tracking-performance",element:s.jsx(ub,{})}]},{path:"*",element:s.jsx(Ym,{})}]);function Cb(){return Ec(e=>e.user.currentUser),s.jsx(Xy,{router:kb})}class Eb extends kl.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?s.jsxs("div",{className:"error-boundary",children:[s.jsx("h2",{children:"Oops! Something went wrong"}),s.jsxs("div",{className:"error-details",children:[s.jsx("p",{children:"We apologize for the inconvenience. Please try refreshing the page."}),!1,s.jsx("button",{onClick:()=>window.location.reload(),className:"error-refresh-button",children:"Refresh Page"})]})]}):this.props.children}}Lo.createRoot(document.getElementById("root")).render(s.jsx(kl.StrictMode,{children:s.jsx(Eb,{children:s.jsx(tj,{store:NN,children:s.jsx(Tj,{client:yN,children:s.jsx(Cb,{})})})})}));
//# sourceMappingURL=index-6DLSRsFX.js.map
